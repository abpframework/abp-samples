module.exports=function(e){function i(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}var t={};return i.m=e,i.c=t,i.p="",i(0)}({0:function(e,i,t){t(1632),e.exports=t(1632)},3:function(e,i){e.exports=function(){throw Error("define cannot be used indirect")}},1051:function(e,i){e.exports=require("../kendo.upload")},1632:function(e,i,t){var r,o,n;!function(a,define){o=[t(1051)],r=a,n="function"==typeof r?r.apply(i,o):r,!(void 0!==n&&(e.exports=n))}(function(){return function(e,i){var t=window.kendo,r=e.proxy,o=e.extend,n=JSON.parse,a=t.ui.progress,s=t.Class,l="open",c="zoomStart",h="zoomEnd",d=s.extend({init:function(e){this.options=e,this.viewer=e.viewer,this.errorMessages=this.viewer.options.messages.errorMessages}}),p=d.extend({init:function(e){d.fn.init.call(this,e),this.upload=this.viewer.processor.upload},exec:function(){(this.viewer._upload||this._initUpload()).element.click()},_initUpload:function(){var i,t={select:r(this._onSelect,this),success:r(this._onSuccess,this),error:r(this._onError,this),complete:r(this._onComplete,this),showFileList:!1,multiple:!1,validation:{allowedExtensions:[".pdf"]}};return this.upload&&o(t,{async:{saveUrl:this.upload.url,autoUpload:!0,saveField:this.upload.saveField}}),i=e('<input name="files" accept=".pdf" type="file" />').kendoUpload(t).getKendoUpload(),this.viewer._upload=i,i},_onComplete:function(){a(this.viewer.pageContainer,!1)},_onSuccess:function(i){var t=n(i.response);e.isPlainObject(t)?this.viewer.processor.fromJSON(t):this.viewer._triggerError({error:t,message:this.errorMessages.parseError})},_onError:function(e){this.viewer._triggerError({error:e.XMLHttpRequest.responseText,message:this.errorMessages.notSupported})},_onSelect:function(e){var t,r=this,o=e.files[0];if(a(r.viewer.pageContainer,!0),!r.viewer.trigger(l,{file:o})&&!r.upload){if(".pdf"!==o.extension.toLowerCase())return r.viewer._triggerError({error:o,message:r.errorMessages.notSupported}),i;t=new FileReader,t.onload=function(e){var i=e.target.result;r.viewer.fromFile(i)},t.onerror=function(){r.viewer._triggerError({error:o,message:r.errorMessages.parseError})},t.readAsArrayBuffer(o.rawFile)}}}),g=d.extend({exec:function(){var e=this.options.value;this.viewer.activatePage(e)}}),u=d.extend({exec:function(){if(!this.viewer.document)return this.viewer._triggerError({message:this.errorMessages.notFound}),i;var e=this.viewer.document.info&&this.viewer.document.info.title||this.viewer.options.messages.defaultFileName;this.viewer.processor.downloadFile(e)}}),v=d.extend({init:function(i){i=e.extend(i,this.options),d.fn.init.call(this,i)},exec:function(){var e=this.viewer._saveDialog||this._initDialog();e._updateModel({pagesCount:this.viewer.document&&this.viewer.document.total||1,page:this.viewer.options.page}),e.open()},apply:function(e){var i=e.extension;".png"===i?this.viewer.exportImage(e):".svg"===i&&this.viewer.exportSVG(e)},_initDialog:function(){return this.viewer._saveDialog=new t.pdfviewer.dialogs.ExportAsDialog({apply:this.apply.bind(this),pagesCount:this.viewer.document&&this.viewer.document.total||1,messages:this.viewer.options.messages})}}),f=d.extend({exec:function(){var e=this,i=e.viewer;i._toggleSelection(!0)}}),m=d.extend({exec:function(){var e=this,i=e.viewer;i._toggleSelection(!1)}}),w=d.extend({init:function(e){var i=this;i.viewer=e.viewer,i.viewer.searchDialog||(i.viewer.searchDialog=new t.pdfviewer.dialogs.SearchDialog({position:{top:i.viewer.pageContainer.offset().top,left:i.viewer.pageContainer.offset().left},messages:i.viewer.options.messages.dialogs.search,open:r(i._open,i),next:r(i._next,i),prev:r(i._prev,i),close:r(i._close,i)})),d.fn.init.call(i,e)},exec:function(){var e=this;e.viewer.searchDialog.open()},_open:function(){var e=this;e.changeHandler=r(e._change,e),e.zoomStartHandler=r(e._closeDialog,e),e.openFileHandler=r(e._closeDialog,e),e.viewer._searchDOM||(e.viewer._initSearchDOM(),e.viewer.searchDialog.searchModel.bind("change",e.changeHandler),e.viewer.bind("zoomStart",e.zoomStartHandler),e.viewer.bind("open",e.openFileHandler))},_close:function(){var e=this,i=e.viewer._searchDOM;e.viewer.searchDialog.searchModel.unbind("change",e.changeHandler),e.viewer.unbind("zoomStart",e.zoomStartHandler),e.viewer.unbind("open",e.openFileHandler),i.destroy(),delete e.viewer._searchDOM,e._updateSearchModel()},_change:function(e){var i=this,t=i.viewer._searchDOM,r=e.field,o=i.viewer.searchDialog.searchModel,n=o[r];if(t)switch(r){case"searchText":t.search(n,o.matchCase),i._updateSearchModel();break;case"matchCase":t.search(o.searchText,n),i._updateSearchModel()}},_next:function(){var e=this,i=e.viewer._searchDOM;i.matches&&i.matches.length&&(i.nextMatch(),e._updateSearchModel())},_prev:function(){var e=this,i=e.viewer._searchDOM;i.matches&&i.matches.length&&(i.previousMatch(),e._updateSearchModel())},_updateSearchModel:function(){var e=this,i=e.viewer._searchDOM,t=e.viewer.searchDialog.searchModel;i?(t.set("matches",i.matches.length),t.set("matchIndex",i.getMarkedIndex()),e._scrollToMark()):(t.set("searchText",""),t.set("matches",0),t.set("matchIndex",0),t.set("matchCase",!1))},_scrollToMark:function(){var e,i=this,t=i.viewer._searchDOM,r=t.getFirstMarked(),o=i.viewer._scroller;r.length&&(e=r.offset().top-o.scrollElement.offset().top-100,o.scrollTo(o.scrollLeft,e*-1))},_closeDialog:function(){var e=this;e.viewer.searchDialog.dialog.close()}}),_=d.extend({exec:function(){var e,i=this,t=i.options,r=i.viewer,o=t.scale,n=0,a=i.viewer._pageNum,s=r.pageContainer[0].clientHeight,l=1,c=[];"dpl"!==r.processingLib&&(o=i._calculateZoom(),e=function(){var e=i.viewer._scroller,t=r._scrollingStarted;e&&e.scrollTop>e.scrollHeight()&&e._resize(),t||(r.activatePage(a),r._scrollingStarted=!1)},o&&(r.zoomScale=o,r._scrollingStarted=!1,r.pages&&(r.pages.forEach(function(e){var i;r._visiblePages.indexOf(e)!==-1&&e.loaded?(c.push(e.render(o)),i=e._page.getViewport({scale:o}).height):(e.resize(o),i=e.element.height()),n+=i,n<=s&&l++}),r._visiblePagesCount!=l&&(r._visiblePagesCount=l,r._loadVisiblePages())),Promise.all(c).then(function(){e(),i._triggerZoomEnd(o)})["catch"](function(){e(),i._triggerZoomEnd(o)})))},_calculateZoom:function(){var e,i=this.options,t=this.viewer,r=t.options,o=t.pageContainer,n=t._visiblePages&&t._visiblePages[0].canvas,a=i.scale,s=a;if(t._allowResize=!1,t._autoFit=!1,i.zoomIn?s=a=t.zoomScale+r.zoomRate:i.zoomOut?s=a=t.zoomScale-r.zoomRate:"auto"===a?(t._allowResize=!0,s=t._autoZoomScale):"actual"===a?s=1:"fitToWidth"===a?(t._allowResize=!0,t._autoFit="fitToWidth",s=o.width()/(n.width/t.zoomScale)):"fitToPage"===a&&(t._allowResize=!0,t._autoFit="fitToPage",s=o.height()/(n.height/t.zoomScale)),e=a<r.zoomMin||a>r.zoomMax,!e&&!t.trigger(c,{scale:a}))return i.updateComboBox&&t.toolbar&&t.toolbar._updateZoomComboBox(a),s},_triggerZoomEnd:function(e){var i=this,t=i.viewer;t.trigger(h,{scale:e})}}),x=d.extend({init:function(e){d.fn.init.call(this,e)},exec:function(){var e=this;return e.viewer.document?(a(e.viewer.pageContainer,!0),e._renderPrintContainer(),e._loadAllPages().then(r(e.processAfterRender,e)),i):(e.viewer._triggerError({message:this.errorMessages.notFound}),i)},_renderPrintContainer:function(){this.printContainer=e("<div></div>")},_loadAllPages:function(){function i(e){a.push(e._renderPromise)}var t,r=this,o=r.viewer.pages,n=[],a=[],s=e.Deferred();for(r._originalScale=r.viewer.zoom(),t=0;t<o.length;t++)n.push(o[t].load(3,!0).then(i));return Promise.all(n).then(function(){s.resolve(a)}),s},processAfterRender:function(e){var i=this;Promise.all(e).then(function(){i._renderPrintPages(),setTimeout(function(){i._printDocument(),i.viewer.zoom(i._originalScale),a(i.viewer.pageContainer,!1),delete i._originalScale},0)})},_renderPrintPages:function(){var e,i=this.viewer.pages;for(e=0;e<i.length;e++)this._renderPrintImage(i[e])},_renderPrintImage:function(i){var t=i.canvas,r=e("<div></div>"),o="<img src='"+t.toDataURL()+"' width='"+i.width+"px' height='"+i.height+"px' />";r.append(o),this.printContainer.append(r)},_printDocument:function(){var e=this,t=e.viewer.pages,r=t[0].width,o=t[0].height,n=window.open("","","innerWidth="+r+",innerHeight="+o+"location=no,titlebar=no,toolbar=no");return n?(n.document.write(e.printContainer.html()),n.document.close(),n.focus(),n.print(),n.close(),i):(e.viewer._triggerError({message:e.errorMessages.popupBlocked}),i)}});o(t.pdfviewer,{OpenCommand:p,PageChangeCommand:g,DownloadCommand:u,EnableSelectionCommand:f,EnablePanCommand:m,ExportCommand:v,PrintCommand:x,OpenSearchCommand:w,ZoomCommand:_})}(window.kendo.jQuery),window.kendo},t(3))}});