/**
* DevExpress Analytics (dist\js\dx-querybuilder.min.js)
* Version:  21.2.3
* Build date: Oct 28, 2021
* Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED
* License: https://www.devexpress.com/Support/EULAs/universal.xml
*/
!function(r){var o={};function i(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=r,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=174)}([function(e,t){e.exports=DevExpress.Analytics.Internal},function(e,t){e.exports=DevExpress.Analytics.Utils},function(e,t){e.exports=ko},function(e,t){e.exports=jQuery},function(e,t){e.exports=DevExpress.Analytics.Elements},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataSourceWizardPageId={ChooseDataSourceTypePage:"chooseDataSourceTypePage",ConfigureMasterDetailRelationshipsPage:"configureMasterDetailRelationshipsPage"},t.SqlDataSourceWizardPageId={ChooseConnectionPage:"chooseSqlConnectionPage",ConfigureQueryPage:"configureSqlQueryPage",ConfigureParametersPage:"configureSqlParametersPage",MultiQueryConfigurePage:"multiSqlQueryConfigurePage",MultiQueryConfigureParametersPage:"multiSqlQueryConfigureParametersPage"},t.JsonDataSourceWizardPageId={ChooseJsonSourcePage:"chooseJsonSourcePage",ChooseJsonSchemaPage:"chooseJsonSchemaPage",ChooseConnectionPage:"chooseJsonConnectionPage",SpecifyJsonConnectionPage:"specifyJsonConnectionPage"},t.ObjectDataSourceWizardPageId={ChooseTypesPage:"chooseObjectDataSourceTypesPage",ChooseDataMembersPage:"chooseObjectDataSourceDataMembersPage",ConfigureParametersPage:"configureObjectDataSourceParametersPage"},t.FullscreenDataSourceWizardPageId={ChooseDataSourceTypePage:t.DataSourceWizardPageId.ChooseDataSourceTypePage,SpecifySqlDataSourceSettingsPage:"specifySqlDataSourceSettingsPage",SpecifyJsonDataSourceSettingsPage:"specifyJsonDataSourceSettingsPage",SpecifyObjectDataSourceSettingsPage:"specifyObjectDataSourceSettingsPage"},t.FullscreenDataSourceWizardSectionId={SpecifyJsonConnectionPage:t.JsonDataSourceWizardPageId.SpecifyJsonConnectionPage,ChooseJsonSchemaPage:t.JsonDataSourceWizardPageId.ChooseJsonSchemaPage,ChooseJsonSourcePage:t.JsonDataSourceWizardPageId.ChooseJsonSourcePage,ChooseSqlConnectionPage:t.SqlDataSourceWizardPageId.ChooseConnectionPage,ConfigureQueryPage:t.SqlDataSourceWizardPageId.MultiQueryConfigurePage,ConfigureQueryParametersPage:t.SqlDataSourceWizardPageId.MultiQueryConfigureParametersPage,ConfigureMasterDetailRelationshipsPage:t.DataSourceWizardPageId.ConfigureMasterDetailRelationshipsPage}},function(e,t){e.exports=DevExpress.Analytics.Widgets},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(3),s=r(1),c=(a=s.Disposable,i(d,a),d.prototype.dispose=function(){a.prototype.dispose.call(this),this._onChange=function(){}},d.prototype.commit=function(){return n.Deferred().resolve().promise()},d.prototype.onChange=function(e){this._onChange=e},d.prototype.initialize=function(e,t){return n.Deferred().resolve().promise()},d.prototype.canNext=function(){return!0},d.prototype.canFinish=function(){return!1},d);function d(){var e=null!==a&&a.apply(this,arguments)||this;return e.changeAlways=!1,e._onChange=function(){},e}t.WizardPageBase=c;var l,i=(l=s.Disposable,i(u,l),u.prototype.dispose=function(){this.onChange=null,this[p.BaseWizard.__loadingStateFunctionName]=null,this.page.dispose(),this._initDef&&this._initDef.reject(),this._initDef=null},u.prototype.resetCommitedState=function(){this._lastCommitedState=null},u.prototype.commit=function(){var t=this;return this.page.commit().done(function(e){t.isChanged=JSON.stringify(t._lastCommitedState)!==JSON.stringify(e),t._lastCommitedState=e})},u.prototype.initialize=function(e,t,r){var o=this;return void 0===t&&(t=!1),void 0===r&&(r=!1),this._initDef&&this._initDef.reject(),this._initDef=n.Deferred(),!this._isInitialized||t?(this._isInitialized=!0,this.page.initialize(e,r).fail(function(){o._isInitialized=!1,o._initDef&&o._initDef.reject()}).done(function(e){o._initDef&&o._initDef.resolve(e)})):this._initDef.resolve(),this._initDef.promise()},u);function u(e,t,r,o){var i=l.call(this)||this;return i.pageId=e,i.page=t,i.template=r,i.description=o,i._isInitialized=!1,i._initDef=null,i.isChanged=!0,t.onChange&&(i.onChange=function(e){return t.onChange(e)}),i}t._WrappedWizardPage=i;var p=r(14)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=r(70),a=r(1),n=r(16),r=(s.prototype.sendRequest=function(e,t){return o.ajax(i.HandlerUri(),e,t)},s.prototype._sendRequest=function(e){return o.ajax(e)},s.prototype.getDbSchema=function(e,t){e={connectionJSON:n.serializeDataConnection(e),tables:null,views:null};return t&&0<t.length&&(e.tables=(t||[]).filter(function(e){return!e.isView}).map(function(e){return e.name}),e.views=(t||[]).filter(function(e){return e.isView}).map(function(e){return e.name})),this.sendRequest("getDBSchema",encodeURIComponent(JSON.stringify(e)))},s.prototype.getDbStoredProcedures=function(e){e=JSON.stringify({connectionJSON:n.serializeDataConnection(e)});return this.sendRequest("getDBStoredProcedures",encodeURIComponent(e))},s.prototype.getSelectStatement=function(e,t){t=JSON.stringify({connectionJSON:n.serializeDataConnection(e),sqlQueryJSON:t});return this.sendRequest("getSelectStatement",encodeURIComponent(t))},s.prototype.getDataPreview=function(e,t){t=JSON.stringify({connectionJSON:n.serializeDataConnection(e),sqlQueryJSON:t});return this.sendRequest("getDataPreview",encodeURIComponent(t))},s.prototype.rebuildResultSchema=function(e,t,r){void 0===r&&(r=!1);r=JSON.stringify({sqlDataSourceJSON:JSON.stringify({SqlDataSource:(new a.ModelSerializer).serialize(e)}),queryName:t,relationsEditing:r});return this.sendRequest("rebuildResultSchema",encodeURIComponent(r))},s.prototype.validateJsonUri=function(e){e=JSON.stringify(e.source.serialize(!0)),e=JSON.stringify({uriJsonSourceJSON:e}),e={uri:i.HandlerUri(),action:"validateJsonEndPoint",arg:encodeURIComponent(e),ignoreError:function(){return!0}};return this._sendRequest(e)},s.prototype.saveJsonSource=function(e,t){var r=t.source,t=JSON.stringify(r.serialize(!0)),t=JSON.stringify({connectionName:e,customJson:r.json(),uriJsonSourceJSON:t});return this.sendRequest("saveJsonSource",encodeURIComponent(t))},s.prototype.getJsonSchema=function(e,t){var r=e.source,o=JSON.stringify(r.serialize(!0)),t=JSON.stringify({connectionName:e.connectionName(),customJson:r.json(),uriJsonSourceJSON:o,parameters:t});return this.sendRequest("getJsonSchema",encodeURIComponent(t))},s.prototype.getObjectTypeDescriptions=function(e){return this.sendRequest("getObjectSchema",e)},s);function s(){}t.RequestWrapper=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SqlQueryType={customSqlQuery:"CustomSqlQuery",tableQuery:"SelectQuery",storedProcQuery:"StoredProcQuery"},t.JsonSourceType={fileJsonSource:"FileJsonSource",customJsonSource:"CustomJsonSource",uriJsonSource:"UriJsonSource"}},function(e,t){e.exports=DevExpress.Analytics.Widgets.Internal},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(0),s=r(0),c=r(18),d=r(0),l=r(1),u=r(0),p=r(33),f=r(111),m=r(1),h=r(0);function y(e,t,r){return n.integerValueConverter(e,t,r)}function g(e,t,r){return n.floatValueConverter(e,t,r)}function _(e){if(e instanceof Date){var t=function(e){return(e<10?"0":"")+e};return s.formatUnicorn("#{0}/{1}/{2} {3}:{4}#",t(e.getMonth()+1),t(e.getDate()),e.getFullYear(),t(e.getHours()),t(e.getMinutes()))}return(e||"").toString()}var v=(Object.defineProperty(b.prototype,"specifics",{get:function(){return c.DBColumn.GetSpecific(this.realTypeName||this.name)},enumerable:!0,configurable:!0}),b);function b(e,t,r,o){var i=this;this.name=e,this.defaultValue=t,this.realTypeName=o,r&&(this.valueConverter=function(e){return r(e,t,i.name)})}var S,r=function(e){var t;try{t=d.parseDate(e)}catch(e){t=P()}return t},P=function(){var e=new Date;return e.setHours(0,0,0,0),e},v=(S=l.Disposable,i(x,S),x._getTypeValue=function(t,e){void 0===e&&(e=null);var r=x._typeValues.filter(function(e){return e.name===t});return 0<r.length?(e&&u.IsDataAccessExpression(t)&&(r[0].realTypeName=e),r[0]):{name:t,defaultValue:null,specifics:"String",disableEditor:!0}},x.prototype._getTypeValue=function(e){return x._getTypeValue(e,this.resultType())},x.prototype._tryConvertValue=function(e,t){if(!x._isValueValid(e))return t.defaultValue;e=(t.valueConverter||function(e){return e})(e);return x._isValueValid(e)?e:t.defaultValue},x._isValueValid=function(e){return null!=e&&!isNaN("string"==typeof e?"":e)},x.prototype.getEditorType=function(e){return u.getEditorType(e)},x.prototype._updateValueInfo=function(e){var t=this,r=this._getTypeValue(e),o=this._tryConvertValue(this._value(),r),e=this._expressionValue.peek();this._expressionValue(null),this._value(null),this._valueInfo(h.extend({},p.parameterValueSerializationsInfo,{editor:this.getEditorType(r.name),disabled:!0===r.disableEditor,editorOptions:{onFocusOut:function(e){t.isValid(e.component.option("isValid"))}}})),this._expressionValue(e),this._value(o)},Object.defineProperty(x.prototype,"specifics",{get:function(){var t=u.IsDataAccessExpression(this.type.peek())?this.resultType():this.type(),e=x._typeValues.filter(function(e){return e.name===t});return 0<e.length?e[0].specifics:"string"},enumerable:!0,configurable:!0}),x.validateName=function(e){return e&&!e.match(/[~`!"№;%\^:\?*\(\)&\-\+={}\[\]\|\\\/,\.<>'\s]/)},x.prototype.getInfo=function(){if(this.type){var e=h.extend(!0,[],this._serializationsInfo);return e.splice(e.indexOf(e.filter(function(e){return"value"===e.propertyName})[0]),1,this._valueInfo()),e}return this._serializationsInfo},x.prototype.isPropertyVisible=function(e){return"resultType"!==e||u.IsDataAccessExpression(this.type())},x._typeValues=[new v("System.DateTime",P(),r),new v("System.String",""),new v("System.SByte","0",y),new v("System.Int16","0",y),new v("System.Int32","0",y),new v("System.Int64","0",y),new v("System.Byte","0",y),new v("System.UInt16","0",y),new v("System.UInt32","0",y),new v("System.UInt64","0",y),new v("System.Decimal","0",g),new v("System.Double","0",g),new v("System.Single","0",g),new v("System.Boolean",!1,function(e){return void 0!==e?"true"===String(e).toLowerCase():e}),new v("System.Guid","00000000-0000-0000-0000-000000000000"),new v(u.ExpressionType,"",_),new v("System.Char","")],x);function x(e,t,r){void 0===r&&(r=p.dsParameterSerializationInfo);var o=S.call(this)||this;return o._serializationsInfo=r,o._valueInfo=a.observable(p.parameterValueSerializationsInfo),o._parametersFunctions=f.expressionFunctions,o.isValid=a.observable(!0),(t=t||new m.ModelSerializer).deserialize(o,h.extend(e,{"@ItemType":"Parameter"})),o.name=a.pureComputed({read:function(){return o._name()},write:function(e){x.validateName(e)&&o._name(e)}}),o._expressionValue=a.observable({value:o._value,functions:o._parametersFunctions}),o._disposables.push(o.type.subscribe(function(e){u.IsDataAccessExpression(e)?o.resultType(o._previousResultType):(o.resultType(null),o._previousResultType=e),o._updateValueInfo(e)})),o._previousResultType=u.IsDataAccessExpression(o.type.peek())?o.resultType():o.type(),o.value=a.pureComputed({read:function(){return u.IsDataAccessExpression(o.type())?o._expressionValue():o._value()},write:function(e){o._value(e)}}),o._updateValueInfo(o.type.peek()),o}t.DataSourceParameter=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function o(e,t,r){var o,i=new n._SqlDataSourceWrapper(e.sqlDataSourceJSON,e.queryName,t);e.name&&i.sqlDataSource.connection.name(e.name);var a=new s.ModelSerializer;return e.customQueries&&0<e.customQueries.length&&(i.customQueries=e.customQueries.map(function(e){return i.sqlDataSource.createQuery(JSON.parse(e),a)}),(o=i.sqlDataSource.queries).push.apply(o,i.customQueries)),e.relations&&0<e.relations.length&&(o=i.sqlDataSource.relations).push.apply(o,e.relations.map(function(e){return new c.MasterDetailRelation(JSON.parse(e),a)})),i.sqlDataSource.id=r||d.guid().replace(/-/g,""),i}var i=r(36),n=r(24),s=r(1),c=r(51),d=r(0),a=r(50),l=r(23);t._restoreSqlDataSourceFromState=o,t._setRestoreSqlDataSourceFromState=function(e){return t._restoreSqlDataSourceFromState=e},t._resetRestoreSqlDataSourceFromState=function(){return t._restoreSqlDataSourceFromState=o};function u(e,t,r){return t=new a.JsonDataSource({Source:e.jsonSource&&JSON.parse(e.jsonSource)||{},Schema:e.jsonScheme&&JSON.parse(e.jsonScheme)||{},"@RootElement":e.rootElement||""},void 0,t),e.connectionName&&t.connectionName(e.connectionName),e.dataSourceName&&t.name(e.dataSourceName),t.id=r||d.guid().replace(/-/g,""),t}t._restoreJsonDataSourceFromState=u,t._setRestoreJsonDataSourceFromState=function(e){t._restoreJsonDataSourceFromState=e},t._resetRestoreJsonDataSourceFromState=function(){t._restoreJsonDataSourceFromState=u},t._restoreObjectDataSourceFromState=function(e,t,r){var o=new l.ObjectDataSource;return o.setState(e),r&&(o.id=r),o},t._createDefaultDataSourceWizardState=function(e,t,r){return{dataSourceType:i.DataSourceType.Sql,jsonDataSourceWizard:t=void 0===t?{jsonSource:""}:t,sqlDataSourceWizard:e=void 0===e?{}:e,objectDataSourceWizard:r=void 0===r?{}:r,dataSourceId:d.guid().replace(/-/g,"")}}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(10),c=r(38),d=(a=s.TreeListItemViewModel,i(l,a),l.prototype.dispose=function(){a.prototype.dispose.call(this),this.queryName.dispose()},l.prototype._getTemplateName=function(){return this._getCustomizedTemplateName(!0)},l.prototype._getCustomizedTemplateName=function(e){return e?"dxd-custom-query-treelisitem":a.prototype._getTemplateName.call(this)},l);function l(){var t=null!==a&&a.apply(this,arguments)||this;return t.queryName=n.computed({read:function(){return t.data&&t.data.name},write:function(e){t.data&&t.data.name!==e&&(t.data.name=e,t.data._afterCheckToggled&&t.data._afterCheckToggled(t.data))}}),t.editingMode=n.observable(!1),t}t.CustomQueryTreeListItem=d;var u,i=(u=s.DefaultTreeListItemFactory,i(p,u),p.prototype.createItem=function(e,t,r,o,i){return"queries"===t[0]?new d(e,t,r,o,i):u.prototype.createItem.call(this,e,t,r,o,i)},p);function p(){return null!==u&&u.apply(this,arguments)||this}t.MultiQueryTreeListItemFactory=i,t.getSectionStyle=function(e,t,r){void 0===r&&(r=!0);var o="inherit",t="-"+(t=void 0===t?30:t)/2+"px";return e?{top:e===c.WizardSectionPosition.Left||e===c.WizardSectionPosition.Right||e===c.WizardSectionPosition.Top||e===c.WizardSectionPosition.TopLeft||e===c.WizardSectionPosition.TopRight?t:o,bottom:e===c.WizardSectionPosition.Left||e===c.WizardSectionPosition.Right||e===c.WizardSectionPosition.Bottom||e===c.WizardSectionPosition.BottomLeft||e===c.WizardSectionPosition.BottomRight?t:o,left:e===c.WizardSectionPosition.Top||e===c.WizardSectionPosition.Bottom||e===c.WizardSectionPosition.Left||e===c.WizardSectionPosition.TopLeft||e===c.WizardSectionPosition.BottomLeft?t:o,right:e===c.WizardSectionPosition.Top||e===c.WizardSectionPosition.Bottom||e===c.WizardSectionPosition.Right||e===c.WizardSectionPosition.TopRight||e===c.WizardSectionPosition.BottomRight?t:o,width:e===c.WizardSectionPosition.Top||e===c.WizardSectionPosition.Bottom?o:"50%",height:e===c.WizardSectionPosition.Left||e===c.WizardSectionPosition.Right?o:"50%",display:r?"block":"none"}:{top:t,bottom:t,left:t,right:t,width:o,height:o,display:r?"block":"none"}},t.subscribeArray=function(e,t,r){return e().forEach(function(e){return t(e,r)}),e.subscribe(function(e){e.forEach(function(e){"added"===e.status?t(e.value,r):"deleted"===e.status&&e.value.dispose&&e.value.dispose()}),r()},null,"arrayChange")},t.subscribeProperties=function(e,t){var r=[];return e.forEach(function(e){e&&e.subscribe&&r.push(e.subscribe(function(e){return t(e)}))}),r},t.subscribeObject=function(e,t,r){return t(e(),r),e.subscribe(function(e){t(e,r),r()})},t._createBeforeInitializePageEventArgs=function(e,t){return{page:e.page,pageId:e.pageId,wizard:t,state:t.stateManager.getPageState(e.pageId)}},t._createPageEventArgs=function(e,t){return{page:e.page,pageId:e.pageId,wizard:t}}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(1),c=r(76),d=r(37),l=r(1),u=r(13),i=(a=s.Disposable,i(p,a),p.prototype._createLoadingState=function(e){var t=this;e[p.__loadingStateFunctionName]||(e[p.__loadingStateFunctionName]=function(e){return t._loadingState(e)})},p.prototype._createNextAction=function(e){var t=this;e[p.__nextActionFunctionName]||(e[p.__nextActionFunctionName]=function(){return t.nextAction()})},p.prototype._loadingState=function(e){var t=this;e?(this._loadingTimeout&&clearTimeout(this._loadingTimeout),this._loadingTimeout=setTimeout(function(){t.isLoading(!0)},100)):(this._loadingTimeout&&clearTimeout(this._loadingTimeout),this.isLoading(!1))},p.prototype._callBeforeFinishHandler=function(e,t){this.events.call("beforeFinish",{state:e})},p.prototype._callAfterFinishHandler=function(e,t){this.events.call("afterFinish",{state:e})},p.prototype.onFinish=function(){this.iterator.dispose()},p.prototype.initialize=function(e,t){void 0===t&&(t=function(e,t){return new d.PageIterator(e,t)}),this.events.call("beforeInitialize",{wizard:this,state:e=void 0===e?{}:e}),this.stateManager=new c.StateManager(e,this.pageFactory),this.iterator=t(this.pageFactory,this.stateManager),this.events.call("afterInitialize",{wizard:this})},p.prototype.isFirstPage=function(){return this._currentPage()&&this._currentPage().pageId==this.iterator.getNextPageId()},p.prototype.canNext=function(){return!this.isLoading()&&this._currentPage()&&this.pageFactory.getMetadata(this._currentPage().pageId).canNext(this._currentPage().page)},p.prototype.canFinish=function(){return!this.isLoading()&&this._currentPage()&&this.pageFactory.getMetadata(this._currentPage().pageId).canFinish(this._currentPage().page)},p.prototype._initPage=function(e){return this.events.call("beforePageInitialize",u._createBeforeInitializePageEventArgs(e,this)),this._createLoadingState(e.page),this._createNextAction(e.page),e.initialize(this.stateManager.getPageState(e.pageId))},p.prototype.start=function(){var e=this;this.events.call("beforeStart",{wizard:this}),this._loadingState(!0);var t=this.iterator._getStartPage();this._initPage(t).done(function(){e._currentPage(t),e.events.call("afterPageInitialize",u._createPageEventArgs(t,e))}).always(function(){return e._loadingState(!1)}).fail(function(){e.isVisible(!1)})},p.prototype.canRunWizard=function(){return!0},p.prototype.nextAction=function(){var t,r,o=this;this.canNext()&&(t=this.iterator._getCurrentPage(),this._loadingState(!0),r=function(){return o.iterator._getPreviousPage().always(function(){o.iterator._resetPages(),o._loadingState(!1)})},t.commit().done(function(e){t.isChanged&&o.stateManager.setPageState(t.pageId,e),o.iterator._getNextPage().done(function(e){e?o._initPage(e).done(function(){o._currentPage(e),o.events.call("afterPageInitialize",u._createPageEventArgs(e,o)),o._loadingState(!1)}).fail(r):r()}).fail(function(){return o._loadingState(!1)})}).fail(function(){return o._loadingState(!1)}))},p.prototype.previousAction=function(){var t=this;this.isFirstPage()||(this._loadingState(!0),this.iterator._getPreviousPage().done(function(e){e&&t._currentPage(e)}).always(function(){return t._loadingState(!1)}))},p.prototype.goToPage=function(e){var t=this;this._loadingState(!0),this.iterator._goToPage(e).done(function(e){e&&t._currentPage(e)}).always(function(){return t._loadingState(!1)})},p.prototype.finishAction=function(){var r,o=this;this.canFinish()&&(this._loadingState(!0),(r=this.iterator._getCurrentPage()).commit().done(function(e){var t;o.stateManager.setPageState(r.pageId,e),o.iterator._resetPages(),o._finishCallback?(t=o.stateManager.getCurrentState(),o._callBeforeFinishHandler(t),o._finishCallback(t).done(function(e){o.onFinish(),o._callAfterFinishHandler(t,e),o.isVisible(!1)}).always(function(){o._loadingState(!1)})):(o._loadingState(!1),o.isVisible(!1))}))},p.__loadingStateFunctionName="__loadingState",p.__nextActionFunctionName="__nextAction",p);function p(e,t){var r=a.call(this)||this;return r.pageFactory=e,r.events=new l.EventManager,r._loadingTimeout=null,r.isLoading=n.observable(!1),r._currentPage=n.observable(),r.isVisible=n.observable(!1),r._finishCallback=t,r._disposables.push(r.events),r}t.BaseWizard=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(4),s=r(1),c=r(20),d=r(0),n=(a=n.ElementViewModel,i(l,a),l.prototype.getControlFactory=function(){return m.diagramControlsFactory},l);function l(e,t,r){return a.call(this,e,t,r)||this}t.DiagramElementBaseViewModel=n;var u,n=(i(p,u=n),p);function p(e,t,r){var o=u.call(this,d.extend({"@ControlType":"DiagramElement"},e),t,r)||this;return o.connectingPoints=s.deserializeArray(e&&e.ConnectingPoints||[],function(e){return new f.ConnectingPointViewModel(e,o,r)}),void 0===o.text()&&o.text(o.name()),o}t.DiagramElementViewModel=n,t.diagramElementSerializationInfo=[c.size,c.location,c.name,c.text,{propertyName:"type",modelName:"@Type"}];var f=r(30),m=r(47)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(8),o=r(1),a=r(0);t.wrapGetSelectStatement=function(r){return function(e,t){return r?r(e,t):(new i.RequestWrapper).getSelectStatement(e,t)}},t.wrapRebuildResultSchema=function(o){return function(e,t,r){return o?o(e,t,r):(new i.RequestWrapper).rebuildResultSchema(e,t,r)}},t.serializeDataConnection=function(e){var t=new o.ModelSerializer,r={DataConnection:t.serialize(e)};return e.options&&a.extend(r,{ConnectionOptions:t.serialize(e.options)}),JSON.stringify(r)}},function(e,t){e.exports={default:""}},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),(i=o=t.DBColumnType||(t.DBColumnType={}))[i.Unknown=0]="Unknown",i[i.Boolean=1]="Boolean",i[i.Byte=2]="Byte",i[i.SByte=3]="SByte",i[i.Char=4]="Char",i[i.Decimal=5]="Decimal",i[i.Double=6]="Double",i[i.Single=7]="Single",i[i.Int32=8]="Int32",i[i.UInt32=9]="UInt32",i[i.Int16=10]="Int16",i[i.UInt16=11]="UInt16",i[i.Int64=12]="Int64",i[i.UInt64=13]="UInt64",i[i.String=14]="String",i[i.DateTime=15]="DateTime",i[i.Guid=16]="Guid",i[i.TimeSpan=17]="TimeSpan",i[i.ByteArray=18]="ByteArray";var i=(a.GetType=function(e){switch(e){case o.Boolean:return"System.Boolean";case o.Byte:return"System.Byte";case o.SByte:return"System.SByte";case o.Char:return"System.Char";case o.Decimal:return"System.Decimal";case o.Double:return"System.Double";case o.Single:return"System.Single";case o.Int32:return"System.Int32";case o.UInt32:return"System.UInt32";case o.Int16:return"System.Int16";case o.UInt16:return"System.UInt16";case o.Int64:return"System.Int64";case o.UInt64:return"System.UInt64";case o.String:return"System.String";case o.DateTime:return"System.DateTime";case o.Guid:return"System.Guid";case o.TimeSpan:return"System.TimeSpan";case o.ByteArray:return"System.Byte[]";default:return"System.Object"}},a.GetSpecific=function(e){switch(e){case"System.Boolean":return"Bool";case"System.Byte":case"System.SByte":case"System.Int16":case"System.UInt16":case"System.Int32":case"System.UInt32":case"System.Int64":case"System.UInt64":return"Integer";case"System.Char":case"System.Guid":case"System.ByteArray":case"System.String":return"String";case"System.Double":case"System.Single":case"System.Decimal":return"Float";case"System.DateTime":case"System.TimeSpan":return"Date";default:return"String"}},a);function a(e){this.name=e.Name,this.type=e.ColumnType,this.size=e.Size}t.DBColumn=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeToCollection=function(e,t,r){return r=r||[],e&&e.forEach(function(e){r.push(t(e))}),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=r(0),a=r(4),r=r(4);t.name={propertyName:"name",modelName:"@Name",displayName:"Name",editor:o.editorTemplates.getEditor("text"),validationRules:i.nameValidationRules},t.text={propertyName:"text",modelName:"@Text",displayName:"Text",editor:o.editorTemplates.getEditor("text")},t.size={propertyName:"size",modelName:"@Size",defaultVal:"100,50",from:a.Size.fromString,displayName:"Size",editor:o.editorTemplates.getEditor("objecteditor")},t.location={propertyName:"location",modelName:"@Location",from:r.Point.fromString,displayName:"Location",editor:o.editorTemplates.getEditor("objecteditor")},t.sizeLocation=[t.size,t.location],t.unknownSerializationsInfo=[t.name].concat(t.sizeLocation)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(31);(r=t.PointSide||(t.PointSide={}))[r.East=0]="East",r[r.South=1]="South",r[r.North=2]="North",r[r.West=3]="West",t.determineConnectingPoints=function(e,t){var r,o={start:null,end:null};return t.leftConnectionPoint.location.x()>e.rightConnectionPoint.location.x()+2*i.RoutedConnectorViewModel.GRID_SIZE?(o.start=e.rightConnectionPoint,o.end=t.leftConnectionPoint):e.leftConnectionPoint.location.x()>t.rightConnectionPoint.location.x()+2*i.RoutedConnectorViewModel.GRID_SIZE?(o.start=e.leftConnectionPoint,o.end=t.rightConnectionPoint):(r=(e.rightConnectionPoint.location.x()+e.rightConnectionPoint.location.x())/2,(t.rightConnectionPoint.location.x()+t.rightConnectionPoint.location.x())/2<r?(o.start=e.rightConnectionPoint,o.end=t.rightConnectionPoint):(o.start=e.leftConnectionPoint,o.end=t.leftConnectionPoint)),o}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),r=r(4),i=(a=r.SurfaceElementBase,i(s,a),s.prototype.container=function(){return this.getRoot()},s._unitProperties={_x:function(e){return e.location.x},_y:function(e){return e.location.y}},s);function s(e,t){var r=a.call(this,e,t,s._unitProperties)||this;return r.template="dx-diagram-connection-point",r.selectiontemplate="dx-diagram-connection-point",r.relativeX=n.pureComputed(function(){return r.rect().left-r.parent.rect().left}),r.relativeY=n.pureComputed(function(){return r.rect().top-r.parent.rect().top}),r}t.ConnectionPointSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(1),c=r(0),i=(a=s.Disposable,i(d,a),d.prototype.setState=function(e){this.ctor=e.ctor,this.dataMember=e.dataMember,this.selectedType=e.selectedType,this.id=c.guid().replace(/-/g,""),this.name(e.dataSourceName)},d);function d(){var e=null!==a&&a.apply(this,arguments)||this;return e.name=n.observable(),e}t.ObjectDataSource=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(3),s=r(74),c=r(9),d=r(1),l=r(7),u=r(12),p=r(77),f=r(121),m=r(0),h=r(1),y=r(78),g=r(16),_=r(14),v=r(79),b=r(34),S=r(35),P=r(32),x=r(75),C=r(5),T=r(0),O=r(0),r=(Object.defineProperty(I.prototype,"sqlQuery",{get:function(){return this.sqlDataSource.queries()[this._queryIndex]},set:function(e){e&&(e.parent=this.sqlDataSource),this.sqlDataSource.queries()[this._queryIndex]=e},enumerable:!0,configurable:!0}),I.prototype.saveCustomQueries=function(){var t=new d.ModelSerializer;return 0<this.customQueries.length&&this.customQueries.map(function(e){return JSON.stringify(t.serialize(e))})},I.prototype.save=function(){return JSON.stringify((new d.ModelSerializer).serialize(this.sqlDataSource))},I);function I(e,r,t){var o=this;this.sqlDataSourceJSON=e,this.customQueries=[],this.sqlDataSource=new s.SqlDataSource(e?JSON.parse(e):{},void 0,t),r?this.sqlDataSource.queries().some(function(e,t){return e.name()===r&&(o._queryIndex=t,!0)}):this._queryIndex=this.sqlDataSource.queries().length}t._SqlDataSourceWrapper=r;var N,D=(N=l.WizardPageBase,i(E,N),E.prototype.canNext=function(){return!this.queryControl().isNextDisabled()},E.prototype.canFinish=function(){return!this.queryControl().isFinishDisabled()||!this.queryControl().isNextDisabled()},E.prototype.runQueryBuilder=function(){var e=this.queryControl().getQuery();e&&e.type()===c.SqlQueryType.tableQuery?(e.name(this.queryName()),this.popupQueryBuilder.show(e,this._dataSource())):this.popupQueryBuilder.show(new b.TableQuery({"@Name":this.queryName()},this._dataSource()),this._dataSource())},E.prototype.localizeQueryType=function(e){return E.QUERY_TEXT===e?h.getLocalization(E.QUERY_TEXT,"DataAccessUIStringId.WizardPageConfigureQuery_Query"):h.getLocalization(E.SP_TEXT,"DataAccessUIStringId.WizardPageConfigureQuery_StoredProcedure")},E.prototype.initialize=function(e){return this._dataSourceWrapper=u._restoreSqlDataSourceFromState(e,this._options.requestWrapper),this._proceduresList.setQuery(new S.StoredProcQuery({},this._dataSource())),this._selectStatementControl.setQuery(new P.CustomSqlQuery({},this._dataSource())),this.popupQueryBuilder.isVisible(!1),this._dataSourceWrapper.sqlQuery?(this.initialName=this._dataSourceWrapper.sqlQuery.name(),this.queryName(this.initialName),this.selectedQueryType(this._dataSourceWrapper.sqlQuery.type()===c.SqlQueryType.storedProcQuery?E.SP_TEXT:E.QUERY_TEXT),this.queryControl().setQuery(this._dataSourceWrapper.sqlQuery)):(this.selectedQueryType(E.QUERY_TEXT),n.Deferred().resolve().promise())},E.prototype.commit=function(){var e,t=this.queryControl().getQuery();return t&&((e=this.queryName()||this.initialName)&&t.name(e),t.name()&&this._dataSourceWrapper.sqlQuery&&this._dataSourceWrapper.sqlQuery.name()===t.name()||t.name(x.generateQueryUniqueName(this._dataSource().queries(),t)),this._dataSourceWrapper.sqlQuery=t),n.Deferred().resolve({queryName:this._dataSourceWrapper.sqlQuery.name(),sqlDataSourceJSON:this._dataSourceWrapper.save()}).promise()},E.QUERY_TEXT="Query",E.SP_TEXT="Stored Procedure",E);function E(e){var r=N.call(this)||this;return r._options=e,r._connection=function(){return r._dataSource().connection},r._dataSource=function(){return r._dataSourceWrapper&&r._dataSourceWrapper.sqlDataSource},r.queryNameCaption=function(){return h.getLocalization("Query Name","AnalyticsCoreStringId.SqlDSWizard_QueryName")+":"},r.queryControl=a.observable(),r.runQueryBuilderBtnText=a.pureComputed(function(){return r._selectStatementControl.sqlString()&&r._selectStatementControl.getQuery().type()!==c.SqlQueryType.tableQuery?h.getLocalization("Create New Query...","AnalyticsCoreStringId.SqlDSWizard_CreateNewQuery"):h.getLocalization("Run Query Builder...","DataAccessUIStringId.Button_QueryBuilder")}).extend({deferred:!0}),r.placeholder=function(){var e=r.queryControl(),e=e&&e.getQuery(),e=r.initialName||e&&e.generateName();return e&&m.formatUnicorn(h.getLocalization("Type custom query name (current name: {0})","AnalyticsCoreStringId.SqlDSWizard_QueryNamePlaceholder"),e)},r.queryName=a.observable(""),r.queryTypeItems=[E.QUERY_TEXT,E.SP_TEXT],r.selectedQueryType=a.observable(),r.initialName="",r._proceduresList=new p.StoredProceduresQueryControl,r._disposables.push(r._selectStatementControl=new f.SelectStatementQueryControl(new y.SelectQuerySqlTextProvider(g.wrapGetSelectStatement(r._options.callbacks.selectStatement),r._connection),r._options.disableCustomSql)),r._disposables.push(r.selectedQueryType.subscribe(function(e){e===E.SP_TEXT?(r[_.BaseWizard.__loadingStateFunctionName]&&r[_.BaseWizard.__loadingStateFunctionName](!0),r._dataSource().dbSchemaProvider.getDbStoredProcedures().done(function(e){r._proceduresList.storedProcedures([]),r._proceduresList.storedProcedures(e)}).always(function(e){return r[_.BaseWizard.__loadingStateFunctionName]&&r[_.BaseWizard.__loadingStateFunctionName](!1)}),r.queryControl(r._proceduresList)):r.queryControl(r._selectStatementControl)})),r.selectedQueryType(E.QUERY_TEXT),r.popupQueryBuilder=new v.QueryBuilderPopup(function(e,t){return r.queryName(e.name()||e.generateName()),r._selectStatementControl.setQuery(e,t)},r._options.rtl,r._options.callbacks.customizeQBInitData),r}t.ConfigureQueryPage=D,t._registerConfigureQueryPage=function(e,t){e.registerMetadata(C.SqlDataSourceWizardPageId.ConfigureQueryPage,{create:function(){return new D(t)},setState:function(e,t){t.queryName=e.queryName,t.sqlDataSourceJSON=e.sqlDataSourceJSON},getState:function(e){return e.sqlDataSourceWizard},resetState:function(e,t){e.sqlDataSourceJSON=t.sqlDataSourceJSON,e.queryName=t.queryName},template:"dxrd-wizard-create-query-page",description:T.isCustomizedWithUpdateLocalizationMethod("Create a query or select a stored procedure")||h.getLocalization("Create a query or select a stored procedure.",O.StringId.WizardPageConfigureQuery)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=r(6);t.editorTemplates=new r.EditorTemplates},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(44),r=r(25);t.AggregationType={None:"None",Count:"Count",Max:"Max",Min:"Min",Avg:"Avg",Sum:"Sum",CountDistinct:"CountDistinct",AvgDistinct:"AvgDistinct",SumDistinct:"SumDistinct"},t.columnSerializationInfo=[o.name,{propertyName:"displayType",displayName:"Type",localizationId:"DataAccessUIStringId.ParametersColumn_Type",disabled:!0,editor:r.editorTemplates.getEditor("text")},{propertyName:"alias",displayName:"Alias",localizationId:"DataAccessUIStringId.QueryBuilderColumns_Alias",editor:r.editorTemplates.getEditor("text")},o.selected,{propertyName:"sortingType",displayName:"Sort Type",editor:r.editorTemplates.getEditor("combobox"),defaultVal:"Unsorted",valuesArray:[{value:"Unsorted",displayValue:"Unsorted",localizationId:"DataAccessUIStringId.SortingTypeNone"},{value:"Ascending",displayValue:"Ascending",localizationId:"DataAccessUIStringId.SortingTypeAscending"},{value:"Descending",displayValue:"Descending",localizationId:"DataAccessUIStringId.SortingTypeDescending"}],localizationId:"AnalyticsCoreStringId.QueryBuilder_SortType"},{propertyName:"sortOrder",displayName:"Sort Order",editor:r.editorTemplates.getEditor("numeric"),localizationId:"DataAccessUIStringId.QueryBuilderColumns_SortOrder"},{propertyName:"groupBy",displayName:"Group By",editor:r.editorTemplates.getEditor("bool"),defaultVal:!1,localizationId:"DataAccessUIStringId.QueryBuilderColumns_GroupBy"},{propertyName:"aggregate",displayName:"Aggregate",editor:r.editorTemplates.getEditor("comboboxUndo"),values:t.AggregationType,defaultVal:t.AggregationType.None,localizationId:"DataAccessUIStringId.QueryBuilderColumns_Aggregate"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=r(1);t.controlsFactory=new r.ControlsFactory},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(4),s=r(27),i=(a=n.ElementViewModel,i(c,a),c.prototype.getControlFactory=function(){return s.controlsFactory},c);function c(e,t,r){return a.call(this,e,t,r)||this}t.QueryElementBaseViewModel=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(4),c=r(0),s=(a=s.SurfaceElementBase,i(d,a),d._unitProperties={_height:function(e){return e.size.height},_width:function(e){return e.size.width},_x:function(e){return e.location.x},_y:function(e){return e.location.y}},d);function d(e,t,r){var o=a.call(this,e,t,c.extend({},d._unitProperties,r))||this;return o.template="dx-diagram-element",o.selectiontemplate="dx-diagram-element-selection",o.contenttemplate="dx-diagram-element-content",o.margin=n.observable(0),o._disposables.push(o.positionWidthWithoutMargins=n.pureComputed(function(){return o.position.width()-2*o.margin()})),o._disposables.push(o.positionLineHeightWithoutMargins=n.pureComputed(function(){return o.position.lineHeight()-2*o.margin()})),o}t.DiagramElementBaseSurface=s;var l,s=(i(u,l=s),u.prototype._getChildrenHolderName=function(){return"connectingPoints"},u);function u(e,t){t=l.call(this,e,t,null)||this;return t.contenttemplate="dxdd-element-content-with-connecting-points",t}t.DiagramElementSurface=s},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(4),c=r(21),d=r(15),l=r(4),u=r(1),p=r(0),i=(a=d.DiagramElementBaseViewModel,i(f,a),f);function f(e,t,r){var o=a.call(this,p.extend({"@ControlType":"ConnectingPoint"},e),t,r)||this;return o.side=n.pureComputed(function(){return o.percentOffsetY()>=o.percentOffsetX()?o.percentOffsetY()>1-o.percentOffsetX()?c.PointSide.South:c.PointSide.West:o.percentOffsetY()>1-o.percentOffsetX()?c.PointSide.East:c.PointSide.North}),o.size=new l.Size(7,7),o.location=new s.Point(0,0),o.location.x=n.pureComputed(function(){var e=o.parentModel();return e.location.x()+e.size.width()*o.percentOffsetX()}),o.location.y=n.pureComputed(function(){var e=o.parentModel();return e.location.y()+e.size.height()*o.percentOffsetY()}),o}t.ConnectingPointViewModel=i,t.connectingPointSerializationInfo=[{propertyName:"percentOffsetX",modelName:"@PercentOffsetX",defaultVal:.5,from:u.floatFromModel},{propertyName:"percentOffsetY",modelName:"@PercentOffsetY",defaultVal:.5,from:u.floatFromModel}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(64),f=r(4),m=r(21),c=r(0),i=(a=s.ConnectorViewModel,i(h,a),h.prototype.getX=function(){var t=a.prototype.getX.call(this);return this.routePoints&&this.routePoints().forEach(function(e){e.x()<t&&(t=e.x())}),t},h.prototype.getY=function(){var t=a.prototype.getY.call(this);return this.routePoints&&this.routePoints().forEach(function(e){e.y()<t&&(t=e.y())}),t},h.prototype.getWidth=function(){var t=a.prototype.getWidth.call(this),r=this.getX();return this.routePoints&&[this.startPoint().location,this.endPoint().location].concat(this.routePoints()).forEach(function(e){e.x()-r>t&&(t=e.x()-r)}),t},h.prototype.getHeight=function(){var t=a.prototype.getHeight.call(this),r=this.getY();return this.routePoints&&[this.startPoint().location,this.endPoint().location].concat(this.routePoints()).forEach(function(e){e.y()-r>t&&(t=e.y()-r)}),Math.round(t)},h.prototype._fixPoint=function(e,t){switch(t){case m.PointSide.North:e.y(e.y()-h.GRID_SIZE);break;case m.PointSide.East:e.x(e.x()+h.GRID_SIZE);break;case m.PointSide.West:e.x(e.x()-h.GRID_SIZE);break;case m.PointSide.South:e.y(e.y()+h.GRID_SIZE)}},h.prototype._getStartPointSide=function(){return this.startPoint().connectingPoint()?this.startPoint().connectingPoint().side():this.startPoint().location.y()!==this.endPoint().location.y()?this.startPoint().location.y()>this.endPoint().location.y()?m.PointSide.North:m.PointSide.South:this.startPoint().location.x()>this.endPoint().location.x()?m.PointSide.West:m.PointSide.East},h.prototype._getEndPointSide=function(){return this.endPoint().connectingPoint()?this.endPoint().connectingPoint().side():this.startPoint().location.y()!==this.endPoint().location.y()?this.startPoint().location.y()>this.endPoint().location.y()?m.PointSide.South:m.PointSide.North:this.startPoint().location.x()>this.endPoint().location.x()?m.PointSide.East:m.PointSide.West},h.prototype._getRatio=function(e){for(var t=this._getPower(e),r=Math.pow(2,t),o=Math.pow(2,t-1),i=[],a=1;a<o;a++)a%2!=0&&(i.push(r-a),i.push(a));return i.reverse(),(i[e-o]||1)/r},h.prototype.beginUpdate=function(){this._isUpdating=!0},h.prototype.endUpdate=function(){this._isUpdating=!1},h.GRID_SIZE=10,h);function h(e,t,r){var p=a.call(this,c.extend({"@ControlType":"RoutedConnector"},e),t,r)||this;return p._isUpdating=!1,p._getPower=function(e){for(var t=0;t<10;t++)if(e>=Math.pow(2,t)&&e<Math.pow(2,t+1))return t+1;return 1},p.seriesNumber=n.observable(1),p.routePoints=n.observable([]),p.freezeRoute=n.observable(!1),p._disposables.push(n.computed(function(){var e=!(1+p.startPoint().location.x()+p.startPoint().location.y()+p.endPoint().location.x()+p.endPoint().location.y());p._isUpdating||p.freezeRoute(e)})),p._disposables.push(n.computed(function(){var e,t,r,o,i,a,n,s,c,d,l,u;p.freezeRoute()||(e=[],t=p._getStartPointSide(),r=p._getEndPointSide(),o=new f.Point(p.startPoint().location.x(),p.startPoint().location.y()),i=new f.Point(p.endPoint().location.x(),p.endPoint().location.y()),p.startPoint().connectingPoint()&&(p._fixPoint(o,p.startPoint().connectingPoint().side()),e.push(o)),p.endPoint().connectingPoint()&&p._fixPoint(i,p.endPoint().connectingPoint().side()),a=Math.min(o.x(),i.x()),n=Math.min(o.y(),i.y()),s=Math.abs(o.x()-i.x()),c=Math.abs(o.y()-i.y()),d=p.seriesNumber(),l=p._getRatio(d),u=(d-1)*h.GRID_SIZE,0<o.y()-i.y()?0<o.x()-i.x()?t===m.PointSide.North||t===m.PointSide.East?r===m.PointSide.North||r===m.PointSide.East?(1!==d&&e.push(new f.Point(a+(s+=u),n+c)),e.push(new f.Point(a+s,n))):(e.push(new f.Point(a+s,n+c*l)),e.push(new f.Point(a,n+c*l))):r===m.PointSide.South||r===m.PointSide.West?e.push(new f.Point(a,n+c)):(e.push(new f.Point(a+s*l,n+c)),e.push(new f.Point(a+s*l,n))):t===m.PointSide.North||t===m.PointSide.West?r===m.PointSide.North||r===m.PointSide.West?(1!==d&&e.push(new f.Point(a-=u,n+c)),e.push(new f.Point(a,n))):(e.push(new f.Point(a,n+c*l)),e.push(new f.Point(a+s,n+c*l))):r===m.PointSide.South||r===m.PointSide.East?e.push(new f.Point(a+s,n+c)):(e.push(new f.Point(a+s*l,n+c)),e.push(new f.Point(a+s*l,n))):0<o.x()-i.x()?t===m.PointSide.South||t===m.PointSide.East?r===m.PointSide.South||r===m.PointSide.East?(1!==d&&e.push(new f.Point(a+(s+=u),n)),e.push(new f.Point(a+s,n+c))):(e.push(new f.Point(a+s,n+c*l)),e.push(new f.Point(a,n+c*l))):r===m.PointSide.North||r===m.PointSide.West?e.push(new f.Point(a,n)):(e.push(new f.Point(a+s*l,n)),e.push(new f.Point(a+s*l,n+c))):t===m.PointSide.South||t===m.PointSide.West?r===m.PointSide.South||r===m.PointSide.West?(1!==d&&e.push(new f.Point(a-=u,n)),e.push(new f.Point(a,n+c))):(e.push(new f.Point(a,n+c*l)),e.push(new f.Point(a+s,n+c*l))):r===m.PointSide.North||r===m.PointSide.East?e.push(new f.Point(a+s,n)):(e.push(new f.Point(a+s*l,n)),e.push(new f.Point(a+s*l,n+c))),p.endPoint().connectingPoint()&&e.push(i),p.routePoints(e))})),p}t.RoutedConnectorViewModel=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(9),a=r(1),n=r(1),s=r(11),c=r(112),d=r(0),r=(l.prototype.getInfo=function(){return c.customQuerySerializationsInfo},l.prototype.generateName=function(){return"CustomSqlQuery"},l);function l(e,t,r){this.parent=t,(r||new a.ModelSerializer).deserialize(this,d.extend(e,{"@ItemType":"Query"})),this.type=o.pureComputed(function(){return i.SqlQueryType.customSqlQuery}),this.parameters=n.deserializeArray(e.Parameters,function(e){return new s.DataSourceParameter(e,r)})}t.CustomSqlQuery=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(11),i=r(1),a=r(6),n=r(0),s=r(0);t.dsParameterNameValidationRules=[{type:"custom",validationCallback:function(e){return o.DataSourceParameter.validateName(e.value)},get message(){return i.getLocalization("Name is required and should be a valid identifier.","AnalyticsCoreStringId.NameIsRequired_Error")}}],t.parameterValueSerializationsInfo={propertyName:"value",displayName:"Value",localizationId:"DevExpress.DataAccess.Parameter.Value",editor:a.editorTemplates.getEditor("text")};var c={propertyName:"name",displayName:"Name",localizationId:"DevExpress.DataAccess.Parameter.Name",validationRules:t.dsParameterNameValidationRules,editor:a.editorTemplates.getEditor("text")},d={propertyName:"type",displayName:"Type",localizationId:"DevExpress.DataAccess.Parameter.Type",modelName:"@Type",editor:a.editorTemplates.getEditor("combobox"),valuesArray:[{value:"System.String",displayValue:"String",localizationId:"AnalyticsCoreStringId.Parameter_Type_String"},{value:"System.DateTime",displayValue:"Date",localizationId:"AnalyticsCoreStringId.Parameter_Type_DateTime"},{value:"System.Int16",displayValue:"Number (16 bit integer)",localizationId:"AnalyticsCoreStringId.Parameter_Type_Int16"},{value:"System.Int32",displayValue:"Number (32 bit integer)",localizationId:"AnalyticsCoreStringId.Parameter_Type_Int32"},{value:"System.Int64",displayValue:"Number (64 bit integer)",localizationId:"AnalyticsCoreStringId.Parameter_Type_Int64"},{value:"System.Single",displayValue:"Number (floating-point)",localizationId:"AnalyticsCoreStringId.Parameter_Type_Float"},{value:"System.Double",displayValue:"Number (double-precision floating-point)",localizationId:"AnalyticsCoreStringId.Parameter_Type_Double"},{value:"System.Decimal",displayValue:"Number (decimal)",localizationId:"AnalyticsCoreStringId.Parameter_Type_Decimal"},{value:"System.Boolean",displayValue:"Boolean",localizationId:"AnalyticsCoreStringId.Parameter_Type_Boolean"},{value:"System.Guid",displayValue:"Guid",localizationId:"AnalyticsCoreStringId.Parameter_Type_Guid"},{value:n.ExpressionType,displayValue:"Expression",localizationId:"DataAccessUIStringId.ParametersColumn_Expression"}]},l={propertyName:"resultType",displayName:"Result Type",localizationId:"DataAccessWebStringId.QueryBuilder_ResultType",modelName:"@ResultType",editor:a.editorTemplates.getEditor("combobox"),valuesArray:d.valuesArray.filter(function(e){return!n.IsDataAccessExpression(e.value)})},u=[{propertyName:"_name",modelName:"@Name"},{propertyName:"_value",modelName:"#text"},t.parameterValueSerializationsInfo,{propertyName:"itemType",modelName:"@ItemType"}];t.dsParameterSerializationInfo=[c,d,l].concat(u);var p=[{value:"System.Byte",displayValue:"Non-negative number (8 bit integer)",localizationId:"DataAccessStringId.Type_Byte"},{value:"System.SByte",displayValue:"Number (8 bit integer)",localizationId:"DataAccessStringId.Type_SByte"},{value:"System.UInt32",displayValue:"Non-negative number (32 bit integer)",localizationId:"DataAccessStringId.Type_UInt"},{value:"System.UInt16",displayValue:"Non-negative number (16 bit integer)",localizationId:"DataAccessStringId.Type_UShort"},{value:"System.UInt64",displayValue:"Non-negative number (64 bit integer)",localizationId:"DataAccessStringId.Type_ULong"},{value:"System.Char",displayValue:"Char",localizationId:"DataAccessStringId.Type_Char"},{value:"System.Object",displayValue:"Object",localizationId:"DataAccessStringId.Type_Object"},{value:"System.Byte[]",displayValue:"Byte array",localizationId:"DataAccessStringId.Type_ByteArray"},{value:"System.TimeSpan",displayValue:"Time interval",localizationId:"DataAccessStringId.Type_TimeSpan"}];t.storedProcParameterSerializationsInfo=function(t){var e=s.extend(!0,{},d),r=[];r.push(d.valuesArray.filter(function(e){return e.value===t})[0]||p.filter(function(e){return e.value===t})[0]),r.push(d.valuesArray.filter(function(e){return n.IsDataAccessExpression(e.value)})[0]),e.valuesArray=r;var o=s.extend(!0,{},l);return o.valuesArray=r.slice(0,0),o.disabled=!0,[s.extend({disabled:!0},c),e,o].concat(u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(9),a=r(1),n=r(1),s=r(11),c=r(115),d=r(0),r=(l.prototype.tables=function(){return this._tablesObject.tables()},l.prototype.getInfo=function(){return c.tableQuerySerializationsInfo},l.prototype.generateName=function(){return 0<this.tables().length?this.tables()[0].alias()||this.tables()[0].name():"SelectQuery"},l);function l(e,t,r){this.parent=t,(r||new a.ModelSerializer).deserialize(this,d.extend(e,{"@ItemType":"Query"})),this.type=o.pureComputed(function(){return i.SqlQueryType.tableQuery}),this.parameters=n.deserializeArray(e.Parameters,function(e){return new s.DataSourceParameter(e,r)})}t.TableQuery=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(9),a=r(1),n=r(1),s=r(11),c=r(0),d=r(33),l=r(116),u=r(0),r=(p.prototype.getInfo=function(){return l.storedProcQuerySerializationsInfo},p.prototype.generateName=function(){return this.procName()||"Query"},p);function p(e,t,r){this.parent=t,(r||new a.ModelSerializer).deserialize(this,u.extend(e,{"@ItemType":"Query"})),this.type=o.pureComputed(function(){return i.SqlQueryType.storedProcQuery}),this.parameters=n.deserializeArray(e.Parameters,function(e){var t=e["@Type"];return c.IsDataAccessExpression(t)&&(t=e["@ResultType"]||t),new s.DataSourceParameter(e,r,d.storedProcParameterSerializationsInfo(t))})}t.StoredProcQuery=r},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(1),d=r(7),l=r(14),u=r(0),p=r(5);(r=a=t.DataSourceType||(t.DataSourceType={}))[r.NoData=0]="NoData",r[r.Sql=1]="Sql",r[r.Json=2]="Json",r[r.Object=3]="Object";var f=function(e,t,r,o,i){this.text=c.getLocalization(e,t),this.imageClassName=r,this.imageTemplateName=o,this.type=i};t.TypeItem=f;var m,h=(m=d.WizardPageBase,i(y,m),y.prototype.canNext=function(){return null!=this.selectedItem()},y.prototype.canFinish=function(){return!1},y.prototype._goToNextPage=function(){this[l.BaseWizard.__nextActionFunctionName]&&this[l.BaseWizard.__nextActionFunctionName]()},y.prototype.commit=function(){return s.Deferred().resolve({dataSourceType:this.selectedItem().type}).promise()},y.prototype._createTypeItems=function(){var e=[];return this._dataSourceTypeOptions.sqlDataSourceAvailable&&e.push(new f("Database","DataAccessUIStringId.DSTypeSql","sqldatasource","dxrd-svg-wizard-SqlDataSource",a.Sql)),this._dataSourceTypeOptions.jsonDataSourceAvailable&&e.push(new f("JSON","DataAccessUIStringId.DSTypeJson","jsondatasource","dxrd-svg-wizard-JsonDataSource",a.Json)),this._dataSourceTypeOptions.objectDataSourceAvailable&&e.push(new f("Object","DataAccessUIStringId.DSTypeObject","objectdatasource","dxrd-svg-wizard-ObjectDataSource",a.Object)),e},y.prototype.initialize=function(e){var t;return this.typeItems&&0!==this.typeItems.length?(t=void 0!==e.dataSourceType?e.dataSourceType:this.typeItems[0].type,this.selectedItem(u.findFirstItemMatchesCondition(this.typeItems,function(e){return e.type===t}))):this.selectedItem(null),s.Deferred().resolve().promise()},y);function y(e){var t=m.call(this)||this;return t._dataSourceTypeOptions=e,t._itemClick=function(e){t.selectedItem(e)},t._IsSelected=function(e){return t.selectedItem().type===e.type},t.selectedItem=n.observable(),t.typeItems=t._createTypeItems(),t._disposables.push(t.selectedItem.subscribe(function(){return t._onChange()})),t._extendCssClass=s.noop,t}t.ChooseDataSourceTypePage=h,t._registerChooseDataSourceTypePage=function(e,t){e.registerMetadata(p.DataSourceWizardPageId.ChooseDataSourceTypePage,{setState:function(e,t){t.dataSourceType=e.dataSourceType},getState:function(e){return e},resetState:function(e,t){e.dataSourceType=t.dataSourceType},create:function(){return new h(t)},description:c.getLocalization("Select the data source type.","DataAccessUIStringId.WizardPageChooseDSType"),template:"dxrd-page-choose-datasource-type"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(3),s=r(1),c=r(7),i=(a=s.Disposable,i(d,a),d.prototype.dispose=function(){this._pages.forEach(function(e){return e.dispose()}),this._pages=[]},d.prototype.__resetPages=function(e){if(e<this._pages.length)for(var t=this._pages.length-1;e<=t;t--)this.stateManager.resetPageState(this._pages[t].pageId),this._onResetPage(this._pages[t]),this._pages[t].dispose(),this._pages.splice(t,1)},d.prototype._nextPage=function(){return this._pages[this._currentIndex+1]},d.prototype._getNextExistingPage=function(){this._currentIndex+=1;var e=n.Deferred();return e.resolve(this._pages[this._currentIndex]),e.promise()},d.prototype._resetPages=function(){this.__resetPages(this._currentIndex+1)},d.prototype._getNextNewPage=function(e){this._currentIndex+=1;var t=n.Deferred();this.__resetPages(this._currentIndex);var r=this.pageFactory.getMetadata(e),r=new c._WrappedWizardPage(e,r.create(),r.template,r.description);return this._pages.push(r),t.resolve(r),t.promise()},d.prototype._getStartPage=function(e){e=e||this.getNextPageId();var t=this.pageFactory.getMetadata(e),t=new c._WrappedWizardPage(e,t.create(),t.template,t.description);return this._pages.push(t),t},d.prototype._getNextPage=function(){var e=this._getCurrentPage();if(!e.isChanged&&this._nextPage())return this._getNextExistingPage();var t=this.getNextPageId(this._getCurrentPage().pageId);return t?(e.isChanged=!1,this._getNextNewPage(t)):n.Deferred().reject().promise()},d.prototype._getPreviousPage=function(){var e=n.Deferred();return this._currentIndex-1<0?e.reject(null):(--this._currentIndex,e.resolve(this._pages[this._currentIndex])),e.promise()},d.prototype._goToPage=function(t){var e=n.Deferred(),r=this._pages.filter(function(e){return e.pageId===t})[0];return r?(this._currentIndex=this._pages.indexOf(r),e.resolve(r)):e.reject(null),e.promise()},d.prototype._getCurrentPage=function(){return this._pages[this._currentIndex]},d.prototype._getCurrentState=function(){return this.stateManager.getCurrentState()},d.prototype.getNextPageId=function(e){return""},d);function d(e,t,r){void 0===r&&(r=function(){});var o=a.call(this)||this;return o.pageFactory=e,o.stateManager=t,o._onResetPage=r,o._pages=[],o._currentIndex=0,o}t.PageIterator=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(3),s=r(7),c=r(13),d=r(117),l=r(118),u=r(14),p=r(1),f=r(0);(r=t.WizardSectionPosition||(t.WizardSectionPosition={}))[r.Left=1]="Left",r[r.TopLeft=2]="TopLeft",r[r.BottomLeft=3]="BottomLeft",r[r.Right=4]="Right",r[r.TopRight=5]="TopRight",r[r.BottomRight=6]="BottomRight",r[r.Top=7]="Top",r[r.Bottom=8]="Bottom";var m,i=(m=s.WizardPageBase,i(h,m),h.prototype.dispose=function(){this._sectionsProcessor.dispose(),this._factory.reset(),this._sections=[]},h.prototype._patchOnChange=function(){var t=this;Object.keys(this._factory.metadata).forEach(function(e){t._factory.metadata[e].onChange=function(){return t._onChange()}})},h.prototype._getPageStyle=function(e,t){return c.getSectionStyle(e,this._defaultMargin,t=void 0===t?!0:t)},h.prototype._applyCustomizations=function(){this._sectionsToUnregister.forEach(function(e){return e()}),this._sectionsToUnregister=[],this._sectionPositions.forEach(function(e){return e()}),this._sectionPositions=[],this._sectionsToRegister.forEach(function(e){return e()}),this._sectionsToRegister=[]},h.prototype._setSectionPosition=function(e,t){this._pageCss[e]=a.observable(this._getPageStyle(t))},h.prototype.registerSections=function(){},h.prototype.canNext=function(){return this._sectionsProcessor.sections.every(this._sectionCondition)},h.prototype._sectionCondition=function(e){return e.metadata.required?e.page()&&e.metadata.canNext(e.page().page):!e.page()||e.metadata.canNext(e.page().page)},h.prototype.canFinish=function(){for(var e=this._sections.length-1;0<=e;e--)if(this._sections[e].page()&&this._sections[e].metadata.canFinish(this._sections[e].page().page))return!0;return!1},h.prototype.setSectionPosition=function(e,t){var r=this;this._sectionPositions.push(function(){r._setSectionPosition(e,t)})},h.prototype.registerSection=function(e,t){var r=this;this._sectionsToRegister.push(function(){r._factory.registerMetadata(e,t)})},h.prototype.unregisterSection=function(e){var t=this;this._sectionsToUnregister.push(function(){return t._factory.unregisterMetadata(e)})},h.prototype._loadPanelViewModel=function(e){return!1},h.prototype.getNextSectionId=function(e){},h.prototype.initialize=function(e,t){var r=this;return this.registerSections(),this._applyCustomizations(),this._sectionsProcessor.initialize(f.extend(!0,{},e)),this._stateManager=this._sectionsProcessor.stateManager,this._sectionsProcessor.iterator.getNextPageId=function(e){return r.getNextSectionId(e)},this._sectionsProcessor.start(),n.Deferred().resolve().promise()},h.prototype._beforeStart=function(){},h.prototype.commit=function(){var e=this,t=n.Deferred();return this._sectionsProcessor.finishAction().done(function(){t.resolve(f.extend(!0,{},e._stateManager.getCurrentState()))}),t.promise()},h.prototype._getPageDescription=function(e,t){return e+1+". "+t.metadata.description},h.prototype._showPageDescription=function(){return 1<this._sections.length},h);function h(){var t=m.call(this)||this;return t._sectionsToUnregister=[],t._sectionsToRegister=[],t._sectionPositions=[],t._initInProgress=a.observable(!1),t._defaultMargin=30,t._parentMarginOffset=t._defaultMargin+t._defaultMargin/2,t._className="",t._pageCss={},t.events=new p.EventManager,t._factory=new d.WizardPageSectionFactory,t._sectionsProcessor=new l.WizardPageProcessor(t._factory,function(e){t[u.BaseWizard.__loadingStateFunctionName]&&t[u.BaseWizard.__loadingStateFunctionName](e)},function(){return t[u.BaseWizard.__nextActionFunctionName]&&t[u.BaseWizard.__nextActionFunctionName]()}),t._sectionsProcessor.events.addHandler("beforeStart",function(){t._sections=t._sectionsProcessor.sections,t._beforeStart(),t._patchOnChange()}),t._sectionsProcessor.events.addHandler("beforePageInitialize",function(e){t.events.call("beforeSectionInitialize",{section:e.page,sectionId:e.pageId,page:t,state:e.state})}),t._sectionsProcessor.events.addHandler("afterPageInitialize",function(e){t.events.call("afterSectionInitialize",{section:e.page,sectionId:e.pageId,page:t})}),t}t.FullscreenWizardPage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(i.prototype.registerMetadata=function(e,t){t.canFinish||(t.canFinish=function(e){return e.canFinish()}),t.canNext||(t.canNext=function(e){return e.canNext()}),this.metadata[e]=t},i.prototype.getMetadata=function(e){return this.metadata[e]},i.prototype.unregisterMetadata=function(e){delete this.metadata[e]},i.prototype.reset=function(){this.metadata={}},i);function i(){this.metadata={}}t.PageFactory=o},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(7),d=r(12),l=r(85),u=r(8),p=r(50),f=r(1),m=r(1),h=r(5),y=(a=c.WizardPageBase,i(g,a),g.prototype._onValidationGroupInitialized=function(e){this.__validationGroup=e.component},g.prototype._onValidationGroupDisposing=function(e){this.__validationGroup=null},g.prototype._onValidationSummaryInitialized=function(e){var t=this;this.__validationSummary=e.component,this.__validationGroup&&this.__validationSummary&&this._connectionName&&this._connectionName()&&setTimeout(function(){t.__validationGroup&&t.__validationGroup.validate()},1)},g.prototype._onValidationSummaryDisposing=function(e){this.__validationSummary=null},g.prototype.canNext=function(){var e=!!this._connectionName(),t=this._selectedSource().isValid(),r=this._selectedSource().isEmpty();return e&&t&&!r},g.prototype.commit=function(){var e=new p.JsonDataSource({});this._selectedSource().applySettings(e);e=(new f.ModelSerializer).serialize(e);return s.Deferred().resolve({jsonSource:JSON.stringify(e.Source),newConnectionName:this._connectionName()}).promise()},g.prototype.initialize=function(e){this.__validationGroup=null,this.__validationSummary=null;e=d._restoreJsonDataSourceFromState(e);return e.source.uri()?this._selectedSource(this._jsonUriSetting):e.source.json()&&this._selectedSource(this._jsonStringSettings),this._selectedSource().setValue(e),s.Deferred().resolve().promise()},g);function g(e,t){void 0===e&&(e=new u.RequestWrapper);var r=a.call(this)||this;r._requestWrapper=e,r.__validationGroup=null,r.__validationSummary=null,r._jsonSourceTitle=m.getLocalization("JSON Source:","DataAccessUIStringId.WizardPageChooseJsonSource_SourceType"),r._jsonConnectionTitle=m.getLocalization("Connection Name:","AnalyticsCoreStringId.ReportDesigner_Wizard_Json_ConnectionName"),r._connectionNameValidationRules=[{type:"required",get message(){return l.getLocalizedValidationErrorMessage(null,this._jsonConnectionTitle)}}],r._connectionName=n.observable(""),r._validationGroup={onInitialized:function(e){return r._onValidationGroupInitialized(e)},onDisposing:function(e){return r._onValidationGroupDisposing(e)}},r._validationSummary={onInitialized:function(e){return r._onValidationSummaryInitialized(e)},onDisposing:function(e){return r._onValidationSummaryDisposing(e)}},r._sources=[],r._disposables.push(r._jsonStringSettings=new l.JsonDataSourceJsonSourcePageStringSettings),r._jsonStringSettings.onChange(function(){return r._onChange()}),r._disposables.push(r._jsonUriSetting=new l.JsonDataSourceJsonSourcePageUriSettings(r._requestWrapper,t)),r._jsonUriSetting.onChange(function(){return r._onChange()}),r._sources=[{value:r._jsonUriSetting,displayValue:"Web Service Endpoint (URI)",localizationId:"DataAccessUIStringId.WizardPageChooseJsonSource_SourceType_Uri"},{value:r._jsonStringSettings,displayValue:"JSON String",localizationId:"DataAccessUIStringId.WizardPageChooseJsonSource_SourceType_Custom"}];var o=n.observable();return r._selectedSource=n.pureComputed({read:function(){return o()},write:function(e){o()!==e&&(o(e),e._validatorsReady&&e._validatorsReady(!1),setTimeout(function(){e._validate&&e._validate()},1),r._onChange())}}),r._selectedSource(r._sources[0].value),r._disposables.push(r._selectedSource),r._disposables.push(r._connectionName.subscribe(function(){return r._onChange()})),r}t.ChooseJsonSourcePage=y,t._registerChooseJsonSourcePage=function(e,t,r){e.registerMetadata(h.JsonDataSourceWizardPageId.ChooseJsonSourcePage,{setState:function(e,t){t.jsonSource=e.jsonSource,t.newConnectionName=e.newConnectionName},getState:function(e){return e.jsonDataSourceWizard},resetState:function(e,t){e.jsonSource=t.jsonSource},create:function(){return new y(t,r&&r())},description:m.getLocalization("Create a data connection.","AnalyticsCoreStringId.JsonDSWizard_CreateNewConnectionPage_Description"),template:"dxrd-page-jsonsource"})}},function(e,s,t){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(s,"__esModule",{value:!0});var c=t(2),n=t(3),d=t(1),i=t(1);s.defaultObjectDataSourceItemSpecifics="Default";var l,a=(l=i.Disposable,r(u,l),u.prototype.unChecked=function(){return!1===this.checked()},u.prototype.toggleChecked=function(){this.setChecked(!this.checked.peek()),this._afterCheckToggled(this)},u.prototype.setChecked=function(e){this._checked(e)},u);function u(e,t,r,o,i){void 0===o&&(o=!1);var a=l.call(this)||this;return a.name=e,a.displayName=t,a.specifics=r,a.checked=c.pureComputed(function(){return a._checked()}),a.isList=!1,a._checked=c.observable(o),a._afterCheckToggled=i||n.noop,a}s.TreeNodeBase=a;var p,f=(r(m,p=a),m);function m(e,t,r,o,i,a){void 0===i&&(i=null);a=p.call(this,e,t,r,o=void 0===o?!1:o,a)||this;return a.name=e,a.displayName=t,a.specifics=r,a.hasQuery=!1,a.arguments=i,a}s.TreeLeafNode=f;var h,t=(r(y,h=a),y.prototype.initialized=function(){return 0<this.children().length},y.prototype.setChecked=function(t){this._checked(t),this.children.peek().forEach(function(e){e.setChecked(t)})},y.prototype.initializeChildren=function(e){this.children(e||[])},y);function y(e,t,r,o,i){var a=h.call(this,e,t,r,o,i)||this;return a.countChecked=c.pureComputed(function(){for(var e=0,t=0;t<a.children().length;t++)if(!a.children()[t].unChecked()){if(1<e)break;e++}return e}),a.isList=!0,a.children=c.observableArray([]),a.checked=c.pureComputed({read:function(){if(a.initialized()){var t=0,r=0;return a.children().forEach(function(e){!0===e.checked()?t++:!1!==e.checked()&&r++}),0===t&&0===r?!1:t===a.children.peek().length||void 0}return a._checked()}}),a}s.TreeNode=t;var g,i=(r(_,g=t),_);function _(e,t,r,o,i){var a=g.call(this,e,t,r,o,i)||this;return a.countChecked=c.pureComputed(function(){var e=0;a.hasParamsToEdit(!1);for(var t=0;t<a.children().length;t++){var r=a.children()[t];if(!r.unChecked()){if(1<e)break;e++,r.arguments&&0<r.arguments.length&&a.hasParamsToEdit(!0),"query"===r.specifics&&a.hasParamsToEdit(!0)}}return e}),a.hasParamsToEdit=c.observable(!1),a}s.ParameterTreeNode=i;var v,i=(r(b,v=i),b.prototype.getActions=function(e){var t=[];return 0===e.path.indexOf("queries")&&t.push(this.addAction),t},b.prototype.popoverListItems=function(){var e=this;return[{name:d.getLocalization("Run Query Builder","DataAccessUIStringId.Button_QueryBuilder"),addAction:function(){return e.addQuery()}},{name:d.getLocalization("Write Custom SQL","AnalyticsCoreStringId.SqlDSWizard_WriteCustomSQL"),addAction:function(){return e.addCustomQuery()}}]},b.prototype.showPopover=function(){this.popoverVisible(!0)},b);function b(e,t,r,o,i,a){var n=v.call(this,e,t,r,o,a)||this;return n.addAction={clickAction:function(e){return n.disableCustomSql()?n.addQuery():n.showPopover()},imageClassName:"dxrd-image-add",imageTemplateName:"dxrd-svg-operations-add",templateName:"dx-treelist-action-with-popover",text:d.getLocalization("Add query","AnalyticsCoreStringId.SqlDSWizard_AddQuery")},n.itemClickAction=function(e){n.popoverVisible(!1),e.itemData.addAction()},n.popoverVisible=c.observable(!1),n.addQuery=function(){i().showQbCallBack()},n.addCustomQuery=function(){i().showQbCallBack(null,!0)},n.disableCustomSql=function(){return i&&i().disableCustomSql},n}s.QueriesTreeNode=i;var S,f=(r(P,S=f),P.prototype.setObservableName=function(e){var t=this;this._name=e,["name","displayName"].forEach(function(e){return Object.defineProperty(t,e,{get:function(){return this._name()},set:function(e){return this._name(e)},configurable:!0})})},P.prototype.getActions=function(e){var t=[];return t.push(this.removeAction),t.push(this.editAction),t},P);function P(e,t,r,o,i,a,n,s){var c=S.call(this,e,t,r,o,null,n)||this;return c.query=s,c.editAction={clickAction:function(e){return c.editQuery()},imageClassName:"dx-image-edit",imageTemplateName:"dxrd-svg-operations-edit",text:d.getLocalization("Edit query","AnalyticsCoreStringId.SqlDSWizard_EditQuery")},c.removeAction={clickAction:function(e){c.removeQuery({model:e.data})},imageClassName:"dxrd-image-recycle-bin",imageTemplateName:"dxrd-svg-operations-recycle_bin",text:d.getLocalization("Remove query","AnalyticsCoreStringId.SqlDSWizard_RemoveQuery")},c.parameters=i,c.removeQuery=function(e){e.model.unChecked()||e.model.toggleChecked(),a().deleteAction(e.model.name)},c.editQuery=function(e){a().showQbCallBack(c.name)},c.hasQuery=!0,c}s.TreeQueryNode=f;var x,a=(r(C,x=a),C);function C(e,t,r,o,i,a,n){void 0===n&&(n=!1);a=x.call(this,e,t,r,o,a)||this;return a.visible=c.observable(!0),a.disabled=c.observable(!1),a.path=i,a.isComplex=r===s.defaultObjectDataSourceItemSpecifics,n&&(a.dragData={noDragable:!1}),a}s.FieldTreeNode=a;var T,t=(r(O,T=t),O.prototype.setChecked=function(e){T.prototype.setChecked.call(this,!!this.visible()&&e)},O);function O(e,t,r,o,i,a){var n=T.call(this,e,t,r,o,a)||this;return n.visible=c.observable(!0),n.path=i,n.isComplex=n.isList&&r===s.defaultObjectDataSourceItemSpecifics,n.checked=c.pureComputed({read:function(){if(n.initialized()){var t=0,r=0,e=n.children().filter(function(e){return e.visible()});return e.forEach(function(e){!0===e.checked()?t++:!1!==e.checked()&&r++}),0===t&&0===r?!1:t===e.length||void 0}return n._checked()}}),n}s.DataMemberTreeNode=t;var I,t=(r(N,I=t),N);function N(e,t,r,o,i,a){var n=I.call(this,e,t,r,o,i,a)||this;return n.checked=c.pureComputed({read:function(){return n._checked()}}),n}s.SingleCheckedDataMemberTreeNode=t},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(14),d=r(1),l=r(0),u=r(6),i=(a=c.BaseWizard,i(p,a),p._getLoadPanelViewModel=function(e,t){e=s(e).closest(".dxrd-wizard-content");return{animation:{show:{type:"fade",from:0,to:1,duration:700},hide:{type:"fade",from:1,to:0,duration:700}},deferRendering:!1,message:d.getLocalization("Loading...","AnalyticsCoreStringId.Loading"),visible:t,shading:!0,shadingColor:"transparent",position:{of:e},container:e}},p.prototype.start=function(){a.prototype.start.call(this),this.isVisible(!0)},p.prototype._wizardPopupPosition=function(e){return{of:l.getParentContainer(e)}},p.prototype._loadPanelViewModel=function(e){return this._getLoadPanelViewModel(e,this.isLoading)},p.prototype._getLoadPanelViewModel=function(e,t){return p._getLoadPanelViewModel(e,t)},p);function p(e,t){var r=a.call(this,e,t)||this;return r.height=n.observable(505),r.width=n.observable(690),r._extendCssClass="",r._container=l.getParentContainer,r.itemsProvider=n.observable(),r.nextButton={text:d.getLocalization("Next","AnalyticsCoreStringId.Wizard_Next"),disabled:n.computed(function(){return!r.canNext()}),onClick:function(){return r.nextAction()}},r.cancelButton={text:d.getLocalization("Cancel","AnalyticsCoreStringId.SearchDialog_Cancel"),onClick:function(){return r.isVisible(!1)}},r.previousButton={text:d.getLocalization("Previous","AnalyticsCoreStringId.Wizard_Previous"),disabled:n.computed(function(){return r.isFirstPage()}),onClick:function(){return r.previousAction()}},r.finishButton={text:d.getLocalization("Finish","AnalyticsCoreStringId.Wizard_Finish"),disabled:n.computed(function(){return!r.canFinish()}),onClick:function(){return r.finishAction()}},r._titleTemplate=u.getTemplate("dx-wizard-headerNew"),r.title="Popup Wizard",r}t.PopupWizard=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),n=r(3),i=r(26),s=r(0);function a(e){return e.aggregate()!==i.AggregationType.None}t.isAggregatedExpression=a;c._createTableInfo=function(e){return{displayName:e.actualName(),name:e.actualName(),isList:!0,specifics:"Default",collapsed:o.observable(!0)}},c._createColumnInfo=function(e,t){return{displayName:t.getColumnName(e),isList:!1,specifics:t.getSpecifics(e),dataType:t.getDataType(e),name:t.getColumnName(e)}},c.whereClauseObjectsFilter={filterColumns:function(e){return e},filterTables:function(e){return e},getColumnName:function(e){return e.name.peek()},getSpecifics:function(e){return e.specifics},getDataType:function(e){return e.dataType.peek()}},c.groupByObjectsFilter={filterColumns:function(e){return e.filter(a)},filterTables:function(e){return e.filter(function(e){return e.columns().some(a)})},getColumnName:function(e){return e.actualName.peek()},getSpecifics:function(e){switch(e.aggregate()){case i.AggregationType.Avg:case i.AggregationType.AvgDistinct:return"Float";case i.AggregationType.Count:case i.AggregationType.CountDistinct:return"Integer";default:return e.specifics}},getDataType:function(e){return null}},r=c;function c(i,a){this.getItems=function(t){var e,r=n.Deferred(),o=[];return o=""===t.fullPath?a.filterTables(i().tables()).map(c._createTableInfo):(e=s.findFirstItemMatchesCondition(i().tables(),function(e){return e.actualName()===t.fullPath}),a.filterColumns(e&&e.columns()||[]).map(function(e){return c._createColumnInfo(e,a)})),r.resolve(o),r.promise()},this.hasParameter=function(t){return 0<i().parameters().filter(function(e){return e.name()===t}).length},this.getColumnInfo=function(t){if(t){var r=s.find(i().tables(),function(e){return 0===t.indexOf(e.actualName()+".")});if(r){var e=s.find(a.filterColumns(r.columns()||[]),function(e){return t===r.actualName()+"."+a.getColumnName(e)});return e?c._createColumnInfo(e,a):null}}return null}}t.QueryBuilderObjectsProvider=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(25),i=r(4),r=r(4);t.name={propertyName:"name",modelName:"@Name",displayName:"Name",localizationId:"DevExpress.DataAccess.Sql.SqlQuery.Name",disabled:!0,editor:o.editorTemplates.getEditor("text")},t.alias={propertyName:"alias",modelName:"@Alias",displayName:"Alias",localizationId:"DataAccessUIStringId.QueryBuilderColumns_Alias",defaultVal:"",editor:o.editorTemplates.getEditor("text")},t.text={propertyName:"text",modelName:"@Text",displayName:"Text",editor:o.editorTemplates.getEditor("text")},t.selected={propertyName:"selected",displayName:"Output",editor:o.editorTemplates.getEditor("bool"),localizationId:"DataAccessUIStringId.QueryBuilderColumns_Output"},t.size={propertyName:"size",modelName:"@Size",defaultVal:"100,125",from:i.Size.fromString},t.location={propertyName:"location",modelName:"@Location",from:r.Point.fromString},t.sizeLocation=[t.size,t.location],t.unknownSerializationsInfo=[t.name].concat(t.sizeLocation)},function(e,t){e.exports=DevExpress.Analytics.Criteria},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParametersMode={ReadWrite:"ReadWrite",Read:"Read",Disabled:"Disabled"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(20),a=r(4),n=r(4),s=r(100),c=r(15),d=r(29),l=r(64),u=r(48),p=r(31),f=r(65),m=r(22),h=r(66),y=r(67),g=r(30),_=r(63),v=r(6);t.diagramControlsFactory=new o.ControlsFactory,t.registerControls=function(){t.diagramControlsFactory.registerControl("Unknown",{info:i.unknownSerializationsInfo,type:a.ElementViewModel,nonToolboxItem:!0,surfaceType:n.SurfaceElementBase}),t.diagramControlsFactory.registerControl("Connector",{info:[i.name,{propertyName:"location",displayName:"Location",editor:v.editorTemplates.getEditor("objecteditor")},{propertyName:"startPoint",modelName:"@StartPoint",link:!0},{propertyName:"endPoint",modelName:"@EndPoint",link:!0}],surfaceType:s.ConnectorSurface,type:l.ConnectorViewModel,elementActionsTypes:[],nonToolboxItem:!1}),t.diagramControlsFactory.registerControl("RoutedConnector",{info:[i.name,{propertyName:"location",displayName:"Location",editor:v.editorTemplates.getEditor("objecteditor")},{propertyName:"startPoint",modelName:"@StartPoint",link:!0},{propertyName:"endPoint",modelName:"@EndPoint",link:!0}],surfaceType:u.RoutedConnectorSurface,type:p.RoutedConnectorViewModel,elementActionsTypes:[],nonToolboxItem:!1}),t.diagramControlsFactory.registerControl("ConnectionPoint",{info:f.connectionPointSerializationInfo,surfaceType:m.ConnectionPointSurface,type:f.ConnectionPointViewModel,elementActionsTypes:[],nonToolboxItem:!0}),t.diagramControlsFactory.registerControl("Diagram",{info:h.diagramSerializationsInfo,surfaceType:y.DiagramSurface,popularProperties:["name"],type:h.DiagramViewModel,elementActionsTypes:[],isContainer:!0,nonToolboxItem:!0}),t.diagramControlsFactory.registerControl("DiagramElement",{info:c.diagramElementSerializationInfo,defaultVal:{"@SizeF":"150,50",ConnectingPoints:{Item1:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"1","@PercentOffsetY":"0.5"},Item2:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"1"},Item3:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"0"},Item4:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0","@PercentOffsetY":"0.5"}}},surfaceType:d.DiagramElementSurface,popularProperties:["text"],type:c.DiagramElementViewModel,elementActionsTypes:[],nonToolboxItem:!1}),t.diagramControlsFactory.registerControl("Ellipse",{info:c.diagramElementSerializationInfo,defaultVal:{"@SizeF":"150,50","@Type":"Ellipse",ConnectingPoints:{Item1:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"1","@PercentOffsetY":"0.5"},Item2:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"1"},Item3:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"0"},Item4:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0","@PercentOffsetY":"0.5"}}},surfaceType:d.DiagramElementSurface,popularProperties:["text"],type:c.DiagramElementViewModel,elementActionsTypes:[],nonToolboxItem:!1}),t.diagramControlsFactory.registerControl("Condition",{info:c.diagramElementSerializationInfo,defaultVal:{"@SizeF":"150,50","@Type":"Condition",ConnectingPoints:{Item1:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"1","@PercentOffsetY":"0.5"},Item2:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"1"},Item3:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"0"},Item4:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0","@PercentOffsetY":"0.5"}}},surfaceType:d.DiagramElementSurface,popularProperties:["text"],type:c.DiagramElementViewModel,elementActionsTypes:[],nonToolboxItem:!1}),t.diagramControlsFactory.registerControl("ConnectingPoint",{info:g.connectingPointSerializationInfo,surfaceType:_.ConnectingPointSurface,type:g.ConnectingPointViewModel,elementActionsTypes:[],nonToolboxItem:!0})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,l=r(2),n=r(29),s=r(22),i=(a=n.DiagramElementBaseSurface,i(c,a),c.prototype._createRoutePoint=function(e,t){var r=this;return{x:l.pureComputed(function(){return r._context.rtl()?Math.round(r.getControlModel().size.width()-(e.x()-t.x())):Math.round(e.x()-t.x())}),y:l.pureComputed(function(){return Math.round(e.y()-t.y())}),modelPoint:e}},c.prototype._createRouteLineWrapper=function(o,i,e){var a=this;void 0===e&&(e=!1);var n=this,s=Math.abs(o.x.peek()-i.x.peek())<1,c=o.modelPoint.y.peek(),d=o.modelPoint.x.peek();return{position:{top:Math.min(o.y.peek(),i.y.peek())-2,left:Math.min(o.x.peek(),i.x.peek())-2,width:Math.abs(o.x.peek()-i.x.peek())+6,height:Math.abs(o.y.peek()-i.y.peek())+6},isVerticalLine:s,resizeHandler:function(e){n._control.freezeRoute(!0);try{var t,r;n._control.beginUpdate(),s?(t=a._context.rtl()?d-e.delta.dx:d+e.delta.dx,o.modelPoint.x(t),i.modelPoint.x(t)):(r=c+e.delta.dy,o.modelPoint.y(r),i.modelPoint.y(r))}finally{n._control.endUpdate()}},resizeStopped:function(){n._control.routePoints.notifySubscribers(n._control.routePoints())},isLocked:l.observable(e)}},c.prototype._updateRoutePoints=function(){var t=this,r=[],e=this.getControlModel(),o=e.location;r.push(this._createRoutePoint(e.startPoint().location,o)),e.routePoints().forEach(function(e){r.push(t._createRoutePoint(e,o))}),r.push(this._createRoutePoint(e.endPoint().location,o)),this.routePoints(r)},c._connectorsCount=0,c);function c(e,t){var r=a.call(this,e,t,null)||this;return r.template="dxdd-routed-connector",r.selectiontemplate="dxdd-routed-connector-selection",r.showArrow=l.observable(!1),r.isVisible=l.observable(!0),r.routePoints=l.observableArray(),r.routePointsSet=l.pureComputed(function(){var t=[];return r.routePoints().forEach(function(e){t.push(e.x()+" "+e.y())}),t.join(", ")}),r.routeLineWrappers=l.pureComputed(function(){for(var e=[],t=1;t<r.routePoints().length;t++)e.push(r._createRouteLineWrapper(r.routePoints()[t-1],r.routePoints()[t],1===t||t===r.routePoints().length-1));return e}),r.connectorID=function(){return r._connectorID},r._connectorID=c._connectorsCount++,r.startPoint=l.pureComputed(function(){return new s.ConnectionPointSurface(e.startPoint(),t)}),r.endPoint=l.pureComputed(function(){return new s.ConnectionPointSurface(e.endPoint(),t)}),r._disposables.push(e.routePoints.subscribe(function(e){r._updateRoutePoints()})),r._updateRoutePoints(),r}t.RoutedConnectorSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(1),c=r(19),d=r(1),l=r(1);(r=a=t.JsonNodeType||(t.JsonNodeType={}))[r.Object=0]="Object",r[r.Array=1]="Array",r[r.Property=2]="Property";var u=(p.from=function(e,t){return new p(e,t)},p.toJsonNodes=function(e,t,r){return(e||[]).map(function(e){return p.toJsonNode(e,t,r)})},p.toJsonNode=function(e,t,r,o){void 0===o&&(o=!0);var i=t.serialize(e,_,r),r=o?p.toJsonNodes(e.nodes,t,r):[];return 0<r.length&&(i.Node=r),i},p.prototype.getInfo=function(){return _},p);function p(e,t){this.nodes=[],e&&((t=t||new s.ModelSerializer).deserialize(this,e),e=(e=e.Node)instanceof Array?c.deserializeToCollection(e,function(e){return new p(e)}).sort(function(e,t){return e.name().localeCompare(t.name())}):e?[new p(e)]:[],this.nodes=e)}t.JsonNode=u;var f,m=(i(h,f=u),h.from=function(e,t){return new h(e||{},t)},h.toJson=function(e,t,r){if(!e)return{};var o={Node:u.toJsonNode(e,t,r,!1)};return o.Node.Node=u.toJsonNodes(e.nodes,t,r),o},h.prototype.getInfo=function(){return _},h);function h(e,t){t=f.call(this,e.Node,t)||this;return t.nodeType=a[a.Object],t.valueType="Unknown",t.displayName=d.getLocalization("root"),t.selected=n.observable(!1),t}t.JsonSchemaNode=m;var y,i=(i(g,y=u),g.from=function(e,t){return new g(e)},g.toJson=function(e,t,r){return m.toJson(e.nodes[0],t,r)},g.prototype.getInfo=function(){return v},g.prototype.getRootElementPartList=function(e){if(void 0===e&&(e=!0),this._rootElementList)return this._rootElementList;if(0===this.nodes.length)return[];this._rootElementList=[];var t=this.nodes[0],r={fullPath:n.unwrap(t.name),path:"",pathParts:[n.unwrap(t.name)]};return this._fillRootElementList(t,r,e),this._rootElementList.sort(function(e,t){return e.fullPath.localeCompare(t.fullPath)}),this._rootElementList},g.prototype._fillRootElementList=function(e,r,o){var i=this;if(void 0===e&&(e=this.nodes[0]),void 0===r&&(r={fullPath:"root",path:"",pathParts:["root"]}),!e)return this._rootElementList;var t=n.unwrap(e.nodeType);if(t!=a[a.Property]){if(t!==a[a.Array])return o&&t===a[a.Object]&&this._rootElementList.push(r),(e.nodes||[]).forEach(function(e){var t=i._getNextPath(r,e.name());i._fillRootElementList(e,t,o)}),this._rootElementList;this._rootElementList.push(r)}},g.prototype._getNextPath=function(e,t){var r=e.fullPath?[e.fullPath,t].join("."):t;return{pathParts:e.pathParts.concat(t),fullPath:r,path:t}},g);function g(e,t){e=y.call(this,e)||this;return e._rootElementList=null,e}t.JsonSchemaRootNode=i;var _=[{propertyName:"nodes",modelName:"Node",from:u.from,toJsonObject:u.toJsonNodes},{propertyName:"name",modelName:"@Name"},{propertyName:"selected",modelName:"@Selected",from:l.parseBool},{propertyName:"nodeType",modelName:"@NodeType"},{propertyName:"type",modelName:"@Type"}],v=[{propertyName:"nodes",modelName:"Node",from:i.from,toJsonObject:i.toJsonNodes}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(3),s=r(1),c=r(1),d=r(8),l=r(108),u=r(49),r=r(107),i=(a=s.Disposable,i(p,a),p.prototype.getInfo=function(){return f},p.prototype.clone=function(e){return new p((e=e||new c.ModelSerializer).serialize(this))},p.from=function(e,t){return new p(e,t)},p.toJson=function(e,t,r){return t.serialize(e,f,r)},p.prototype.getSchema=function(e){var t=this;void 0===e&&(e=[]);var r=n.Deferred();return this.jsonSchemaProvider.getJsonSchema(e).done(function(e){t.schema=e,r.resolve(e)}).fail(function(){t.schema=null,r.reject()}),r.promise()},p);function p(e,t,r){void 0===r&&(r=new d.RequestWrapper);var o=a.call(this)||this;return(t=t||new c.ModelSerializer).deserialize(o,e),o.jsonSchemaProvider=new l.JsonSchemaProvider(o,r),o.source&&o._disposables.push(o.source),o._disposables.push(o.connectionName.subscribe(function(){o.source.resetSource()})),o}t.JsonDataSource=i;var f=[{propertyName:"name",modelName:"@Name"},{propertyName:"connectionName",modelName:"@ConnectionName"},{propertyName:"rootElement",modelName:"@RootElement",defaultVal:"root"},{propertyName:"schema",modelName:"Schema",from:u.JsonSchemaRootNode.from,toJsonObject:u.JsonSchemaRootNode.toJson},{propertyName:"source",modelName:"Source",from:r.JsonSource.from,toJsonObject:r.JsonSource.toJson}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(1),c=r(1),d=r(113),l=r(0),i=(a=s.Disposable,i(u,a),u.prototype.dispose=function(){a.prototype.dispose.call(this),this.disposeObservableArray(this.keyColumns)},u.prototype.createKeyColumn=function(){var e={masterColumn:n.observable(),detailColumn:n.observable(),itemType:"KeyColumn"};this.keyColumns.push(e)},u.prototype.getInfo=function(){return d.masterDetailRelationSerializationsInfo},u);function u(e,t){var r=a.call(this)||this;return r.name=n.pureComputed({read:function(){return r._customName()||r.masterQuery()+r.detailQuery()},write:function(e){r._customName(e)},deferEvaluation:!0}),(t||new c.ModelSerializer).deserialize(r,l.extend(e,{"@ItemType":"Relation"})),r._disposables.push(r.name),r}t.MasterDetailRelation=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(19),s=r(1),c=function(e){var t=this;e&&(t.name=e.name,t.displayName=e.displayName,t.dataMember=e.dataMember)};t.ObjectDataMemberBase=c;var d,l=(i(u,d=c),u);function u(e){var t=d.call(this,e)||this;return e&&(t.value=e.value,t.type=e.type,t.resultType=e.resultType),t}t.ObjectParameter=l;var p,r=(i(f,p=c),f);function f(e){var t=p.call(this,e)||this;return t.parameters=n.deserializeToCollection(e.parameters,function(e){return new l(e)}),t}t.ObjectDataSourceMethodBase=r;var m,h=(i(y,m=r),y.empty=function(){return new y({displayName:y.entireObject(),name:y.entireObject(),parameters:[]})},y.prototype.isEntireObject=function(){return this.name==y.entireObject()&&this.displayName==y.entireObject()},y.prototype.isAvailable=function(){return!this.disabled()},y.entireObject=function(){return s.getLocalization("Entire Object","AnalyticsCoreStringId.ObjectDSWizard_ConfigureParameters_EntireObject")},y);function y(e){var t=m.call(this,e)||this;return t.disabled=a.observable(!1),t.memberType=e&&e.memberType,t.isStatic=e.isStatic,t}t.ObjectDataMember=h;var g,_=(i(v,g=r),v);function v(){return null!==g&&g.apply(this,arguments)||this}t.ObjectCtor=_;var b,c=(i(S,b=c),S.prototype.updateMembers=function(t){this.members.forEach(function(e){t?e.disabled(!1):e.disabled(!!e.isEntireObject()||!e.isStatic)})},S);function S(e){var t=b.call(this,e)||this;return t.ctors=n.deserializeToCollection(e.ctors,function(e){return new _(e)}),t.members=n.deserializeToCollection(e.members,function(e){return new h(e)}),t}t.ObjectType=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(168),t.createDefaultSQLAceOptions=function(e){return{showLineNumbers:!1,showPrintMargin:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,readOnly:e=void 0===e?!1:e,highlightSelectedWord:e,showGutter:!1,highlightActiveLine:!1}},t.createDefaultSQLAdditionalOptions=function(t){return{onChange:function(e){t(e.getValue())},onValueChange:function(e){e.resize(!0)},changeTimeout:200,overrideEditorFocus:!0,setUseWrapMode:!0}},t.createDefaultSQLLanguageHelper=function(){return{getLanguageMode:function(){return"ace/mode/sql"},createCompleters:function(){return[]}}}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(7),d=r(0),l=r(5),u=r(0),p=r(1),f=(a=c.WizardPageBase,i(m,a),m.prototype.initialize=function(e){var t=this._connectionStrings();return 1===t.length?this._selectedConnectionString([t[0]]):(t=d.getFirstItemByPropertyValue(t,"name",e.name)||t[0],this._selectedConnectionString(t?[t]:[])),s.Deferred().resolve().promise()},m.prototype.canNext=function(){return 0!==this._selectedConnectionString().length},m.prototype.commit=function(){var e=s.Deferred();return this._selectedConnectionString()[0]?e.resolve({name:this._selectedConnectionString()[0].name}):e.resolve(),e.promise()},m);function m(e){var t=a.call(this)||this;return t._connectionStrings=n.observableArray([]),t._selectedConnectionString=n.observableArray([]),t._connectionStrings=e,t._disposables.push(t._selectedConnectionString.subscribe(function(){return t._onChange()})),t}t.ChooseSqlConnectionPage=f,t._registerChooseSqlConnectionPage=function(e,t){e.registerMetadata(l.SqlDataSourceWizardPageId.ChooseConnectionPage,{create:function(){return new f(t)},setState:function(e,t){t.name=e.name},getState:function(e){return e.sqlDataSourceWizard},resetState:function(e,t){e.name=t.name},template:"dxrd-page-connectionstring",description:u.isCustomizedWithUpdateLocalizationMethod("Choose a data connection")||p.getLocalization("Choose a data connection.","AnalyticsCoreStringId.SqlDSWizard_PageChooseConnection")})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(3),s=r(124),c=r(0),d=r(1),l=r(5),u=(a=s.ChooseAvailableItemPage,i(p,a),p.prototype.commit=function(){return n.Deferred().resolve({connectionName:this.selectedOperation().createNew?null:this.selectedItems()[0].name}).promise()},p.prototype._getSelectedItem=function(e){return c.getFirstItemByPropertyValue(this.items(),"name",e.connectionName)||a.prototype._getSelectedItem.call(this)},Object.defineProperty(p.prototype,"createNewOperationText",{get:function(){return d.getLocalization("No, I'd like to create a new data connection","AnalyticsCoreStringId.JsonDSWizard_CreateNewConnection")},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"existingOperationText",{get:function(){return d.getLocalization("Yes, let me choose an existing data connection from the list","AnalyticsCoreStringId.JsonDSWizard_UseExistingConnection")},enumerable:!0,configurable:!0}),p);function p(){return null!==a&&a.apply(this,arguments)||this}t.ChooseJsonConnectionPage=u,t._registerChooseJsonConnectionPage=function(e,t){e.registerMetadata(l.JsonDataSourceWizardPageId.ChooseConnectionPage,{create:function(){return new u(t.connectionStrings&&t.connectionStrings.json,t.allowCreateNewJsonConnection)},description:t.allowCreateNewJsonConnection?d.getLocalization("Do you want to use an existing data connection?","AnalyticsCoreStringId.JsonDSWizard_ChooseConnection_Description"):d.getLocalization("Choose a data connection.","AnalyticsCoreStringId.SqlDSWizard_PageChooseConnection"),getState:function(e){return e.jsonDataSourceWizard},setState:function(e,t){return t.connectionName=e.connectionName},resetState:function(e,t){e.connectionName=t.connectionName},template:"dxrd-page-selectitems"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(7),d=r(12),l=r(128),u=r(49),p=r(41),f=r(8),m=r(0),h=r(1),y=r(1),g=r(5),_=(a=c.WizardPageBase,i(v,a),v.prototype._clear=function(){this._rootItems([]),this._fieldSelectedPath(""),this._rootElementList([]),this._selectedRootElement(null),this._dataSource&&this._dataSource.jsonSchemaProvider.reset(),this._cachedState={connectionName:null,jsonSource:null}},v.prototype._createFieldListCallback=function(){var r=this;return function(e){var t=new u.JsonNode({});t.nodes=[r._rootItems()[0].data];t=r._getInnerItemsByPath(e,t);return s.Deferred().resolve(t).promise()}},v.prototype._getSchemaToDataMemberInfo=function(t){for(var e=this._dataSource.schema,r=0;r<t.pathParts.length;r++)if(!(e=e.nodes.filter(function(e){return e.name()===t.pathParts[r]})[0]))return null;return e},v.prototype._mapJsonNodesToTreelistItems=function(e){return s.map(e||[],function(e){return{name:e.name(),displayName:e.displayName||e.name(),isSelected:e.selected(),isList:e.nodes&&0<e.nodes.length,specifics:"Default"}})},v.prototype._getNodesByPath=function(t,e){if(t.fullPath){for(var r=e.nodes,o=0;o<t.pathParts.length;o++){var i=(r||[]).filter(function(e){return e.name()==t.pathParts[o]})[0];if(!i)return[];r=i.nodes}return r}return e.nodes},v.prototype._getInnerItemsByPath=function(e,t){t=this._getNodesByPath(e,t);return this._mapJsonNodesToTreelistItems(t)},v.prototype._beginInternal=function(e){var t=this;if(e.connectionName&&this._cachedState.connectionName===e.connectionName||e.jsonSource&&this._cachedState.jsonSource===e.jsonSource)return s.Deferred().resolve().promise();this._clear(),this._cachedState={connectionName:e.connectionName,jsonSource:e.jsonSource};var r=this._dataSource&&this._dataSource.id;return this._dataSource=d._restoreJsonDataSourceFromState(e,this._requestWrapper),r&&r!=this._dataSource.id||!this._dataSource.schema.nodes.length?this._dataSource.getSchema(this._callbacks&&this._callbacks.getParameters&&this._callbacks.getParameters()).done(function(e){return t._updatePage(e)}):s.Deferred().done(function(e){return t._updatePage(e)}).resolve(this._dataSource.schema).promise()},v.prototype._updatePage=function(e){var t,r=e.getRootElementPartList(this._allowObjectRootElements);this._rootElementList()!==r&&this._rootElementList(this._filterRootElementList(r,e)),this._dataSource.rootElement()&&(t=["root",this._dataSource.rootElement()].join("."),e=this._rootElementList().filter(function(e){return e.fullPath===t})[0]||this._rootElementList()[0],this._selectedRootElement(e)),this._onChange()},v.prototype._resetSelectionRecursive=function(e,t){var r=this;e!==t&&(e.selected&&e.selected(!1),(e.nodes||[]).forEach(function(e){return r._resetSelectionRecursive(e,t)}))},v.prototype._mapJsonSchema=function(e,o){var i=this,t=this._fieldListItemsProvider().getNodeByPath(o);if(t)return e.selected(!1!==t.checked()),(e.nodes||[]).forEach(function(e){var t=o.pathParts.concat(e.name()),r=t.join("."),t={fullPath:r,path:e.name(),id:r,pathParts:t};i._mapJsonSchema(e,t)}),e},v.prototype._filterRootElementList=function(e,t){return e},v.prototype.canNext=function(){return!1},v.prototype.canFinish=function(){return this._fieldListItemsProvider().hasCheckedItems()},v.prototype.commit=function(){if(this._rootItems()[0]){var e=this._rootItems()[0].data;this._resetSelectionRecursive(this._dataSource.schema,e);e=e.name(),e={fullPath:e,path:"",id:e,pathParts:[e]};this._mapJsonSchema(this._rootItems()[0].data,e);e=this._selectedRootElement().pathParts.slice(1).join(".");this._dataSource.rootElement(e);e=(new h.ModelSerializer).serialize(this._dataSource);return s.Deferred().resolve({connectionName:this._dataSource.connectionName(),dataSourceName:e["@Name"],jsonScheme:JSON.stringify(e.Schema),rootElement:e["@RootElement"]}).promise()}},v.prototype.initialize=function(e){return this._beginInternal(e)},v.prototype.reset=function(){this._clear()},v);function v(e,t,r){void 0===e&&(e=new f.RequestWrapper),void 0===t&&(t=!0);var o=a.call(this)||this;o._requestWrapper=e,o._allowObjectRootElements=t,o._callbacks=r,o._rootItems=n.observableArray([]),o._fieldListItemsProvider=n.observable(null),o._fieldSelectedPath=n.observable(null),o._cachedState={connectionName:null,jsonSource:null},o._createTreeNode=function(e,t,r){r=new p.DataMemberTreeNode(e.name,e.displayName,e.specifics,t,r);return o._disposables.push(r.checked.subscribe(function(){return o._onChange()})),r},o._createLeafTreeNode=function(e,t,r){r=new p.FieldTreeNode(e.name,e.displayName,e.specifics,t,r);return o._disposables.push(r.checked.subscribe(function(){return o._onChange()})),r},o._rootElementTitle=y.getLocalization("Root element:","DataAccessUIStringId.WizardPageChooseJsonSchema_RootElement"),o._rootElementList=n.observable([]),o._selectedRootElement=n.observable(null);var i=null;o._disposables.push(o._rootElementList.subscribe(function(e){i&&i.dispose(),i=o._selectedRootElement.subscribe(function(e){if(!e)return o._rootItems([]);e=o._getSchemaToDataMemberInfo(e);e&&o._rootItems([{name:n.unwrap(e.name),isSelected:n.unwrap(e.selected),displayName:n.unwrap(e.displayName)||n.unwrap(e.name),data:e,specifics:0<e.nodes.length?"List":"Default"}])}),o._selectedRootElement(e[0])}));r=new m.FieldListProvider(o._createFieldListCallback(),o._rootItems);return o._fieldListItemsProvider(new l.JsonTreeNodeItemsProvider(r,o._rootItems,o._createTreeNode,o._createLeafTreeNode)),o._disposables.push(o._fieldListItemsProvider()),o._fieldListModel={expandRootItems:!0,itemsProvider:o._fieldListItemsProvider(),selectedPath:o._fieldSelectedPath,treeListController:null,templateName:"dxrd-treelist-with-checkbox"},o}t.ChooseJsonSchemaPage=_,t._registerChooseJsonSchemaPage=function(e,t,r){e.registerMetadata(g.JsonDataSourceWizardPageId.ChooseJsonSchemaPage,{setState:function(e,t){t.dataSourceName=e.dataSourceName,t.jsonScheme=e.jsonScheme,t.rootElement=e.rootElement},getState:function(e){return e.jsonDataSourceWizard},resetState:function(e,t){e.dataSourceName=t.dataSourceName,e.jsonScheme=t.jsonScheme,e.rootElement=t.rootElement},create:function(){return new _(t,void 0,r)},description:y.getLocalization("Select data fields.","DataAccessUIStringId.WizardPageChooseJsonSchema"),template:"dxrd-jsondatasource-fields-page"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(11),s=r(0),i=(a=n.DataSourceParameter,i(c,a),c.prototype.getEditorType=function(e){return s.IsDataAccessExpression(e)?{header:"dxqb-expressionstring"}:s.getEditorType(e)},c);function c(){return null!==a&&a.apply(this,arguments)||this}t.ParameterViewModel=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var l,u=r(2),a=r(28),p=r(59),f=r(60),n=r(18),m=r(46),s=r(1),h=r(1),y=r(61),g=r(93),_=r(57),v=r(0),b=r(151),S=r(26),P=r(43),x=r(146),C=r(4),c=r(0),d=r(1),T=r(0),O=r(96),I=r(90),N=r(0),D=r(0),i=(l=a.QueryElementBaseViewModel,i(E,l),E.prototype._initializeTable=function(t){this.dbSchemaProvider.getDbTable(t.name()).done(function(e){t.createColumns(e)})},E.prototype._addColumnsToTable=function(e,t){e._initColumns(t.map(function(e){return new n.DBColumn({Name:e.column()})}))},E.prototype.isPropertyDisabled=function(e){return"skip"===e&&(0===this.skip()&&!this.sorting().length)},E.prototype.canSave=function(e){void 0===e&&(e=!0);var r=[];return this.tables().forEach(function(t){t.getInvalidColumns().forEach(function(e){r.push(c.formatUnicorn(d.getLocalization('The schema does not contain the following column: "{0}"."{1}".',"DataAccessStringId.ColumnNotInSchemaValidationException"),t.actualName(),e.actualName()))})}),!(0<r.length)||(e&&T.ShowMessage(r.join("\n"),"error"),!1)},E.prototype.getInfo=function(){return O.querySerializationsInfo},E.prototype.createChild=function(e){if("Table"!==e["@ControlType"])return l.prototype.createChild.call(this,e);e=new p.TableViewModel(e,this);return this._initializeTable(e),this.addChild(e),e},E.prototype.getAllColumns=function(){return[].concat.apply([],this.tables().map(function(e){return e.columns()}))},E.prototype.tryToCreateRelationsByFK=function(a){var n=this;I.isJoinsResolvingDisabled||this.dbSchemaProvider.getDbSchema().done(function(t){var e=t.tables.filter(function(e){return e.name===a.name()})[0];e&&e.foreignKeys.forEach(function(e){var t=N.getFirstItemByPropertyValue(n.tables.peek(),"name",e.primaryKeyTable);if(t)for(var r=0;r<e.primaryKeyColumns.length;r++){var o=N.getFirstItemByPropertyValue(a.columns(),"name",e.columns[r]),i=N.getFirstItemByPropertyValue(t.columns(),"name",e.primaryKeyColumns[r]);o&&i&&n.cerateJoinCondition(o,i)}}),n.tables.peek().forEach(function(i){var e=t.tables.filter(function(e){return e.name===i.name()})[0];e&&e.foreignKeys.forEach(function(e){if(e.primaryKeyTable===a.name())for(var t=0;t<e.primaryKeyColumns.length;t++){var r=N.getFirstItemByPropertyValue(a.columns(),"name",e.primaryKeyColumns[t]),o=N.getFirstItemByPropertyValue(i.columns(),"name",e.columns[t]);r&&o&&n.cerateJoinCondition(o,r)}})})})},E.prototype.addChild=function(e){e instanceof g.RelationViewModel?-1<this.relations.indexOf(e)||(e.parentModel(this),this.relations.push(e)):e instanceof p.TableViewModel?-1<this.tables.indexOf(e)||(e.parentModel(this),null!==N.getFirstItemByPropertyValue(this.tables(),"actualName",e.name())&&e.alias(v.getUniqueName(this.tables().map(function(e){return e.actualName()}),e.name()+"_")),this.tables.push(e)):T.NotifyAboutWarning("Attempt to add wrong child control.")},E.prototype.removeChild=function(t){if(t instanceof g.RelationViewModel){if(!(this.relations().length<1)){for(var e=t,r=this.relations().indexOf(e);0<e.conditions().length;)e.conditions.pop();this.relations.splice(r,1)}}else if(t instanceof p.TableViewModel){if(!(this.tables().length<1)){this.tables.splice(this.tables().indexOf(t),1);for(var o=this.relations(),i=o.length-1;-1<i;i--)o[i].parentTable()!==t&&o[i].nestedTable()!==t||this.removeChild(o[i]);this.sorting.remove(function(e){return e.isDepended(t.actualName())}),this.grouping.remove(function(e){return e.isDepended(t.actualName())}),this.columns.remove(function(e){return e.isDepended(t.actualName())})}}else T.NotifyAboutWarning("Attempt to remove wrong child control.")},E.prototype.getTable=function(t){return N.findFirstItemMatchesCondition(this.tables(),function(e){return e.actualName()===t})},E.prototype._findTableInAncestors=function(t,r){var o=this;return this.relations().some(function(e){return e.nestedTable()===t&&(e.parentTable()===r||o._findTableInAncestors(e.parentTable(),r))})},E.prototype._findHead=function(t){var r=null;return this.relations().some(function(e){return!!(r=e.nestedTable()===t?e:r)}),r?this._findHead(r.parentTable()):t},E.prototype._isHead=function(t){return!this.relations().some(function(e){return e.nestedTable()===t})},E.prototype._reverseRelations=function(e,t){t.forEach(function(e){var t=e.parentTable();e.parentTable(e.nestedTable()),e.nestedTable(t),e.conditions().forEach(function(e){var t=e.parentColumnName();e.parentColumnName(e.nestedColumnName()),e.nestedColumnName(t)})})},E.prototype.cerateJoinCondition=function(t,r){var o=t.parentModel(),i=r.parentModel();if(o===i)return null;var e,a,n=!1;(s=N.findFirstItemMatchesCondition(this.relations(),function(e){return n=e.parentTable()===i&&e.nestedTable()===o,e.parentTable()===o&&e.nestedTable()===i||n}))||(this._findTableInAncestors(o,i)?n=!0:this._findHead(o)===this._findHead(i)||this._isHead(i)||(a=this._findAncestorsRelations(o),e=this._findAncestorsRelations(i),a.outer>e.outer?this._reverseRelations(i,e.relations):a.outer<e.outer?(this._reverseRelations(o,a.relations),n=!0):a.inner>=e.inner?this._reverseRelations(i,e.relations):a.inner<e.inner&&(this._reverseRelations(o,a.relations),n=!0))),n&&(a=o,o=i,i=a,a=t,t=r,r=a);var s=s||this.createChild({"@ControlType":"Relation","@Parent":o.actualName(),"@Nested":i.actualName(),"@Type":"Inner"});return N.findFirstItemMatchesCondition(s.conditions(),function(e){return e.parentColumn()===t&&e.nestedColumn()===r})||s.createChild({"@ControlType":"JoinCondition","@Parent":t.name(),"@Nested":r.name()})},E.prototype._validate=function(){if(0===this.tables().length)return!1;if(!this.allColumnsInTablesSelected()&&!this.tables().some(function(e){return e.asterisk.selected()||e.columns().some(function(e){return e.selected()})}))return!1;var e=this.tables().map(function(e){return e.actualName()});return this._validateTable(e,e[0]),e.length<1},E.prototype._validateTable=function(t,r){var o=this,e=t.indexOf(r);e<0||(t.splice(e,1),this.relations().map(function(e){return e.parentTableName()===r?e.nestedTableName():e.nestedTableName()===r?e.parentTableName():null}).forEach(function(e){return o._validateTable(t,e)}))},E.prototype.serialize=function(e){return(e=void 0===e?!1:e)?{Query:this.serialize()}:(new s.ModelSerializer).serialize(this)},E.prototype.save=function(){if(this.canSave()){var e=this.serialize(!0);return this.onSave&&this.onSave(e),e}},E.pageMargin=20,E.emptyModel={"@ItemType":"Query",Tables:{SelectedTables:{},Relations:{}},Columns:{},Sorting:{},Grouping:{}},E);function E(e,t,r,o,i){void 0===r&&(r=m.ParametersMode.ReadWrite);var a=l.call(this,D.extend(!0,e,E.emptyModel,e),null,i)||this;a.aggregatedColumnsCount=u.observable(0),a._findAncestorsRelations=function(t){var r={inner:0,outer:0,relations:[]};return a.relations().forEach(function(e){e.nestedTable()===t&&(r.relations.push(e),"LeftOuter"===e.joinType()?r.outer++:r.inner++,e=a._findAncestorsRelations(e.parentTable()),r.inner+=e.inner,r.outer+=e.outer,r.relations.push.apply(r.relations,e.relations))}),r},a.type("SelectQuery"),a.controlType="Query",a.dbSchemaProvider=t,a.onSave=o,a.tables=h.deserializeArray(e.Tables.SelectedTables,function(e){return new p.TableViewModel(e,a,i)}),a.columns=h.deserializeArray(e.Columns,function(e){return new f.ColumnExpression(e,a,i)}),a.sorting=h.deserializeArray(e.Sorting,function(e){return new f.ColumnExpression(e,a,i)}),a.grouping=h.deserializeArray(e.Grouping,function(e){return new f.ColumnExpression(e,a,i)}),a.tables().forEach(function(r){var o=[];[a.columns(),a.sorting(),a.grouping()].forEach(function(e){e.forEach(function(t){r.name()===t.table()&&t.itemType()===y.ColumnType.Column&&o.every(function(e){return e.column()!==t.column()})&&o.push(t)})}),a._addColumnsToTable(r,o),a._initializeTable(r)}),a.relations=h.deserializeArray(e.Tables.Relations,function(e){return new g.RelationViewModel(e,a,i)}),a._tablesObject.tables=a.tables,a._tablesObject.relations=a.relations,a.tables().reduce(function(e,t){return t.location.x(e),t.location.y(65),e+t.size.width()+t.size.width()/2},30);var n=h.deserializeArray(e.Parameters,function(e){return new _.ParameterViewModel(e,i)});r===m.ParametersMode.ReadWrite?(a.parameters=n,a._disposables.push(a.parameters.subscribe(function(e){e.forEach(function(t){"added"!==t.status||t.value.name()||t.value.name(v.getUniqueName(a.parameters().filter(function(e){return e!==t.value}).map(function(e){return e.name()}),"parameter"))})},null,"arrayChange"))):a.parameters=u.computed(function(){return n()}),a.editableName=u.observable(a.name()),a.name=u.pureComputed({read:a.editableName,write:function(e){}}),a.filterString=new b.QBFilterStringOptions(a._filterString,null,u.pureComputed(function(){return 0===a.tables().length&&a.filterString&&0===a.filterString.value().length})),a.filterString.initializeFilterStringHelper(a.parameters,r);var s=!1;a._disposables.push(u.computed(function(){var e,t;s||(s=!0,t=(e=a.getAllColumns()).filter(function(e){return e.aggregate()===S.AggregationType.None}),a.aggregatedColumnsCount(e.length-t.length),e.length!==t.length?t.filter(function(e){return e.selected()&&!e.groupBy.peek()}).forEach(function(e){return e.groupBy(!0)}):e.every(function(e){return!e.selected.peek()||e.groupBy.peek()})||e.forEach(function(e){e.groupBy.peek()&&e.groupBy(!1)}),s=!1)})),a.groupFilterString=new b.QBFilterStringOptions(a._groupFilterString,null,u.pureComputed(function(){return!a.columns().some(P.isAggregatedExpression)&&a.groupFilterString&&0===(a.groupFilterString.value()||"").length})),a.groupFilterString.initializeFilterStringHelper(a.parameters,r,new x.GroupFilterEditorSerializer(a.columns));var c=u.observable(0);a.pageWidth=u.pureComputed({read:function(){var t=500;return a.tables().forEach(function(e){e=e.location.x()+e.size.width();t<e&&(t=e)}),Math.max(c(),t)},write:function(e){c(e)}}),a.pageHeight=u.pureComputed(function(){var t=500;return a.tables().forEach(function(e){e=e.location.y()+e.size.height();t<e&&(t=e+E.pageMargin)}),t}),a.margins=C.Margins.fromString(),a.isValid=u.pureComputed(function(){return a._validate()});function d(e){return!e.table()&&e.itemType()===y.ColumnType.AllColumns}return a.allColumnsInTablesSelected=u.computed({read:function(){return a.columns().some(d)},write:function(e){e?a.columns.push(new f.ColumnExpression({"@ItemType":"AllColumns"},a,i)):a.columns.remove(d)}}),a}t.QueryViewModel=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(28),c=r(91),d=r(153),l=r(4),u=r(4),p=r(92),f=r(0),m=r(0),i=(a=s.QueryElementBaseViewModel,i(h,a),h.prototype.columns=function(){return this._columns()},h.prototype.toggleSelectedColumns=function(){var t=!this.allColumnsSelected.peek();this._columns.peek().forEach(function(e){e.selected(t)})},h.prototype.getColumnConnectionPoints=function(t){var r=this,e=n.pureComputed({read:function(){var e=r._columns.indexOf(t)+1;return r.location.y()+h.COLUMNS_OFFSET+h.COLUMN_MARGIN*e+h.COLUMN_HEIGHT*(e+.5)},deferEvaluation:!0});return{left:{x:this._columnsConnectionPointLeftX,y:e},right:{x:this._columnsConnectionPointRightX,y:e}}},h.prototype.getInfo=function(){return p.tableSerializationInfo},h.prototype.getInvalidColumns=function(){return this.columns().filter(function(e){return e.isNotAvailable()&&e.selected()})},h.prototype.getColumn=function(e){return f.getFirstItemByPropertyValue(this._columns(),"name",e)},h.prototype._initColumns=function(e,t){var r=this;void 0===t&&(t=!1);var o=[];e.forEach(function(e){o.push(new c.ColumnViewModel({"@Name":e.name},e,r,r.serializer))}),this._columns(t?[].concat([],this.columns(),o):o)},h.prototype.createColumns=function(r){var e=this,o=0;this.columns().forEach(function(t){var e=r.columns.filter(function(e){return e.name===t.name()})[0];e?(t._type(e.type),t._size(e.size)):(t.isNotAvailable(r.columns.every(function(e){return e.name!==t.name()})),o++)}),this.columns().length-o<r.columns.length&&this._initColumns(r.columns.filter(function(t){return e.columns().every(function(e){return e.name()!==t.name})}),!0),this._initialized(!0)},h.COLUMNS_OFFSET=37,h.COLUMN_HEIGHT=32,h.COLUMN_MARGIN=1,h.TABLE_MIN_WIDTH=80,h.TABLE_DEFAULT_HEIGHT=136,h);function h(e,t,r){var o=a.call(this,m.extend(e,{"@ControlType":"Table","@ItemType":"Table"}),t,r)||this;return o.serializer=r,o._columnsConnectionPointLeftX=n.pureComputed(function(){return o.location.x()}),o._columnsConnectionPointRightX=n.pureComputed(function(){return o.location.x()+o.size.width()}),o._columns=n.observableArray(),o._initialized=n.observable(!1),o.size=new l.Size(199,123),o.location=new u.Point(0,0),o.actualName=n.pureComputed(function(){return o.alias()||o.name()}),o.isReady=n.observable(!1),o.allColumnsSelected=n.computed({read:function(){var e=o.columns().filter(function(e){return e.selected()});return 0!==e.length&&e.length===o._columns.peek().length},deferEvaluation:!0}),o.isInitialized=n.pureComputed(function(){return o._initialized()}),o.size.height=n.pureComputed({read:function(){return 0===o._columns().length?h.TABLE_DEFAULT_HEIGHT:h.COLUMNS_OFFSET+(h.COLUMN_HEIGHT+h.COLUMN_MARGIN)*(o._columns().length+1)},write:function(){}}),o.asterisk=new d.AllColumnsViewModel(o,o.serializer),o}t.TableViewModel=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(45),s=r(1),c=r(147),d=r(45),l=r(0),o=r(61),r=(i.prototype.actualName=function(){return this.alias()||this.column()},i.prototype.getInfo=function(){return o.columnExpressionSerializationsInfo},i.prototype.isDepended=function(t){return!!l.findFirstItemMatchesCondition(this._dependedTables,function(e){return e.actualName()===t})},i);function i(e,r,t){var o=this;if((t=t||new s.ModelSerializer).deserialize(this,e),this._dependedTables=[],this.table()){var i=r.getTable(this.table());this.table=a.pureComputed(function(){return i.actualName()}),this._dependedTables.push(i)}else if(this.expression())try{this._criteria=n.CriteriaOperator.parse(this.expression()),c.criteriaForEach(this._criteria,function(t){var e;t instanceof d.OperandProperty&&((e=l.findFirstItemMatchesCondition(r.tables(),function(e){return 0===t.propertyName.indexOf(e.actualName()+".")}))&&o._dependedTables.push(e))})}catch(e){}}t.ColumnExpression=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=r(26);t.ColumnType={RecordsCount:"RecordsCount",Column:"Column",Expression:"Expression",AllColumns:"AllColumns"},t.columnExpressionSerializationsInfo=[{propertyName:"expression",modelName:"#text"},{propertyName:"table",modelName:"@Table"},{propertyName:"column",modelName:"@Name"},{propertyName:"aggregate",modelName:"@Aggregate",defaultVal:r.AggregationType.None},{propertyName:"alias",modelName:"@Alias"},{propertyName:"descending",modelName:"@Descending",defaultVal:!1},{propertyName:"itemType",modelName:"@ItemType"}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(4),c=r(43),d=r(0),i=(a=s.SurfaceElementBase,i(l,a),l);function l(e,t){var o=a.call(this,e,t,null)||this;return o.template="dxqb-table-field",o.toggleSelected=function(){o.getControlModel().selected(!o.getControlModel().selected())},o.selectedWrapper=n.pureComputed(function(){return o.getControlModel().selected()}),o.isNotAvailable=n.pureComputed(function(){return o._control.isNotAvailable()}),o.isAggregate=n.pureComputed(function(){return c.isAggregatedExpression(o.getControlModel())}),o.isAscending=n.pureComputed(function(){return"Ascending"===o.getControlModel().sortingType()}),o.isDescending=n.pureComputed(function(){return"Descending"===o.getControlModel().sortingType()}),o.cssClasses=function(e,t,r){return o._isJoined||(o._isJoined=n.pureComputed(function(){return e.isJoined(o)||o.getControlModel()===t.getDragColumn()})),o._isHovered||(o._isHovered=n.pureComputed(function(){var e=!!t.getDragColumn()&&o.getControlModel().parentModel()!==t.getDragColumn().parentModel();return o.underCursor().isOver&&(!d.DragDropHandler.started()||e)})),{"dxd-state-invalid":o.isNotAvailable,"dxd-state-active":o.selected(),"dxd-state-joined":o._isJoined,"dxd-state-hovered":o._isHovered}},o}t.ColumnSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),r=r(29),i=(a=r.DiagramElementBaseSurface,i(s,a),s._unitProperties={_x:function(e){return n.pureComputed(function(){return e.location.x()-e.parentModel().location.x()})},_y:function(e){return n.pureComputed(function(){return e.location.y()-e.parentModel().location.y()})}},s);function s(e,t){t=a.call(this,e,t,s._unitProperties)||this;return t.template="dxdd-connecting-point",t.selectiontemplate="dxdd-connection-point-selection",t.contenttemplate="",t}t.ConnectingPointSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(15),c=r(65),d=r(4),l=r(4),u=r(0),i=(a=s.DiagramElementBaseViewModel,i(p,a),p.prototype.getX=function(){return(this.startPoint().location.x()<this.endPoint().location.x()?this.startPoint():this.endPoint()).location.x()},p.prototype.getY=function(){return(this.startPoint().location.y()<this.endPoint().location.y()?this.startPoint():this.endPoint()).location.y()},p.prototype.getWidth=function(){return Math.abs(this.startPoint().location.x()-this.endPoint().location.x())||p.MIN_LINE_THICKNESS},p.prototype.getHeight=function(){return Math.abs(this.startPoint().location.y()-this.endPoint().location.y())||p.MIN_LINE_THICKNESS},p.MIN_LINE_THICKNESS=3,p);function p(e,t,r){var o=a.call(this,u.extend({"@ControlType":"Connector"},e),t,r)||this;return o.startPoint(o.startPoint()||new c.ConnectionPointViewModel({"@Location":"0, 0"},o,r)),o.endPoint(o.endPoint()||new c.ConnectionPointViewModel({"@Location":"150, 75"},o,r)),o.location=new d.Point(0,0),o.location.x=n.pureComputed({read:function(){return o.getX()},write:function(e){e-=(o.startPoint().location.x()<o.endPoint().location.x()?o.startPoint():o.endPoint()).location.x();o.startPoint().location.x(o.startPoint().location.x()+e),o.endPoint().location.x(o.endPoint().location.x()+e)}}),o.location.y=n.pureComputed({read:function(){return o.getY()},write:function(e){e-=(o.startPoint().location.y()<o.endPoint().location.y()?o.startPoint():o.endPoint()).location.y();o.startPoint().location.y(o.startPoint().location.y()+e),o.endPoint().location.y(o.endPoint().location.y()+e)}}),o.size=new l.Size(0,0),o.size.width=n.pureComputed({read:function(){return o.getWidth()},write:function(e){o.startPoint().location.x()<o.endPoint().location.x()?o.endPoint().location.x(o.startPoint().location.x()+e):o.startPoint().location.x(o.endPoint().location.x()+e)}}),o.size.height=n.pureComputed({read:function(){return o.getHeight()},write:function(e){o.startPoint().location.y()<o.endPoint().location.y()?o.endPoint().location.y(o.startPoint().location.y()+e):o.startPoint().location.y(o.endPoint().location.y()+e)}}),o}t.ConnectorViewModel=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n,s=r(2),a=r(15),c=r(20),d=r(0),i=(n=a.DiagramElementBaseViewModel,i(l,n),l);function l(e,t,r){var o=n.call(this,d.extend(e,{"@ControlType":"ConnectionPoint"}),t,r)||this,i=o.location.x,a=o.location.y;return o.location.x=s.pureComputed({read:function(){return o.connectingPoint()&&o.connectingPoint().location.x()||i()},write:function(e){o.connectingPoint(null),i(e)}}),o.location.y=s.pureComputed({read:function(){return o.connectingPoint()&&o.connectingPoint().location.y()||a()},write:function(e){o.connectingPoint(null),a(e)}}),o}t.ConnectionPointViewModel=i,t.connectionPointSerializationInfo=[c.location,{propertyName:"connectingPoint",modelName:"@ConnectingPoint",link:!0}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(15),c=r(1),d=r(4),l=r(1),u=r(20),r=r(6),i=(a=s.DiagramElementBaseViewModel,i(p,a),p.prototype.getInfo=function(){return t.diagramSerializationsInfo},p);function p(e){var t=this,r=new c.ModelSerializer;return(t=a.call(this,e,null,r)||this).controlType="Diagram",t.controls=n.observableArray(),t.name("Diagram"),t}t.DiagramViewModel=i,t.margins={propertyName:"margins",modelName:"@Margins",from:d.Margins.fromString,displayName:"Margins"},t.pageWidth={propertyName:"pageWidth",modelName:"@PageWidth",defaultVal:850,from:l.floatFromModel,displayName:"Page Width",editor:r.editorTemplates.getEditor("numeric")},t.pageHeight={propertyName:"pageHeight",modelName:"@PageHeight",defaultVal:1250,from:l.floatFromModel,displayName:"Page Height",editor:r.editorTemplates.getEditor("numeric")},t.diagramSerializationsInfo=[u.name,t.pageWidth,t.pageHeight,t.margins]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(4),c=r(0),d=r(0),i=(a=s.SurfaceElementBase,i(l,a),l.prototype.checkParent=function(e){return!1},l.prototype.getChildrenCollection=function(){return n.observableArray([])},l._unitProperties={_width:function(e){return e.pageWidth},_height:function(e){return e.pageWidth},pageWidth:function(e){return e.pageWidth},pageHeight:function(e){return e.pageHeight},_bottom:function(e){return e.margins.bottom},_left:function(e){return e.margins.left},_right:function(e){return e.margins.right},_top:function(e){return e.margins.top}},l);function l(e,t){void 0===t&&(t=n.observable(1));var r=a.call(this,e,{measureUnit:n.observable("Pixels"),zoom:t,dpi:n.observable(100)},l._unitProperties)||this;return r.measureUnit=n.observable("Pixels"),r.dpi=n.observable(100),r.controls=n.observableArray(),r.allowMultiselect=!1,r.focused=n.observable(!1),r.selected=n.observable(!1),r.underCursor=n.observable(new d.HoverInfo),r.parent=null,r.templateName="dx-diagram-surface",r.margins={bottom:r._bottom,left:r._left,right:r._right,top:r._top},r.zoom=t,r._context=r,c.createObservableArrayMapCollection(e.controls,r.controls,r._createSurface),r}t.DiagramSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(1),d=r(102),l=r(8),u=r(0),p=r(0),f=r(1),m=r(0),i=(a=c.Disposable,i(h,a),h.prototype._getDBSchema=function(e){return this._getDBSchemaCallback(this.connection,e)},h.prototype._getDBSchemaCallback=function(e,t){return d.getDBSchemaCallback(this._requestWrapper,e,t)},h.prototype._getDBStoredProcedures=function(e){return d.getDBStoredProceduresCallback(this._requestWrapper,e)},h.prototype.getDbSchema=function(){return this._dbSchema&&"rejected"!==this._dbSchema.state()||(this._dbSchema=this._getDBSchema()),this._dbSchema},h.prototype.getDbStoredProcedures=function(){return this._dbStoredProceduresSchema&&"rejected"!==this._dbStoredProceduresSchema.state()||(this._dbStoredProceduresSchema=this._getDBStoredProcedures(this.connection)),this._dbStoredProceduresSchema},h.prototype.getDbTable=function(t){var r,o=this;return this._tables[t]||(r=s.Deferred(),this._tables[t]=r.promise(),this.getDbSchema().done(function(e){e=u.findFirstItemMatchesCondition(e.tables,function(e){return e.name===t});e?0<e.columns.length?r.resolve(e):o._tableRequests.push({table:e,deferred:r}):(r.reject(),p.isCustomizedWithUpdateLocalizationMethod("The schema does not contain the specified table: ")?f.getLocalization("The schema does not contain the specified table: "):m.formatUnicorn(f.getLocalization('The schema does not contain the specified table: "{0}".',"DataAccessStringId.TableNotInSchemaValidationException"),t))}).fail(function(){return r.reject()})),this._tables[t]},h);function h(e,t){void 0===t&&(t=new l.RequestWrapper);var r=a.call(this)||this;return r._requestWrapper=t,r._tables={},r._tableRequests=n.observableArray([]).extend({deferred:!0}),r.connection=e,r._disposables.push(r.connection.name.subscribe(function(){r._tables={},r._dbSchema=null,r._dbStoredProceduresSchema=null})),r._disposables.push(n.computed(function(){var e,t=r._tableRequests();t.length&&(r._tableRequests([]),e=t.map(function(e){return e.table}),r._getDBSchema(e).done(function(r){t.forEach(function(t){var e=r.tables.filter(function(e){return e.name===t.table.name})[0];e?(t.table.columns=e.columns,t.deferred.resolve(t.table)):t.deferred.reject()})}).fail(function(){return t.forEach(function(e){return e.deferred.reject()})}))})),r.getItems=function(e){var t=s.Deferred();return e.fullPath?t.resolve([]):r.getDbSchema().done(function(e){t.resolve(s.map(e.tables,function(e){return{name:e.name,displayName:e.name,isList:!1,specifics:e.isView?"view":"table",dragData:{noDragable:!1}}}))}),t.promise()},r}t.DBSchemaProvider=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(19);t.DBStoredProcedure=function(e){this.name=e.Name,this.arguments=o.deserializeToCollection(e.arguments,function(e){return new i(e)})},(r=t.DBStoredProcedureArgumentDirection||(t.DBStoredProcedureArgumentDirection={}))[r.In=0]="In",r[r.Out=1]="Out",r[r.InOut=2]="InOut";var i=function(e){this.name=e.Name,this.type=e.Type,this.direction=e.Direction};t.DBStoredProcedureArgument=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=r(0);t.ActionId={Save:"dxqb-save",DataPreview:"dxqb-data-preview",SelectStatementPreview:"dxqb-select-statement-preview"},t.HandlerUri=r.createGlobalModuleVariableFunc("DXQB.axd")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(1),a=r(106),n=[{propertyName:"name",modelName:"@Name"},{propertyName:"tables",modelName:"Views",array:!0}],r=(s.prototype.getInfo=function(){return n},s.from=function(e,t){return e&&new s(e.DataSet,t)||null},s.toJson=function(e,t,r){return{DataSet:t.serialize(e,n,r)}},s);function s(e,t){(t=t||new o.ModelSerializer).deserialize(this,e),this.tables=i.deserializeArray(e&&e.Views||[],function(e){return new a.ResultTable(e,t)})}t.ResultSet=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),r=(i.from=function(e,t){return new i(e,t)},i.toJson=function(e,t,r){return t.serialize(e,e.getInfo(),r)},i.prototype.getInfo=function(){return[{propertyName:"password",modelName:"@password",defaultVal:""},{propertyName:"userName",modelName:"@user",defaultVal:""}]},i);function i(e,t){(t=t||new o.ModelSerializer).deserialize(this,e||{})}t.JsonAuthenticationInfo=r},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(1),c=r(1),d=r(6),l=r(1);(r=a=t.JsonParameterType||(t.JsonParameterType={}))[r.PathParameter=0]="PathParameter",r[r.QueryParameter=1]="QueryParameter",r[r.Header=2]="Header";var u,i=(u=s.Disposable,i(p,u),p.from=function(e,t){return new p(e||{},t)},p.toJson=function(e,t,r){return t.serialize(e,e.getInfo(),r)},p.prototype._initEditingProperties=function(){var e=this.value()||"";0===e.indexOf(this.expression_Prefix)?(this.isExpression(!0),this._expression.value(e.substring(this.expression_Prefix.length))):this._editingValue(e)},p.prototype.switchEditors=function(){var e=!this.isExpression();this.isExpression(e),e?this._expression.value(this._editingValue()?"'"+this._editingValue()+"'":""):this._editingValue("")},p.prototype.getInfo=function(){return[{propertyName:"name",modelName:"@Name",displayName:"Name",editor:d.editorTemplates.getEditor("text")},{propertyName:"value",modelName:"@Value",displayName:"Value",editor:d.editorTemplates.getEditor("text")},{propertyName:"itemType",modelName:"@ItemType",defaultVal:a[a.PathParameter],alwaysSerialize:!0}]},p);function p(e,t){var r=u.call(this)||this;return r.expression_Prefix="expression:",r.namePlaceholder=function(){return l.getLocalization("Name","AnalyticsCoreStringId.CollectionEditor_Name_Placeholder")},r.valuePlaceholder=function(){return l.getLocalization("Value","AnalyticsCoreStringId.CollectionEditor_Value_Placeholder")},r._editingValue=n.observable(""),r._expression={value:n.observable("")},r.isExpression=n.observable(!1),r.itemsProvider=null,r._parameterTypes=f,(t=t||new c.ModelSerializer).deserialize(r,e),r._initEditingProperties(),r._disposables.push(r.value=n.computed(function(){var e=r.expression_Prefix+r._expression.value(),t=r._editingValue();return r.isExpression.peek()?e:t})),r}t.JsonParameter=i;var f=[{value:a[a.PathParameter],displayValue:"Path Parameter",localizationId:"AnalyticsCoreStringId.JsonDSWizard_ChooseJsonSourcePage_PathParameter"},{value:a[a.QueryParameter],displayValue:"Query Parameter",localizationId:"AnalyticsCoreStringId.JsonDSWizard_ChooseJsonSourcePage_QueryParameter"},{value:a[a.Header],displayValue:"Header",localizationId:"AnalyticsCoreStringId.JsonDSWizard_ChooseJsonSourcePage_Header"}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(114),s=r(71),c=r(1),d=r(9),l=r(32),u=r(34),p=r(35),f=r(1),m=r(8),h=r(51),y=r(110),g=r(68),_=r(0),v=[{propertyName:"name",modelName:"@Name"},{propertyName:"connection",modelName:"Connection",from:n.SqlDataConnection.from,toJsonObject:n.SqlDataConnection.toJson},{propertyName:"queries",modelName:"Queries",array:!0},{propertyName:"relations",modelName:"Relations",array:!0},{propertyName:"resultSet",modelName:"ResultSchema",from:s.ResultSet.from,toJsonObject:s.ResultSet.toJson},{propertyName:"itemType",modelName:"@ItemType"}],i=(a=c.Disposable,i(b,a),b.prototype.getInfo=function(){return v},b.prototype.createQuery=function(e,t){if(e["@Type"]===d.SqlQueryType.customSqlQuery)return new l.CustomSqlQuery(e,this,t);if(e["@Type"]===d.SqlQueryType.tableQuery)return new u.TableQuery(e,this,t);if(e["@Type"]===d.SqlQueryType.storedProcQuery)return new p.StoredProcQuery(e,this,t);throw new Error("Unknown sql query type.")},b);function b(e,t,r){void 0===r&&(r=new m.RequestWrapper);var o=a.call(this)||this;(t=t||new f.ModelSerializer).deserialize(o,_.extend(e,{"@ItemType":"SqlDataSource"}));var i=o._model.Name;return i&&(o.name()||o.name(i),delete o._model.Name),o.queries=c.deserializeArray(e.Queries,function(e){return o.createQuery(e,t)}),o.relations=c.deserializeArray(e.Relations,function(e){return new h.MasterDetailRelation(e,t)}),o.connection&&e.ConnectionOptions&&(o.connection.options=new y.ConnectionOptions(e.ConnectionOptions,t)),o.dbSchemaProvider=new g.DBSchemaProvider(o.connection,r),o._disposables.push(o.connection.name.subscribe(function(){o.queries([]),o.relations([]),o.resultSet=null})),o}t.SqlDataSource=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=r(0);t.generateQueryUniqueName=function(e,t){var r=(t.name()||t.generateName()).replace(".","_");return o.findFirstItemMatchesCondition(e,function(e){return e.name()===r})?i.getUniqueNameForNamedObjectsArray(e,r+"_"):r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),r=(i.prototype._getPageState=function(e,t){return void 0===t&&(t=this.globalState),this.pageFactory.getMetadata(e).getState(t)},i.prototype.setPageState=function(e,t){this.pageFactory.getMetadata(e).setState(t,this.getPageState(e))},i.prototype.getPageState=function(e){return this._getPageState(e)},i.prototype.resetPageState=function(e){var t=o.extend(!0,{},this._getPageState(e,this.defaultState));this.pageFactory.getMetadata(e).resetState(this.getPageState(e),t)},i.prototype.getCurrentState=function(){return this.globalState},i.prototype.reset=function(){this.globalState.reset()},i);function i(e,t){this.globalState=e,this.pageFactory=t,this.defaultState=o.extend(!0,{},e)}t.StateManager=r},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(1),d=r(35),l=r(69),u=r(0),p=r(1),f=r(11),m=r(18),h=r(33),i=(a=c.Disposable,i(y,a),y.prototype._needToProcessParameters=function(e){return e.arguments.some(y._availableConvertToParameter)},y._availableConvertToParameter=function(e){return e.direction!==l.DBStoredProcedureArgumentDirection.Out},Object.defineProperty(y.prototype,"_selectedProcedure",{get:function(){return this.selectedProcedure()[0]},set:function(e){this.selectedProcedure(e?[e]:[])},enumerable:!0,configurable:!0}),y.prototype.scrollActiveItem=function(e){var t=e.model.selectedProcedure.peek();e.component.scrollToItem(t[0])},y.generateStoredProcedureDisplayName=function(e){return 0===e.arguments.length?e.name:e.arguments.reduce(function(e,t,r,o){return e+(t.name+(r<o.length-1?", ":")"))},e.name+"(")},y.prototype.setQuery=function(e){return this._query=e,this._selectedProcedure=u.getFirstItemByPropertyValue(this.storedProcedures(),"name",e.procName()),s.Deferred().resolve().promise()},y.prototype.getQuery=function(){var t=this;if(!this._selectedProcedure)return null;var r=new d.StoredProcQuery({"@Name":this._query.name()||this._selectedProcedure.name,ProcName:this._selectedProcedure.name},this._query.parent);return this._selectedProcedure.arguments.forEach(function(e){y._availableConvertToParameter(e)&&r.parameters.push(u.getFirstItemByPropertyValue(t._query.parameters(),"name",e.name)||new f.DataSourceParameter({"@Name":e.name,"@Type":m.DBColumn.GetType(e.type)},null,h.storedProcParameterSerializationsInfo(m.DBColumn.GetType(e.type))))}),r},Object.defineProperty(y.prototype,"runQueryBuilderDisabled",{get:function(){return!0},enumerable:!0,configurable:!0}),y);function y(){var t=a.call(this)||this;return t.template="dxrd-procedures-control",t.storedProcedures=n.observableArray([]),t.selectedProcedure=n.observableArray([]),t.caption=function(){return p.getLocalization("Select a stored procedure:","DataAccessUIStringId.StoredProcControl_Caption")},t.generateStoredProcedureDisplayName=function(e){return y.generateStoredProcedureDisplayName(e)},t.isNextDisabled=n.pureComputed(function(){return!t._selectedProcedure||!t._needToProcessParameters(t._selectedProcedure)}),t.isFinishDisabled=n.pureComputed(function(){return!t._selectedProcedure||t._needToProcessParameters(t._selectedProcedure)}),t.storedProcedures.subscribe(function(e){e?t._selectedProcedure?t._selectedProcedure=u.getFirstItemByPropertyValue(t.storedProcedures(),"name",t._selectedProcedure.name):t._query&&t._query.procName()?t._selectedProcedure=u.getFirstItemByPropertyValue(t.storedProcedures(),"name",t._query.procName()):t._selectedProcedure=e[0]:t._selectedProcedure=null}),t}t.StoredProceduresQueryControl=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(0),r=(a.prototype.getQuerySqlText=function(e){e=JSON.stringify({Query:(new o.ModelSerializer).serialize(e)});return this._selectStatementCallback(this._connection(),e).fail(function(e){e=i.getErrorMessage(e);i.ShowMessage("Unable to build a SQL string"+(e?": "+e:"."))})},a);function a(e,t){this._selectStatementCallback=e,this._connection=t}t.SelectQuerySqlTextProvider=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),a=r(0),o=r(34),n=r(1),s=r(0),c=r(1),r=(d.prototype.show=function(e,t){this._dataSource=t,this._dbSchemaProvider(t.dbSchemaProvider),this._query((new n.ModelSerializer).serialize(e)),this.qbOptions(this.qbOptions()||this.customizeQBInitializationData({queryBuilderModel:this.designer,querySource:this._query,dbSchemaProvider:this._dbSchemaProvider,callbacks:{customizeActions:d.customizeQueryBuilderActions},rtl:this._rtl})),this.isVisible(!0),this.designer().updateSurface()},d.prototype.cancelHandler=function(){this.isVisible(!1)},d.prototype.previewHandler=function(){this.designer().showPreview()},d.prototype.okHandler=function(){var e=this;this.designer().model().canSave()&&this._applyQuery(new o.TableQuery(this.designer().model().serialize(),this._dataSource),this.showLoadIndicator).done(function(){e.isVisible(!1)})},d.prototype.onHiddenHandler=function(){this.designer().dataPreview.isVisible(!1)},d.prototype.popupViewModel=function(e){e=s.getParentContainer(e);return{visible:this.isVisible,title:this.getDisplayText("title"),showTitle:!0,shading:!0,fullScreen:!1,width:"95%",height:"95%",container:e,wrapperAttr:{class:"dxrd-querybuilder-popup"},position:{of:e},onHidden:this.onHiddenHandler}},d.prototype.getDisplayText=function(e){return c.getLocalization(this.localizationIdMap[e].text,this.localizationIdMap[e].localizationId)},d.customizeQueryBuilderActions=function(e){var t=a.findFirstItemMatchesCondition(e,function(e){return"Delete"===e.text}),r=a.findFirstItemMatchesCondition(e,function(e){return"Undo"===e.text}),o=a.findFirstItemMatchesCondition(e,function(e){return"Redo"===e.text});e.splice(0,e.length,t,r,o)},d);function d(e,t,r){void 0===t&&(t=!1);var o=this;this.customizeQBInitializationData=r=void 0===r?function(e){return e}:r,this._query=i.observable(null),this._dbSchemaProvider=i.observable(null),this.designer=i.observable(),this.qbOptions=i.observable(null),this.okButtonDisabled=i.pureComputed(function(){return o.designer()&&!o.designer().model().isValid()}),this.isVisible=i.observable(!1),this.showLoadIndicator=i.observable(!1),this.localizationIdMap={title:{text:"Query Builder",localizationId:"DataAccessUIStringId.QueryBuilder"},loading:{text:"Loading...",localizationId:"AnalyticsCoreStringId.Loading"},previewResults:{text:"Preview Results...",localizationId:"DataAccessUIStringId.QueryBuilderButtons_PreviewResults"},cancel:{text:"Cancel",localizationId:"AnalyticsCoreStringId.SearchDialog_Cancel"},ok:{text:"OK",localizationId:"DataAccessUIStringId.Button_OK"}},this._applyQuery=e,this._rtl=t}t.QueryBuilderPopup=r},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(3),s=r(7),c=r(23),d=r(81),l=r(5),u=r(1),p=(a=s.WizardPageBase,i(f,a),f.prototype.canNext=function(){return!1},f.prototype.canFinish=function(){return!0},f.prototype.commit=function(){return n.Deferred().resolve({selectedType:this._objectDataSource.selectedType,ctor:this._objectDataSource.ctor,dataMember:this._objectDataSource.dataMember,dataSourceName:this._objectDataSource.name()}).promise()},f.prototype.initialize=function(e){return this._objectDataSource.setState(e),this._chooseObjectParameters.updateCtorParameters(this._objectDataSource.ctor),this._chooseObjectParameters.updateMethodParameters(this._objectDataSource.dataMember),n.Deferred().resolve().promise()},f);function f(e){var t=a.call(this)||this;return t._objectDataSource=new c.ObjectDataSource,t._disposables.push(t._chooseObjectParameters=new d.ChooseObjectMemberParameters(e)),t}t.ConfigureObjectDataSourceParametersPage=p,t._registerConfigureObjectDataSourceParametersPage=function(e,t){e.registerMetadata(l.ObjectDataSourceWizardPageId.ConfigureParametersPage,{setState:function(e,t){t.ctor=e.ctor,t.dataMember=e.dataMember,t.selectedType=e.selectedType},getState:function(e){return e.objectDataSourceWizard},resetState:function(e,t){e.dataMember=t.dataMember},create:function(){return new p(t&&t())},description:u.getLocalization("Configure constructor parameters and/or method parameters.","AnalyticsCoreStringId.ObjectDSWizard_ConfigureParameters_Description"),template:"dx-objectdatasource-configureparameters-page"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(1),c=r(0),d=r(0),l=r(11),u=r(1),r=r(6),p=(a=s.Disposable,i(f,a),f.prototype.switchPropertyType=function(){this.isExpression()?(this.type(this._parameter.resultType),this._parameter.value=this.value()):(this.type(c.ExpressionType),this._parameter.value=this.expression.value())},f.prototype.isExpression=function(){return c.IsDataAccessExpression(this.type())},f.prototype._generateInfo=function(e,t){return d.extend({},{displayName:this._parameter.displayName,propertyName:t=void 0===t?"value":t,modelName:t,editorOptions:{}},e)},f.prototype._initGetInfo=function(t){var r=this,e=[this._generateInfo({editor:c.getEditorType(this._parameter.resultType),from:function(e){return n.observable((t.valueConverter||function(e){return e})(e))},defaultVal:!this.isExpression()&&this._parameter.value||t.defaultValue}),this._generateInfo({editor:{header:"dx-objectdatasource-expression-popup"},from:function(e){return{value:n.observable(e),itemsProvider:r._itemsProvider}},defaultVal:this.isExpression()&&this._parameter.value||""},"expression")];this._disposables.push({dispose:function(){return r.getInfo=void 0}}),this.getInfo=function(){return e}},f.prototype._subscribeProperties=function(){var t=this;this._disposables.push(this.type.subscribe(function(e){t._parameter.type=e}),this.expression.value.subscribe(function(e){t.isExpression()&&(t._parameter.value=e)}),this.value.subscribe(function(e){t.isExpression()||(t._parameter.value=e)}))},f.prototype.isPropertyVisible=function(e){return this.isExpression()?"expression"===e:"value"===e},f);function f(e,t){var r=a.call(this)||this;r._parameter=e,r._itemsProvider=t,r.type=n.observable(""),r.type(r._parameter.type);t=l.DataSourceParameter._getTypeValue(r._parameter.resultType);return r._initGetInfo(t),(new u.ModelSerializer).deserialize(r,{}),r._subscribeProperties(),r}t.ObjectDataSourceParameterProperty=p;var m=(h.prototype._doWithModel=function(e){var t=this._editor._model();if(t instanceof p)return e(t)},h.prototype.switchEditors=function(){this._doWithModel(function(e){return e.switchPropertyType()})},h.prototype.isExpression=function(){return this._doWithModel(function(e){return e.isExpression()})},h);function h(e){this._editor=e,this.imageTemplateName="dx-objectdatasource-expression"}var y,g=(y=r.ObjectProperties,i(_,y),_);function _(e){e=y.call(this,n.observable(e))||this;return e.createEditorAddOn=function(e){return{data:new m(e),templateName:"dx-wizard-menu-box-editorswitch"}},e}var v,b=(v=s.Disposable,i(S,v),S);function S(e,r){var o=v.call(this)||this;return o.displayName=e.displayName,o._grids=e.parameters.map(function(e){var t=new p(e,r),e=new g(t);return o._disposables.push(t),o._disposables.push(e),e}),o}t.ObjectDataSourceParametersModel=b;var P,s=(P=s.Disposable,i(x,P),x.prototype._updateParameters=function(e,t){this[e]()&&this[e]().dispose(),t&&0<t.parameters.length?this[e](new b(t,this._itemsProvider)):this[e](null)},x.prototype.updateCtorParameters=function(e){this._updateParameters("_ctorParametersObject",e)},x.prototype.updateMethodParameters=function(e){this._updateParameters("_dataMemberParametersObject",e)},x);function x(e){var t=P.call(this)||this;return t._itemsProvider=e,t._ctorParametersObject=n.observable(),t._dataMemberParametersObject=n.observable(),t.hasParameters=function(){return t._dataMemberParametersObject()||t._ctorParametersObject()},t}t.ChooseObjectMemberParameters=s;var C,s=(i(T,C=s),T);function T(e,t,r){var o=C.call(this,r)||this;return o._disposables.push(e.subscribe(function(e){o.updateCtorParameters(e)})),o._disposables.push(t.subscribe(function(e){o.updateMethodParameters(e[0])})),o}t.ChooseObjectParameters=s},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(3),n=r(52),s=r(19),c=r(8),d=r(0),l=r(0),u=r(1),p=r(1),f=r(0),m=function(e){e=s.deserializeToCollection(e,function(e){return new n.ObjectType(e)}),this.types=e.sort(function(e,t){return e.displayName.localeCompare(t.displayName)})};function h(e,t){var r=a.Deferred();return e.getObjectTypeDescriptions(t).done(function(e){try{var t=new m(e.objectDataSourceInfoJson);r.resolve(t)}finally{"pending"===r.state()&&r.reject()}}).fail(function(e){d.ShowMessage(l.formatUnicorn(u.getLocalization("Schema loading failed. {0}","DxDesignerStringId.Error_SchemaLoadingFailed"),d.getErrorMessage(e))),r.reject()}),r.promise()}t.ObjectTypeDescriptions=m,t.getObjectTypeDescriptionsCallback=h;var y,i=(y=p.Disposable,i(g,y),g.prototype.dispose=function(){this._objectTypeDescriptionsPromise=null},g.prototype.getSchemaByPath=function(t,e){if(t.fullPath){for(var r=[],o=0;o<t.pathParts.length;o++){var i=(e.types||[]).filter(function(e){return e.name==t.pathParts[o]})[0];if(!i)return[];r=i.ctors}return r.map(function(e){return f.extend({},e,{isList:!1,specifics:"default"})})}return e.types.map(function(e){return f.extend({},e,{isList:!0,specifics:"List"})})},g.prototype.getObjectTypeDescriptions=function(e){return void 0===e&&(e=""),this._objectTypeDescriptionsPromise&&"rejected"!==this._objectTypeDescriptionsPromise.state()||(this._objectTypeDescriptionsPromise=h(this._requestWrapper,e)),this._objectTypeDescriptionsPromise},g);function g(e){void 0===e&&(e=new c.RequestWrapper);var o=y.call(this)||this;return o._requestWrapper=e,o.getItems=function(t){var r=a.Deferred();return o.getObjectTypeDescriptions().done(function(e){r.resolve(o.getSchemaByPath(t,e))}).fail(r.reject),r.promise()},o}t.ObjectSchemaProvider=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(10),r=r(1),c=(a=s.TreeListController,i(d,a),d.prototype.canSelect=function(e){return!0},d);function d(){return null!==a&&a.apply(this,arguments)||this}t.ChooseObjectTypesTreelistController=c;var l,i=(l=r.Disposable,i(u,l),u);function u(e,t){var o=l.call(this)||this;return o.types=e,o.selectedType=n.observable(),o.selectedCtor=n.observable(),o.selectedPath=n.observable(""),o._scrollViewHeight="calc(100% - 36px)",o.availableTypesTreelistModel={expandRootItems:!0,itemsProvider:t,selectedPath:o.selectedPath,treeListController:new c},o._disposables.push(o.availableTypesTreelistModel.selectedPath.subscribe(function(r){e().forEach(function(t){t.name==r?(o.selectedType(t),null==o.selectedCtor()?o.selectedCtor.valueHasMutated():o.selectedCtor(null)):t.ctors.forEach(function(e){t.name.concat(".").concat(e.name)==r&&(o.selectedType(t),o.selectedCtor(e))})})})),o}t.ChooseObjectTypes=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),r=r(1),i=(a=r.Disposable,i(s,a),s.prototype.coerceSelection=function(){var e=this.selectedDataMembers()[0],e=e&&e.isAvailable()?e:this.dataMembers().filter(function(e){return e.isAvailable()})[0];this.selectedDataMembers([e])},s);function s(t,e){var r=a.call(this)||this;r.dataMembers=n.observableArray([]),r.selectedDataMembers=n.observableArray([]);var o=t()&&t().name;return r._disposables.push(e.subscribe(function(e){t().updateMembers(e),o!=t().name&&(r.dataMembers(t().members),r.selectedDataMembers([]),o=t().name),r.coerceSelection()})),r}t.ChooseObjectDataMembers=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),s=r(3),c=r(1),d=r(0),l=r(1),u=r(126),p=r(6),f=r(50),m=r(127),h=r(72),y=r(6),g=r(0),_=r(73),v=r(13),b=r(0);function S(e,t,r){e=e||c.getLocalization("The value cannot be empty","AnalyticsCoreStringId.ParametersPanel_DateTimeValueValidationError");if(!t)return e;t=r?d.formatUnicorn("{0}. {1}",t,r):t;return c._stringEndsWith(t,":")||(t+=":"),d.formatUnicorn("{0} {1}",t,e)}t.getLocalizedValidationErrorMessage=S;var P,r=(P=l.Disposable,i(x,P),x.prototype.dispose=function(){this._validationSummary&&this._validationSummary.dispose(),this._validationGroup&&this._validationGroup.dispose(),this._validationSummary=null,this._validationGroup=null,P.prototype.dispose.call(this)},x.prototype._onValidationGroupInitialized=function(e){this._validationGroup=e.component},x.prototype._onValidationGroupDisposing=function(e){this._validationGroup=null},x.prototype._onValidationSummaryInitialized=function(e){this._validationSummary=e.component},x.prototype._onValidationSummaryDisposing=function(e){this._validationSummary=null},x.prototype._repaintSummary=function(){this._validationSummary&&this._validationSummary.repaint()},x.prototype._validate=function(){this._validationSummary&&this._validationGroup&&this._validationGroup.validate()},x);function x(){var t=P.call(this)||this;return t._validationGroup=null,t._validationSummary=null,t.validationGroup={onInitialized:function(e){return t._onValidationGroupInitialized(e)},onDisposing:function(e){return t._onValidationGroupDisposing(e)},validate:function(){return t._validate()}},t.validationSummary={onInitialized:function(e){return t._onValidationSummaryInitialized(e)},onDisposing:function(e){return t._onValidationSummaryDisposing(e)}},t._disposables.push(t.grid=new p.ObjectProperties(n.observable(t))),t}t.JsonDataSourceJsonSourcePageSettingsBase=r;var C,l=(i(T,C=r),T.prototype.onChange=function(t){var r=this,o=null;this._disposables.push(this.stringSource.subscribe(function(e){t(),clearTimeout(o),o=setTimeout(function(){return r._validate()},1)}))},T.prototype._isJsonSourceValid=function(e){if(!e)return!1;var t=!0;try{JSON.parse(e)}catch(e){t=!1}return t},T.prototype.isEmpty=function(){return!this.stringSource()},T.prototype.reset=function(){this.stringSource("")},T.prototype.setValue=function(e){this.stringSource(e.source.json())},T.prototype.getInfo=function(){return[{propertyName:"stringSource",defaultVal:"",displayName:"JSON String",editor:{header:"dx-jsonwizard-jsonstring-editor",editorType:m.JsonStringEditor,custom:"dx-property-json-string-editor"}}]},T.prototype.applySettings=function(e){e.source.uri(void 0),e.source.json(this.stringSource()),e.source.authenticationInfo=new h.JsonAuthenticationInfo({}),e.source.headers([]),e.source.queryParameters([]),e.source.pathParameters([])},T);function T(){var r=C.call(this)||this;return r._validatorsReady=n.observable(!1),r.isValid=n.pureComputed(function(){var e=r._isJsonSourceValid(r.stringSource()),t=r.aceEditorHasErrors();return e&&!t}),r.validationGroup=null,r.validationSummary=null,r.stringSource=n.observable(""),r.aceEditorHasErrors=n.observable(!1),r.cssClass={"dxrd-wizard-json-string-source-grid":!0},r._disposables.push(r.grid=new p.ObjectProperties(n.observable(r))),r}t.JsonDataSourceJsonSourcePageStringSettings=l;var O,r=(i(I,O=r),I.prototype._validateUriSource=function(){var r=this,o=c.getLocalization("Invalid URI.","AnalyticsCoreStringId.ReportDesigner_Wizard_JsonSource_UriValidationError"),i=c.getLocalization("Web Service Endpoint (URI):","DataAccessUIStringId.WizardPageChooseJsonSource_URI");this._isUriValid(!1),this._lastValidateDeferred&&this._lastValidateDeferred.reject();var a=s.Deferred();this._lastValidateDeferred=a;try{var e=new f.JsonDataSource({}),t=this._getSerializedUriSource(e);this._lastValidatedJsonSourceJSON=t;var n=function(e){var t;a.state&&"rejected"===a.state()||(r._isUriValid(e.isUriValid),t=S((e.isUriValid?"":e&&e.faultMessage)||o,i),a.resolve({isUriValid:e.isUriValid,faultMessage:t}))};this._requestWrapper.validateJsonUri(e).done(n).fail(function(e){(e=void 0===e?{}:e).isValid=!1,n(e)})}catch(e){this._isUriValid(!1)}return a.promise()},I.prototype._isCollectionValid=function(e){return!this[e]().length||this[e]().every(function(e){return e.name()})},I.prototype._isParametersValid=function(){return this._isCollectionValid("parameters")},I.prototype._isBasicHttpAuthValid=function(){return!this.basicHttpAuth.password()||!!this.basicHttpAuth.userName()},I.prototype._getSourceUriInfo=function(){var t=this,e={propertyName:"sourceUri",displayName:"Web Service Endpoint (URI):",localizationId:"DataAccessUIStringId.WizardPageChooseJsonSource_URI",defaultVal:"",editor:y.editorTemplates.getEditor("text"),validatorOptions:null,isRequired:!0,editorOptions:{elementAttr:{title:this.sourceUri}}},r=this;return e.validatorOptions={onInitialized:function(e){t._sourceUriValidatorsReady(!0)},onDisposed:function(){t._sourceUriValidatorsReady(!1)},validationRules:[{type:"custom",assignValueFirst:!0,isDeferred:n.pureComputed(function(){return t._noEmptyProperties()}),get message(){return r._lastValidationMessage()},validationCallback:this._sourceUriValidationCallback}]},e},I.prototype._getBasicHttpAuthInfo=function(){var t=this,e={propertyName:"userName",displayName:"Username:",localizationId:"DataAccessUIStringId.WizardPageConfigureJsonConnection_UsernameText",editor:y.editorTemplates.getEditor("text"),validatorOptions:void 0},r={propertyName:"basicHttpAuth",displayName:"Basic HTTP Authentication",localizationId:"DataAccessUIStringId.WizardPageConfigureJsonConnection_BasicHttpAuthText",info:[e,b.createPasswordSerializationInfo({propertyName:"password",displayName:"Password:",localizationId:"DataAccessUIStringId.WizardPageConfigureJsonConnection_PasswordText"},!1)],editor:y.editorTemplates.getEditor("objecteditor")};return e.validatorOptions={onInitialized:function(e){e=e&&e.component;t._authNameValidatorInstance&&t._authNameValidatorInstance!=e&&t._authNameValidatorInstance.dispose(),t._authNameValidatorInstance=e,t._basicAuthValidatorsReady(!0)},onDisposed:function(){t._authNameValidatorInstance=null},validationRules:[{type:"custom",reevaluate:!0,assignValueFirst:!0,get message(){return S(null,c.getLocalization(r.displayName,r.localizationId),c.getLocalization(e.displayName,e.localizationId))},validationCallback:function(e){return t._isBasicHttpAuthValid()}}]},r},I.prototype._getParametersInfo=function(){var t=this,e={propertyName:"parameters",displayName:"Parameters",localizationId:"AnalyticsCoreStringId.QueryBuilder_Parameters",array:!0,addHandler:function(){var e=g.getUniqueNameForNamedObjectsArray(t.parameters(),"parameter");return _.JsonParameter.from({"@Name":e})},editor:y.editorTemplates.getEditor("commonCollection"),editorOptions:null,template:"#dx-jsonwizard-parametercollection"};return e.editorOptions={itemsProvider:this._itemsProvider,nameValidationRules:[{type:"required",get message(){return S(null,c.getLocalization(e.displayName,e.localizationId),this._collectionItemNamePlaceholder)}}]},e},I.prototype._getResultUriInfo=function(){return{propertyName:"resultUri",displayName:"Resulting URI:",localizationId:"DataAccessUIStringId.WizardPageChooseJsonSource_ResultingUri",defaultVal:"",editor:y.editorTemplates.getEditor("text"),editorOptions:{readOnly:!0,elementAttr:{title:this.resultUri}}}},I.prototype._getResultUri=function(){if(!this.sourceUri()||!this._isUriValid()||!this._isParametersValid())return null;if(this.sourceUri()&&0===this.parameters().length)return this.sourceUri();var e=this.sourceUri().split("?"),t=(e[0],e[1]),r=this._appendPathSegmentsToUri(e[0]);return this._appendQuerySegmentsToUri(r,t)},I.prototype._appendPathSegmentsToUri=function(t){return this.parameters().filter(function(e){return"PathParameter"===e.itemType()}).map(function(e){return"{"+e.name()+"}"}).forEach(function(e){t=t.replace(/[\/]+$/g,"")+"/"+e.replace(/^[\/]+/g,"")}),t},I.prototype._appendQuerySegmentsToUri=function(e,t){var r=t||"";return this.parameters().filter(function(e){return"QueryParameter"===e.itemType()}).map(function(e){return e.name()+"={?}"}).forEach(function(e){r&&(r+="&"),r+=e}),0<r.length&&(e+="?"+r),e},I.prototype._onValidationSummaryInitialized=function(e){var t=this;O.prototype._onValidationSummaryInitialized.call(this,e),this._isInitUri=!0,setTimeout(function(){t._validate()},1)},I.prototype._applyParametersToSource=function(t){var r=this.parameters().reduce(function(e,t){var r;return a({},e,((r={})[t.itemType()]=(e[t.itemType()]||[]).concat([t]),r))},{});["PathParameter","QueryParameter","Header"].forEach(function(e){r[e]&&t.source[u.parameterTypeToPropertyMap[e]](r[e])})},I.prototype.applySettings=function(e){e.source.uri(this.sourceUri()),e.source.json(void 0),e.source.authenticationInfo.password(this.basicHttpAuth.password()),e.source.authenticationInfo.userName(this.basicHttpAuth.userName()),this._applyParametersToSource(e)},I.prototype.getInfo=function(){return[this._getSourceUriInfo(),this._getBasicHttpAuthInfo(),this._getParametersInfo(),this._getResultUriInfo()]},I.prototype.reset=function(){this.sourceUri(""),this.basicHttpAuth.password(""),this.basicHttpAuth.userName(""),this.parameters([])},I.prototype.setValue=function(e){this.sourceUri(e.source.uri()),this.basicHttpAuth.userName(e.source.authenticationInfo.userName()),this.basicHttpAuth.password(e.source.authenticationInfo.password());e=[].concat.apply([],[e.source.pathParameters(),e.source.queryParameters(),e.source.headers()]);this.parameters(e)},I.prototype.dispose=function(){this._authNameValidatorInstance&&this._authNameValidatorInstance.dispose(),this._lastValidateDeferred&&(this._lastValidateDeferred.reject(),this._lastValidateDeferred=null),O.prototype.dispose.call(this),this.disposeObservableArray(this.parameters)},I.prototype.onChange=function(e){function r(){e(),clearTimeout(i),i=setTimeout(function(){return o._validate()},1)}var t,o=this,i=null;(t=this._disposables).push.apply(t,v.subscribeProperties([this.sourceUri,this.basicHttpAuth.password,this.basicHttpAuth.userName,this.resultUri],r)),this._disposables.push(v.subscribeArray(this.parameters,function(e){var t;(t=e._disposables).push.apply(t,v.subscribeProperties([e.name,e.itemType,e.value],r))},r))},I.prototype.isEmpty=function(){return!this.sourceUri()},I.prototype._validate=function(){this._validationSummary&&this._validationGroup&&(this._validatorsReady()?(this._validationGroup.validate(),this._validationRequested(!1)):this._validationRequested(!0))},I);function I(e,t){var o=O.call(this)||this;return o._requestWrapper=e,o._itemsProvider=t,o._isUriValid=n.observable(!1),o._lastValidatedJsonSourceJSON="",o._authNameValidatorInstance=null,o._isInitUri=!0,o._collectionItemNamePlaceholder=c.getLocalization("Name","AnalyticsCoreStringId.CollectionEditor_Name_Placeholder"),o._lastValidateDeferred=null,o._sourceUriValidatorsReady=n.observable(!0),o._basicAuthValidatorsReady=n.observable(!1),o._validationRequested=n.observable(!1).extend({deferred:!0}),o._noEmptyProperties=n.pureComputed(function(){var e=o._isBasicHttpAuthValid(),t=o._isParametersValid(),r=!!o.sourceUri();return e&&t&&r}),o._lastValidationMessage=n.observable(),o._getSerializedUriSource=function(e){return void 0===e&&(e=new f.JsonDataSource({})),o.applySettings(e),JSON.stringify(e.source.serialize(!0))},o._sourceUriValidationCallback=function(t){if(!o.sourceUri())return o._isInitUri?!(o._isInitUri=!1):(t.rule.message=S(null,c.getLocalization("Web Service Endpoint (URI):","DataAccessUIStringId.WizardPageChooseJsonSource_URI")),!1);var r=!1;return o._isInitUri=!1,o._getSerializedUriSource()==o._lastValidatedJsonSourceJSON?!o._lastValidationMessage():(o._lastValidationMessage()||o._lastValidationMessage(c.getLocalization("Validation...","AnalyticsCoreStringId.Validation")),o._validateUriSource().done(function(e){r=t.rule.isValid=e.isUriValid,e.faultMessage&&(t.rule.message=e.faultMessage),o._lastValidationMessage(r?null:e.faultMessage),t.validator.validate(),setTimeout(function(){return o._repaintSummary()},1)}),r)},o.isValid=n.pureComputed(function(){var e=o._noEmptyProperties(),t=o._isUriValid();return e&&t}),o._validatorsReady=n.pureComputed({read:function(){var e=o._sourceUriValidatorsReady(),t=!o.basicHttpAuth.password()&&!o.basicHttpAuth.userName(),r=o._basicAuthValidatorsReady();return e&&(r||t)},write:function(e){o._basicAuthValidatorsReady(e)}}),o.sourceUri=n.observable(""),o.basicHttpAuth={password:n.observable(""),userName:n.observable("")},o.parameters=n.observableArray([]),o._disposables.push(o.resultUri=n.pureComputed(function(){return o._getResultUri()})),o._disposables.push(o.grid=new p.ObjectProperties(n.observable(o))),o._disposables.push(n.computed(function(){var e=o._validatorsReady(),t=o._validationRequested();e&&t&&o._validate()})),o._disposables.push(o._validatorsReady),o}t.JsonDataSourceJsonSourcePageUriSettings=r},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(7),d=r(12),l=r(13),u=r(131),p=r(34),f=r(9),m=r(78),h=r(24),y=r(1),g=r(35),_=r(11),v=r(18),b=r(33),S=r(0),P=r(75),x=r(16),C=r(79),T=r(14),O=r(42),I=r(32),N=r(1),D=r(132),E=r(1),w=r(53),A=r(5),z=r(10),M=(a=c.WizardPageBase,i(k,a),k.prototype._addQueryAlgorithm=function(e,t,r,o){e.unChecked()&&"queries"!==t?e.children().forEach(function(e){k._removeQuery(r.queries,e)}):(0===e.children().length&&this._itemsProvider().getItems(new y.PathRequest(t)),"tables"===t||"views"===t?this._addQueryFromTables(e,r):"procedures"===t?this._addQueryFromStoredProcedures(e,r):this._addQueryFromCustomQueries(e,o,r.queries))},k.prototype._addQueryFromTables=function(e,t){for(var r=0;r<e.children().length;r++){var o=e.children()[r];if(o.unChecked())k._removeQuery(t.queries,o);else{var i={},a={Columns:i,Tables:{SelectedTables:{Item1:{"@Name":o.name,"@ControlType":"Table","@ItemType":"Table"}}}};0===o.children().length&&this._itemsProvider().getItems(new y.PathRequest("tables."+o.name)).done(function(){o.initializeChildren(o.children())});for(var n=0;n<o.children().length;n++){var s=o.children()[n];s.checked()&&(i["Item"+(n+1)]={"@Table":o.name,"@Name":s.name,"@ItemType":"Column"})}k._pushQuery(new p.TableQuery(a,t),o,t.queries)}}},k.prototype._addQueryFromStoredProcedures=function(e,t){for(var r=0;r<e.children().length;r++){var o,i=e.children()[r];i.checked()?(o=new g.StoredProcQuery({"@Name":i.name,ProcName:i.name},t),i.arguments.forEach(function(e){o.parameters.push(new _.DataSourceParameter({"@Name":e.name,"@Type":v.DBColumn.GetType(e.type)},null,b.storedProcParameterSerializationsInfo(v.DBColumn.GetType(e.type))))}),k._pushQuery(o,i,t.queries)):k._removeQuery(t.queries,i)}},k.prototype._addQueryFromCustomQueries=function(e,t,r){for(var o=0;o<e.children().length;o++){var i=e.children()[o],a=S.findFirstItemMatchesCondition(t.peek(),function(e){return i.name===(e.name()||e.generateName())});i.checked()&&(a.name(P.generateQueryUniqueName(r.peek(),a)),this._checkedQueries.push(a))}},k.prototype._getItemsPromise=function(e){return this._itemsProvider().getItems(e)},k.prototype._resetDataSourceResult=function(){this._customResetOptions(),this._dataSource().relations([]),this._dataSource().resultSet=null,this._onChange()},k.prototype._setQueryCore=function(e){var t=this._fieldListModel().itemsProvider,r=this._queryEditIndex();0<=r?(this._itemsProvider().queries().children()[r].name=e.name(),t.customQueries().splice(r,1,e)):(e.name(P.generateQueryUniqueName(t.customQueries().peek(),e)),t.customQueries().push(e),this._selectedPath("queries."+e.name()),(e=(e=this._itemsProvider().queries().children())[e.length-1]).setChecked(!0),e._afterCheckToggled&&e._afterCheckToggled(e)),this._resetDataSourceResult()},k._pushQuery=function(t,e,r){S.findFirstItemMatchesCondition(r.peek(),function(e){return e.name()===(t.name()||t.generateName())})||(t.name(P.generateQueryUniqueName(r.peek(),t)),r.push(t)),e.hasQuery=!0},k._removeQuery=function(e,r){var o;r.hasQuery&&(o=-1,e.peek().some(function(e,t){return(e.name()===r.name||e.generateName()===r.name)&&(o=t,!0)})&&e.splice(o,1),r.hasQuery=!1)},k.prototype.canNext=function(){return!this._itemsProvider().nextButtonDisabled()&&this.canFinish()},k.prototype.canFinish=function(){return this._itemsProvider()&&this._itemsProvider().hasCheckedItems()&&!this._isDataLoadingInProcess()},k.prototype._AddQueryWithBuilder=function(){},k.prototype._runQueryBuilder=function(){},k.prototype._loadPanelViewModel=function(e){return O.PopupWizard._getLoadPanelViewModel(e,this._isDataLoadingInProcess)},k.prototype._setTableQuery=function(e,t){var r=this;return t&&t(!0),this._sqlTextProvider.getQuerySqlText(e).done(function(){return r._setQueryCore(e)}).always(function(){t&&t(!1)})},k.prototype._setCustomSqlQuery=function(e){this._setQueryCore(e)},k.prototype._createTreeListFactory=function(){return new l.MultiQueryTreeListItemFactory},k.prototype.commit=function(){var t=this;this._dataSource().queries.removeAll(),this._checkedQueries.removeAll(),this._addQueryAlgorithm(this._itemsProvider().tables(),"tables",this._dataSource()),this._addQueryAlgorithm(this._itemsProvider().views(),"views",this._dataSource()),this._addQueryAlgorithm(this._itemsProvider().procedures(),"procedures",this._dataSource()),this._addQueryAlgorithm(this._itemsProvider().queries(),"queries",this._dataSource(),this._customQueries),n.utils.arrayPushAll(this._dataSource().queries(),this._checkedQueries()),this._dataSource().queries.valueHasMutated();var e=this._itemsProvider().queries().children().filter(function(e){return e.checked()}).map(function(e){return e.name}),r=this._sqlDataSourceWrapper.sqlDataSource.queries().filter(function(t){return e.some(function(e){return e===t.name()})||t instanceof g.StoredProcQuery});r.forEach(function(e){return t._sqlDataSourceWrapper.sqlDataSource.queries.remove(e)});var o=new N.ModelSerializer;return s.Deferred().resolve({sqlDataSourceJSON:this._sqlDataSourceWrapper.save(),customQueries:r.map(function(e){return JSON.stringify(o.serialize(e))})}).promise()},k.prototype.initialize=function(e){var t=this;this._sqlDataSourceWrapper=d._restoreSqlDataSourceFromState(e,this._options.requestWrapper);var e=this._callbacks.customQueriesPreset?this._callbacks.customQueriesPreset(this._dataSource()):s.Deferred().resolve([]).promise(),r=s.Deferred();return e.done(function(e){t._customQueries(e),t._selectedPath("");e=new u.DBSchemaItemsProvider(t._dataSource().dbSchemaProvider,t._customQueries,t._showQbCallBack,t.disableCustomSql,t._getItemsAfterCheck);t._disposables.push(e),t._itemsProvider(e),t._getItemsPromise(new y.PathRequest("queries")),t._fieldListModel({factory:t._createTreeListFactory(),itemsProvider:t._itemsProvider(),selectedPath:t._selectedPath,treeListController:new D.DBSchemaTreeListController(t._customizeDBSchemaTreeListActions),templateName:"dxrd-treelist-with-checkbox"}),t._popupQueryBuilder.isVisible(!1),t._dataSource().dbSchemaProvider.getDbSchema().done(function(){r.resolve()}).fail(r.reject)}).fail(r.reject),r.promise()},k);function k(e){var o=a.call(this)||this;return o._options=e,o._selectedPath=n.observable(null),o._itemsProvider=n.observable(),o._customQueries=n.observableArray([]),o._checkedQueries=n.observableArray([]),o._sqlDataSourceWrapper=new h._SqlDataSourceWrapper(void 0,void 0,void 0),o._dataSource=function(){return o._sqlDataSourceWrapper&&o._sqlDataSourceWrapper.sqlDataSource},o._dataConnection=function(){return o._dataSource()&&o._dataSource().connection},o._showStatementPopup=function(e){o._popupSelectStatement.isVisible(!0),o._popupSelectStatement.query=e,o._popupSelectStatement.data(e.sqlString())},o._showQbCallBack=function(t,e){var r;void 0===e&&(e=!1),null!==(t=void 0===t?null:t)?(r=S.findFirstItemMatchesCondition(o._customQueries(),function(e){return t===(e.name()||e.generateName())})).type()===f.SqlQueryType.customSqlQuery?(o._queryEditIndex(o._customQueries().indexOf(r)),o._showStatementPopup(r)):(o._queryEditIndex(o._customQueries().indexOf(r)),o._popupQueryBuilder.show(r,o._dataSource())):(o._queryEditIndex(-1),e?o._showStatementPopup(new I.CustomSqlQuery({"@Name":null},o._dataSource())):(e=new p.TableQuery({"@Name":null},o._dataSource()),o._popupQueryBuilder.show(e,o._dataSource())))},o._popupSelectStatement={isVisible:n.observable(!1),title:function(){return E.getLocalization("Custom SQL Editor","AnalyticsCoreStringId.SqlDSWizard_CustomSqlEditor")},query:null,data:n.observable(),okButtonText:function(){return E.getLocalization("OK","DataAccessUIStringId.Button_OK")},okButtonHandler:function(e){o._popupSelectStatement.query.sqlString(e.model.data()),o._setCustomSqlQuery(o._popupSelectStatement.query),e.model.isVisible(!1)},aceOptions:w.createDefaultSQLAceOptions(),aceAvailable:z.aceAvailable(),additionalOptions:w.createDefaultSQLAdditionalOptions(function(e){o._popupSelectStatement.data(e)}),languageHelper:w.createDefaultSQLLanguageHelper(),closest:function(e,t){return s(e).closest(t)}},o._customResetOptions=s.noop,o._queryEditIndex=n.observable(-1),o.disableCustomSql=!0,o._scrollViewHeight="calc(100% - 36px)",o._customizeDBSchemaTreeListActions=null,o._isDataLoadingInProcess=n.observable(!1),o._callbacks=o._options.callbacks,o._sqlTextProvider=new m.SelectQuerySqlTextProvider(x.wrapGetSelectStatement(o._callbacks.selectStatement),o._dataConnection),o._popupQueryBuilder=new C.QueryBuilderPopup(function(e,t){return o._setTableQuery(e,t)},e.rtl,e.callbacks.customizeQBInitData),o._fieldListModel=n.observable(null),o._disposables.push(o._hasParametersToEdit=n.pureComputed(function(){return o._itemsProvider().hasParametersToEdit()})),o._disposables.push(o._isDataLoadingInProcess.subscribe(function(e){e||o._onChange(),o[T.BaseWizard.__loadingStateFunctionName]&&o[T.BaseWizard.__loadingStateFunctionName](e)})),o.disableCustomSql=o._options.disableCustomSql,o._getItemsAfterCheck=function(t){o._resetDataSourceResult(),o._isDataLoadingInProcess(!0),t.checked.peek()&&t.isList?"tables"===t.name||"views"===t.name?o._itemsProvider().getItems(new y.PathRequest(t.name)).done(function(){t.isList&&0<t.children.peek().length?s.when.apply(s,t.children.peek().map(function(e){return o._getItemsPromise(new y.PathRequest(t.name+"."+e.name))})).always(function(){return o._isDataLoadingInProcess(!1)}):o._isDataLoadingInProcess(!1)}):"table"===t.specifics||"view"===t.specifics?o._itemsProvider().getItems(new y.PathRequest(t.specifics+"."+t.name)).always(function(){return o._isDataLoadingInProcess(!1)}):"procedures"===t.name?o._itemsProvider().getItems(new y.PathRequest(t.name)).always(function(){return o._isDataLoadingInProcess(!1)}):o._isDataLoadingInProcess(!1):o._isDataLoadingInProcess(!1)},o}t.MultiQueryConfigurePage=M,t._registerMultiQueryConfigurePage=function(e,t){e.registerMetadata(A.SqlDataSourceWizardPageId.MultiQueryConfigurePage,{create:function(){return new M(t)},setState:function(e,t){t.sqlDataSourceJSON=e.sqlDataSourceJSON,t.customQueries=e.customQueries},getState:function(e){return e.sqlDataSourceWizard},resetState:function(e,t){e.sqlDataSourceJSON=t.sqlDataSourceJSON,e.customQueries=t.customQueries},description:E.getLocalization("Columns selected from specific tables and/or views will be automatically included into a separate query.","AnalyticsCoreStringId.SqlDSWizard_PageConfigureMultiQuery"),template:"dxrd-wizard-add-queries-page"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(3),n=r(2),s=r(9),c=r(7),d=r(12),l=r(24),u=r(133),p=r(11),f=r(0),m=r(13),h=r(6),y=r(0),g=r(1),_=r(5);function v(e,t){return e.type()===s.SqlQueryType.tableQuery||e.type()===s.SqlQueryType.customSqlQuery?-1<t.indexOf(e):e.type()===s.SqlQueryType.storedProcQuery&&0<e.parameters().length}t._canEditQueryParameters=v;var b,S=(b=c.WizardPageBase,i(P,b),P.prototype._isParametersValid=function(){return this._getParameters().every(function(e){return e.isValid()})},P.prototype.canNext=function(){return this._isParametersValid()&&1<this._sqlDataSourceWrapper.sqlDataSource.queries().length},P.prototype.canFinish=function(){return this._isParametersValid()&&1<=this._sqlDataSourceWrapper.sqlDataSource.queries().length},P.prototype._getParameters=function(){return[].concat.apply([],(this._rootItems()||[]).map(function(e){return e.parameters().map(function(e){return e.dataSourceParameter()})}))},P.prototype.initialize=function(e){var o=this,r=[],i=this._rootItems();return this._sqlDataSourceWrapper=d._restoreSqlDataSourceFromState(e,this._requestWrapper),this._sqlDataSourceWrapper.sqlDataSource.queries().forEach(function(e){var t;v(e,o._sqlDataSourceWrapper.customQueries)&&((t=new u.ParametersTreeListRootItem(e)).parameters(e.parameters().map(function(e){return new u.ParametersTreeListItem(o.parametersConverter.createParameterViewModel(e),t)})),r.push(t))}),i.filter(function(t){return r.every(function(e){return e.name!==t.name})}).forEach(function(e){i.splice(o._rootItems().indexOf(e),1)}),r.forEach(function(t){var r=i.filter(function(e){return e.name===t.name})[0];r?t.parameters().filter(function(t){return r.parameters().every(function(e){return e.name!==t.name})}).forEach(function(e){r.parameters.push(e)}):i.push(t)}),this._rootItems.valueHasMutated(),this._fieldListModel({itemsProvider:{getItems:function(t){var e,r=a.Deferred();return t.fullPath?(e=y.findFirstItemMatchesCondition(o._rootItems(),function(e){return e.name===t.ref}),r.resolve(e.parameters())):r.resolve(o._rootItems()),r.promise()}},templateName:"dx-treelist-item-with-hover",selectedPath:this._selectedPath,treeListController:new u.ParametersTreeListController(this._rootItems(),this._createNewParameter)}),a.Deferred().resolve().promise()},P.prototype.commit=function(){var t=this;return this._rootItems().forEach(function(e){e.query().parameters(e.parameters().map(function(e){return t.parametersConverter.getParameterFromViewModel(e.dataSourceParameter())}))}),a.Deferred().resolve({sqlDataSourceJSON:this._sqlDataSourceWrapper.sqlDataSourceJSON,customQueries:this._sqlDataSourceWrapper.saveCustomQueries()}).promise()},P);function P(e,t){void 0===e&&(e={createParameterViewModel:function(e){return e},getParameterFromViewModel:function(e){return e}});var r=b.call(this)||this;r.parametersConverter=e,r._requestWrapper=t,r._sqlDataSourceWrapper=new l._SqlDataSourceWrapper(void 0,void 0,r._requestWrapper),r._selectedPath=n.observable(null),r._rootItems=n.observableArray(),r._createNewParameter=function(e,t){t=new p.DataSourceParameter({"@Name":f.getUniqueNameForNamedObjectsArray(t,"parameter"),"@Type":"System.Int32"});return r._selectedPath(e+"."+t.name()),r.parametersConverter.createParameterViewModel(t)},r._scrollViewHeight="100%",r._fieldListModel=n.observable(null),r._removeButtonTitle=g.getLocalization("Remove","DataAccessUIStringId.Button_Remove");function o(){return r._onChange()}return r._disposables.push(m.subscribeArray(r._rootItems,function(e){r._disposables.push(m.subscribeArray(e.parameters,function(e){r._disposables.push(m.subscribeObject(e.dataSourceParameter,function(e){var t;(t=r._disposables).push.apply(t,m.subscribeProperties([e.name,e.value,e.type],o))},o))},o))},o)),r._parametersEditorOptions={addHandler:function(){return r.parametersConverter.createParameterViewModel(new p.DataSourceParameter({"@Name":f.getUniqueNameForNamedObjectsArray(r._parametersEditorOptions.values.peek().peek(),"param"),"@Type":"System.Int32"}))},values:n.observable(n.observableArray([])),displayName:"Parameters",level:0,info:n.observable({displayName:"Parameters",localizationId:"DevExpress.DataAccess.Sql.SqlQuery.Parameters",propertyName:"parameters",modelName:"Parameter",array:!0,editor:h.editorTemplates.getEditor("commonCollection"),template:"#dxrd-parameter-collection-item"}),editorTemplate:"#dxrd-wizard-datasource-parameters",hideButtons:n.observable(!1),collapsed:!1},r}t.MultiQueryConfigureParametersPage=S,t._registerMultiQueryConfigureParametersPage=function(e,t,r){e.registerMetadata(_.SqlDataSourceWizardPageId.MultiQueryConfigureParametersPage,{create:function(){return new S(r,t)},getState:function(e){return e.sqlDataSourceWizard},setState:function(e,t){return t.customQueries=e.customQueries},resetState:function(){},description:g.getLocalization("Configure query parameters.","AnalyticsCoreStringId.SqlDSWizard_PageConfigureParameters"),template:"dxrd-configure-query-parameters-page"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(7),d=r(12),l=r(71),u=r(13),p=r(134),f=r(0),m=r(1),h=r(5),y=r(1),g=(a=c.WizardPageBase,i(_,a),_.prototype.dispose=function(){a.prototype.dispose.call(this),this.disposeObservableArray(this._relations)},_.prototype._updateRelations=function(){var a=this,n=this._relations();n.forEach(function(t,e){var r,o=a._resultSet.tables().filter(function(e){return e.tableName()===t.detailQuery()})[0],i=a._resultSet.tables().filter(function(e){return e.tableName()===t.masterQuery()})[0];o&&i?((r=t.keyColumns()).forEach(function(t,e){(o.columns().every(function(e){return e.name()!==t.detailColumn()})||i.columns().every(function(e){return e.name()!==t.masterColumn()}))&&r.splice(e,1)}),0===r.length&&n.splice(e,1)):n.splice(e,1)}),this._relations.valueHasMutated()},_.prototype.canNext=function(){return!1},_.prototype.canFinish=function(){return this._relations().every(function(e){return e.keyColumns().every(function(e){return!!e.detailColumn()&&!!e.masterColumn()})})},_.prototype._getResultSet=function(e){var t=s.Deferred();return e.resultSet?t.resolve(e.resultSet):this._sqlDataSourceResultSchema(e).done(function(e){t.resolve(new l.ResultSet(JSON.parse(e.resultSchemaJSON)))}).fail(function(e){t.reject(e)}),t.promise()},_.prototype.initialize=function(e){var t=this;return this.relationsSubscription&&this.relationsSubscription.dispose(),this._sqlDataSourceWrapper=d._restoreSqlDataSourceFromState(e),this._disposables.push(this.relationsSubscription=this._relations.subscribe(function(e){e.some(function(e){return!e.moved&&0!==e.moved})&&t._customResetOptions()},null,"arrayChange")),this._getResultSet(this._sqlDataSourceWrapper.sqlDataSource).done(function(e){t._resultSet=e,t._updateRelations(),t._relationsEditor(new p.MasterDetailEditor(t._relations,t._resultSet,s.noop))}).fail(function(e){f.getErrorMessage(e)&&f.ShowMessage(f.getErrorMessage(e))})},_.prototype.commit=function(){this.relationsSubscription.dispose(),this._sqlDataSourceWrapper.sqlDataSource.relations(this._relations()),this._sqlDataSourceWrapper.sqlDataSource.resultSet=this._resultSet;var t=new m.ModelSerializer;return s.Deferred().resolve({sqlDataSourceJSON:this._sqlDataSourceWrapper.sqlDataSourceJSON,customQueries:this._sqlDataSourceWrapper.saveCustomQueries(),relations:this._relations().map(function(e){return JSON.stringify(t.serialize(e))})}).promise()},_);function _(e){var t=a.call(this)||this;t._sqlDataSourceResultSchema=e,t._relations=n.observableArray([]),t._customResetOptions=s.noop,t._relationsEditor=n.observable(null);function o(){return t._onChange()}return t._disposables.push(u.subscribeArray(t._relations,function(r){var e;(e=r._disposables).push.apply(e,u.subscribeProperties([r.detailQuery,r.name,r.masterQuery],o)),r._disposables.push(u.subscribeArray(r.keyColumns,function(e){var t;(t=r._disposables).push.apply(t,u.subscribeProperties([e.detailColumn,e.masterColumn],o))},o))},o)),t}t.ConfigureMasterDetailRelationshipsPage=g,t._registerConfigureMasterDetailRelationshipsPage=function(e,t){e.registerMetadata(h.DataSourceWizardPageId.ConfigureMasterDetailRelationshipsPage,{create:function(){return new g(t)},setState:function(e,t){t.relations=e.relations},getState:function(e){return e.sqlDataSourceWizard},resetState:function(e,t){e.relations=t.relations},description:y.getLocalization("Configure master-detail relationships.","AnalyticsCoreStringId.SqlDSWizard_PageConfigureMasterDetailRelations"),template:"dxrd-wizard-configure-relations-page"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(13),d=r(7),l=r(52),u=r(23),p=r(82),f=r(83),m=r(84),h=r(81),y=r(1),g=r(38),_=r(5),v=(a=d.WizardPageBase,i(b,a),b.prototype._initSections=function(){var e=this;this._sections=[{data:this._chooseObjectType,disabled:function(){return!1},description:y.getLocalization("Choose the type and its constructor.","AnalyticsCoreStringId.ObjectDSWizard_ChooseType_Description"),position:c.getSectionStyle(this._dataSourceWizardOptions.rtl?g.WizardSectionPosition.Right:g.WizardSectionPosition.Left),template:"dx-objectdatasource-types-section"},{data:this._chooseObjectDataMember,disabled:function(){return!e._chooseObjectDataMember.dataMembers().length},description:y.getLocalization("Choose the entire object or a data member to bind.","AnalyticsCoreStringId.ObjectDSWizard_ChooseDataMember_Description"),position:c.getSectionStyle(this._dataSourceWizardOptions.rtl?g.WizardSectionPosition.TopLeft:g.WizardSectionPosition.TopRight),disabledText:y.getLocalization("To select a data member, choose a type that contains at least one data member.","AnalyticsCoreStringId.ObjectDSWizard_ChooseDataMember_Disabled_Description"),template:"dx-objectdatasource-datamembers-section"},{data:this._chooseObjectParameters,disabled:function(){return!e._chooseObjectParameters.hasParameters()},position:c.getSectionStyle(this._dataSourceWizardOptions.rtl?g.WizardSectionPosition.BottomLeft:g.WizardSectionPosition.BottomRight),description:y.getLocalization("Configure constructor parameters and/or method parameters.","AnalyticsCoreStringId.ObjectDSWizard_ConfigureParameters_Description"),disabledText:y.getLocalization("To specify parameters, select a parameterized constructor or method.","AnalyticsCoreStringId.ObjectDSWizard_ConfigureParameters_Disabled_Description"),template:"dx-objectdatasource-parameters-section"}]},b.prototype.showDescription=function(e,t){return[e+1,t].join(". ")},b.prototype.canNext=function(){return!1},b.prototype.canFinish=function(){return!!this._chooseObjectDataMember.selectedDataMembers().length},b.prototype.commit=function(){var e=this._chooseObjectDataMember.selectedDataMembers()[0];return s.Deferred().resolve({selectedType:this._chooseObjectType.selectedType().name,ctor:this._chooseObjectType.selectedCtor(),dataSourceName:this._objectDataSource.name(),context:this._context,dataMember:!e||e.isEntireObject()?void 0:e}).promise()},b.prototype.initialize=function(e){var t=this;return this._context=e.objectDataSourceWizard.context,this._objectDataSource.setState(e.objectDataSourceWizard),this._chooseObjectType.selectedCtor(this._objectDataSource.ctor),this._chooseObjectDataMember.selectedDataMembers([this._objectDataSource.dataMember]),this._provider.getObjectTypeDescriptions(e.objectDataSourceWizard.context).done(function(e){e.types.forEach(function(e){return e.members.splice(0,0,l.ObjectDataMember.empty())}),t._types(e.types||[]),0<e.types.length&&t._chooseObjectType.selectedPath(e.types[0].name)}),s.Deferred().resolve().promise()},b);function b(e){var t=a.call(this)||this;t._dataSourceWizardOptions=e,t._types=n.observableArray([]),t._objectDataSource=new u.ObjectDataSource;e=t._dataSourceWizardOptions.callbacks.getItemsProviderCallback;return t._disposables.push(t._provider=new p.ObjectSchemaProvider(t._dataSourceWizardOptions.requestWrapper),t._chooseObjectType=new f.ChooseObjectTypes(t._types,t._provider),t._chooseObjectDataMember=new m.ChooseObjectDataMembers(t._chooseObjectType.selectedType,t._chooseObjectType.selectedCtor),t._chooseObjectParameters=new h.ChooseObjectParameters(t._chooseObjectType.selectedCtor,t._chooseObjectDataMember.selectedDataMembers,e&&e())),t._initSections(),t}t.SpecifyObjectDataSourceSettingsPage=v,t._registerSpecifyObjectDataSourceSettingsPage=function(e,t){e.registerMetadata(_.FullscreenDataSourceWizardPageId.SpecifyObjectDataSourceSettingsPage,{setState:function(e,t){t.objectDataSourceWizard.ctor=e.ctor,t.objectDataSourceWizard.dataMember=e.dataMember,t.objectDataSourceWizard.selectedType=e.selectedType,t.objectDataSourceWizard.dataSourceName=e.dataSourceName},getState:function(e){return e},resetState:function(e,t){e.objectDataSourceWizard.ctor=t.objectDataSourceWizard.ctor,e.objectDataSourceWizard.dataMember=t.objectDataSourceWizard.dataMember,e.objectDataSourceWizard.selectedType=t.objectDataSourceWizard.selectedType,e.objectDataSourceWizard.dataSourceName=t.objectDataSourceWizard.dataSourceName},create:function(){return new v(t)},template:"dxrd-page-objectsource",navigationPanelText:y.getLocalization("Specify Data Source Settings","AnalyticsCoreStringId.Wizard_SpecifyDataSourceSettingsPage")})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var P=r(2),x=r(3),C=r(58),T=r(0),O=r(70),I=r(1),N=r(97),D=r(68),E=r(8),w=r(0),A=r(0),z=r(0),M=r(46),k=r(0),R=r(27),j=r(0),q=r(53),L=r(155),W=r(156),B=r(6),V=r(0),Q=r(157),F=r(98),U=r(43),J=r(0),H=r(0),a=r(158),n=r(196),$=r(74),G=r(16),X=r(10),Y=r(0),K={Surface:"dxrd-surface-template-base",Toolbar:"dxqb-toolbar",RightPanel:"dx-right-panel-lightweight",DataPreview:"dxqb-popup#data",SqlPreview:"dxqb-popup#sql"};function Z(o,i,a,e){return function(){var e=o(),t=e.find(".dxrd-right-panel:visible").outerWidth()||0,r=e.width()-(t+5);e.find(".dxrd-surface-wrapper").css(a().rtl()?{left:t,right:0,width:r}:{left:0,right:t,width:r}),i(r),a().pageWidth(r)}}function ee(e,t){var r=P.observable(!1);return t.subscribe(function(){r(!1)}),P.pureComputed(function(){return t.peek().getDbSchema().done(function(){r(!0)}),!r()||e().tables.peek().some(function(e){return!e.isInitialized()})})}function s(e,t,r,o){void 0===o&&(o=!0);var i=r&&r.onServerError&&z.processErrorEvent(r.onServerError),a=t.requestWrapper||new E.RequestWrapper,n=t.parametersMode||M.ParametersMode.ReadWrite;O.HandlerUri(t.handlerUri),t.queryModelJson&&(m=new $.SqlDataSource(JSON.parse(t.dataSourceJson)),t.dbSchemaProvider=w._wrapModelInObservable(t.dbSchemaProvider),t.dbSchemaProvider(new D.DBSchemaProvider(m.connection)),t.querySource=w._wrapModelInObservable(t.querySource),t.querySource(JSON.parse(t.queryModelJson)));var s=t.dbSchemaProvider().connection,c=P.observable(),d=P.observable(),l=P.observable();c.subscribe(function(e){d(new N.QuerySurface(e)),d().rtl(!!t.rtl)});function u(e){c(new C.QueryViewModel(e,t.dbSchemaProvider(),n,function(e){r.saveQueryRequested({queryLayout:encodeURIComponent(JSON.stringify(e)),connection:encodeURIComponent(G.serializeDataConnection(s))})}))}u(t.querySource());var p=new k.SurfaceSelection(["alias","name","sortOrder"]),f=A.createDesigner(c,d,R.controlsFactory,void 0,void 0,void 0,!!t.rtl,p);i&&(f.dispose=function(){i.dispose()}),f.rootStyle="dxqb-designer dxd-back-primary-invariant";var m=j.getParentContainer;f.dataPreview={isLoading:P.observable(!1),isVisible:P.observable(!1),title:function(){return I.getLocalization("Data Preview (First 100 Rows Displayed)","AnalyticsCoreStringId.DataPreview_Title")},template:"dxqb-data-preview",data:{value:P.observable()},okButtonText:function(){return I.getLocalization("OK","DataAccessUIStringId.Button_OK")},okButtonHandler:function(e){e.model.isVisible(!1)},container:m},f.selectStatmentPreview={isLoading:P.observable(!1),isVisible:P.observable(!1),template:"dxqb-selectstatment-preview",title:function(){return I.getLocalization("Select Statement Preview","AnalyticsCoreStringId.QueryBuilder_SelectStatementPreview_Title")},data:{value:P.observable(),aceOptions:q.createDefaultSQLAceOptions(!0),aceAvailable:X.aceAvailable(),additionalOptions:q.createDefaultSQLAdditionalOptions(function(e){f.selectStatmentPreview.data.value(e)}),languageHelper:q.createDefaultSQLLanguageHelper()},okButtonText:function(){return I.getLocalization("OK","DataAccessUIStringId.Button_OK")},okButtonHandler:function(e){e.model.isVisible(!1)},container:m},f.parts=[{id:K.Surface,templateName:K.Surface,model:f},{id:K.Toolbar,templateName:K.Toolbar,model:f},{id:K.RightPanel,templateName:K.RightPanel,model:f},{id:K.DataPreview,templateName:K.DataPreview.split("#")[0],model:f.dataPreview},{id:K.SqlPreview,templateName:K.SqlPreview.split("#")[0],model:f.selectStatmentPreview}],f.columnDragHandler=new L.ColumnDragHandler(d,f.selection,f.undoEngine,f.snapHelper,f.dragHelperContent),f.connectionPointDragHandler=f.columnDragHandler,f.resizeHandler.handles="e, w",f.columnsLoadingMsg=function(){return I.getLocalization("Loading...","DataAccessWebStringId.QueryBuilder_ColumnsLoading")};function h(e){u(e),l({itemsProvider:t.dbSchemaProvider(),treeListController:new W.QueryBuilderTreeListController(f.undoEngine,c),selectedPath:P.observable(),pageSize:100,templateName:"dxqb-treelist-item-with-search"})}t.querySource.subscribe(function(e){h(e)}),h(t.querySource());var y,g,_,v=P.observable(355),m={editableObject:f.editableObject,properties:new B.ObjectProperties(f.editableObject,null,1),fieldListModel:{treeListOptions:l},tablesTop:v,searchPlaceholder:function(){return V.searchPlaceholder()}},m=new Q.AccordionTabInfo(c,m,f.undoEngine,p.focused,n===M.ParametersMode.ReadWrite),p=f.tabPanel;p.tabs.length=0,p.tabs.push(m),p.width(375),f.fieldDragHandler=new F.DbObjectDragDropHandler(d,f.selection,f.undoEngine,f.snapHelper,f.dragHelperContent),f.fieldListProvider=new U.QueryBuilderObjectsProvider(c,U.QueryBuilderObjectsProvider.whereClauseObjectsFilter),f.dataBindingsProvider=f.fieldListProvider,f.parametersBindingsProvider=t.parametersItemsProvider||f.dataBindingsProvider,f.dataBindingsGroupProvider=new U.QueryBuilderObjectsProvider(c,U.QueryBuilderObjectsProvider.groupByObjectsFilter),f.isLoading=ee(f.model,t.dbSchemaProvider),f.actionLists=new J.ActionLists(d,f.selection,f.undoEngine,(y=f,g=r&&r.customizeActions,_=y.model,function(e){var t=T.findFirstItemMatchesCondition(e,function(e){return"Delete"===e.text});t.imageClassName="dx-icon-dxrd-image-recycle-bin",t.imageTemplateName="dxrd-svg-operations-recycle_bin";var r=T.findFirstItemMatchesCondition(e,function(e){return"Undo"===e.text});r.disabled=P.pureComputed(function(){return y.isLoading()||!y.undoEngine().undoEnabled()});var o=T.findFirstItemMatchesCondition(e,function(e){return"Redo"===e.text});e.splice(0,e.length,t,r,o),e.push({id:O.ActionId.Save,text:"Save",displayText:function(){return I.getLocalization("Save","AnalyticsCoreStringId.MenuButtons_Save")},imageClassName:"dxqb-image-save",imageTemplateName:"dxrd-svg-menu-save",disabled:y.isLoading,visible:!0,hotKey:{ctrlKey:!0,keyCode:"S".charCodeAt(0)},clickAction:function(){_().save()},hasSeparator:!0}),e.push({id:O.ActionId.DataPreview,text:"Preview Results",displayText:function(){return I.getLocalization("Preview Results","DataAccessUIStringId.QueryBuilderButtons_PreviewResults")},imageClassName:"dxrd-image-data-preview",imageTemplateName:"dxrd-svg-queryBuilder-data_preview",disabled:y.isLoading,visible:!0,hotKey:{ctrlKey:!0,keyCode:"P".charCodeAt(0)},clickAction:function(){_().canSave()&&y.showPreview()},hasSeparator:!0}),e.push({id:O.ActionId.SelectStatementPreview,text:"Preview Select Statement",displayText:function(){return I.getLocalization("Preview Select Statement","AnalyticsCoreStringId.QueryBuilder_PreviewSelectStatement_Tooltip")},imageClassName:"dxrd-image-selectstatement-preview",imageTemplateName:"dxrd-svg-queryBuilder-select_statment",disabled:y.isLoading,visible:!0,hotKey:{ctrlKey:!0,keyCode:"E".charCodeAt(0)},clickAction:function(){_().canSave()&&y.showStatement()},hasSeparator:!0}),g&&g(e)})),f.selection.focused(d()),d.subscribe(function(e){f.selection.focused(e)}),f.isLoading()||f.undoEngine&&f.undoEngine().clearHistory(),f.isLoading.subscribe(function(e){f.undoEngine&&f.undoEngine().clearHistory()}),f.editableObject.subscribe(function(e){v.notifySubscribers(null)}),w.appendStaticContextToRootViewModel(f),o&&(r&&r.beforeRender&&r.beforeRender(f),x(e).empty(),P.cleanNode(e),P.applyBindings(f,e));var b=Z(function(){return x(e).find(".dxqb-designer")},f.surfaceSize,d);d.subscribe(function(){b()});function S(){setTimeout(function(){return b()})}return window.addEventListener("resize",S),Y.addDisposeCallback(e,function(){window.removeEventListener("resize",S)}),f.tabPanel.width.subscribe(function(){b()}),f.updateSurfaceSize=function(){b()},f.updateSurface=function(){b(),v(355)},f.findControl=function(e,r){x(".dxqb-main").children(".dxrd-control").each(function(e,t){t=x(t);t.offset().top<=r.clientY&&t.offset().left<=r.clientX&&f.selection.focused(P.dataFor(t[0]))})},o&&f.updateSurface(),f.showPreview=function(){f.dataPreview.isLoading(!0),f.dataPreview.isVisible(!0),a.getDataPreview(s,JSON.stringify(c().serialize(!0))).done(function(e){f.dataPreview.data.value(JSON.parse(e.dataPreviewJSON)),f.dataPreview.isLoading(!1)}).fail(function(e){f.dataPreview.isVisible(!1),H.ShowMessage(H.getErrorMessage(e))})},f.showStatement=function(){f.selectStatmentPreview.isLoading(!0),f.selectStatmentPreview.isVisible(!0),a.getSelectStatement(s,JSON.stringify(c().serialize(!0))).done(function(e){e.errorMessage&&H.ShowMessage(e.errorMessage),f.selectStatmentPreview.data.value(e.sqlSelectStatement),f.selectStatmentPreview.isLoading(!1)}).fail(function(e){f.selectStatmentPreview.isVisible(!1),H.ShowMessage(H.getErrorMessage(e))})},f}t.updateQueryBuilderSurfaceContentSize=Z,t.createIsLoadingFlag=ee,t.isJoinsResolvingDisabled=!1,t.createQueryBuilder=function(e,t,r,o){void 0===o&&(o=!0),t.localization&&I.addCultureInfo({messages:t.localization}),n.default({rtlEnabled:!!t.rtl}),a.registerControls();var i=[];return r&&r.customizeLocalization&&r.customizeLocalization(i),V.resolveFromPromises(i,function(){return s(e,t,r,o)})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var d,l=r(2),a=r(28),u=r(26),p=r(18),f=r(21),m=r(152),h=r(0),i=(d=a.QueryElementBaseViewModel,i(n,d),n.prototype._isAliasAutoGenerated=function(e){if(e&&this.alias()&&0===this.alias().indexOf(e+"_")&&this.alias().substring(e.length+1)===this.name())return!0;if(!this.alias()||0!==this.alias().indexOf(this.name()+"_"))return!1;e=this.alias().substring(this.name().length+1);return e.match(new RegExp("_[0-9]+$"))&&(e=e.substring(0,e.indexOf("_"))),0<Object.keys(u.AggregationType).indexOf(e)},n.prototype.getInfo=function(){return u.columnSerializationInfo},n.prototype.isPropertyDisabled=function(e){if(this.isNotAvailable())return!0;if("sortOrder"===e)return"Unsorted"===this.sortingType();if("aggregate"===e||"alias"===e)return!this.selected();if("groupBy"!==e)return!1;e=this.root;return this.aggregate()&&1===e.aggregatedColumnsCount()},Object.defineProperty(n.prototype,"specifics",{get:function(){return p.DBColumn.GetSpecific(this.dataType())},enumerable:!0,configurable:!0}),n);function n(e,t,r,o){var i=d.call(this,h.extend({"@ControlType":"Column"},e),r,o)||this;i.isNotAvailable=l.observable(!1),i._type=l.observable(p.DBColumnType.Unknown),i._size=l.observable(""),t.size&&i._size(t.size),t.type&&i._type(t.type),i.displayType=l.pureComputed(function(){return p.DBColumnType[i._type()]+(i._size()?"("+i._size()+")":"")}),i.dataType=l.pureComputed(function(){return p.DBColumn.GetType(i._type())}),i.actualName=l.pureComputed(function(){return i.alias()||i.name()});t=r.getColumnConnectionPoints(i);i.rightConnectionPoint={side:l.observable(f.PointSide.East),location:t.right},i.leftConnectionPoint={side:l.observable(f.PointSide.West),location:t.left};var a=r.parentModel(),n=l.pureComputed(function(){return m.ColumnExpressionCollectionHelper.find(a.columns,r.actualName(),i.name())});i.aggregate=l.pureComputed({read:function(){return n()?n().aggregate():u.AggregationType.None},write:function(e){n()&&n().aggregate(e)}}),i.alias=l.pureComputed({read:function(){return n()?n().alias():""},write:function(e){n()&&n().alias(e||null)}});var s=l.pureComputed(function(){return m.ColumnExpressionCollectionHelper.find(a.sorting,r.actualName(),i.name())});i.sortingType=l.computed({read:function(){return s()?s().descending()?"Descending":"Ascending":"Unsorted"},write:function(e){"Unsorted"!==e?(s()?s():m.ColumnExpressionCollectionHelper.addNew(a,a.sorting,r.actualName(),i.name())).descending("Descending"===e):s()&&m.ColumnExpressionCollectionHelper.remove(a.sorting,r.actualName(),i.name())}}),i.sortOrder=l.computed({read:function(){var e=a.sorting().indexOf(s());return e<0?void 0:e+1},write:function(e){var t;s()&&(e=Math.min(e,a.sorting().length),e=Math.max(e,1),t=a.sorting().indexOf(s()),t=a.sorting.splice(t,1),a.sorting.splice(e-1,0,t[0]))}});var c=l.computed(function(){return m.ColumnExpressionCollectionHelper.find(a.grouping,r.actualName(),i.name())});return i.aggregate.subscribe(function(e){var t=i.parentModel();e!==u.AggregationType.None?(i.groupBy(!1),i.alias()&&!i._isAliasAutoGenerated(t.actualName())||(e=i.name()+"_"+e,i.alias(m.ColumnExpressionCollectionHelper.setUniqueAlias(a.columns,e)))):i._isAliasAutoGenerated(t.actualName())&&i.alias(null)}),i.groupBy=l.computed({read:function(){return!!c()},write:function(e){e?(m.ColumnExpressionCollectionHelper.addNew(a,a.grouping,r.actualName(),i.name()),i.aggregate(u.AggregationType.None)):m.ColumnExpressionCollectionHelper.remove(a.grouping,r.actualName(),i.name())}}),i.selected=l.pureComputed({read:function(){return!!n()},write:function(e){!!n()!==e&&(e?m.ColumnExpressionCollectionHelper.addNew(a,a.columns,r.actualName(),i.name()):(m.ColumnExpressionCollectionHelper.remove(a.columns,r.actualName(),i.name()),i.groupBy(!1)))}}),i}t.ColumnViewModel=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=r(44);t.tableSerializationInfo=[r.name,r.alias,{propertyName:"itemType",modelName:"@ItemType"}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(28),c=r(1),d=r(94),l=r(95),u=r(0),i=(a=s.QueryElementBaseViewModel,i(p,a),p.prototype._getConditionNumber=function(){for(var e=this.conditions().length+1,t=this.conditions().map(function(e){return e.seriesNumber()}),r=0;r<this.conditions().length;r++)if(-1===t.indexOf(r+1)){e=r+1;break}return e},p.prototype.getInfo=function(){return l.relationSerializationInfo},p.prototype.addChild=function(e){this.conditions&&-1===this.conditions.indexOf(e)&&(e.seriesNumber(this._getConditionNumber()),e.parentModel(this),this.conditions.push(e))},p.prototype.removeChild=function(e){e=this.conditions().indexOf(e);-1<e&&this.conditions.splice(e,1),0===this.conditions().length&&this.parentModel().removeChild(this)},p);function p(e,t,r){var o=a.call(this,u.extend(e,{"@ControlType":"Relation","@ItemType":"Relation"}),t,r)||this;return o.parentTable=n.observable(t.getTable(o.parentTableName.peek())),o.nestedTable=n.observable(t.getTable(o.nestedTableName.peek())),o.parentTableName=n.pureComputed(function(){return o.parentTable().actualName()}),o.nestedTableName=n.pureComputed(function(){return o.nestedTable().actualName()}),o.conditions=c.deserializeArray(e.KeyColumns,function(e){return new d.JoinConditionViewModel(e,o,r)}),o}t.RelationViewModel=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(31),c=r(27),d=r(21),l=r(0),i=(a=s.RoutedConnectorViewModel,i(u,a),u.prototype.getControlFactory=function(){return c.controlsFactory},u.prototype.preInitProperties=function(){this.startPoint=n.observable(),this.endPoint=n.observable()},u);function u(e,t,r){var o=a.call(this,l.extend(e,{"@ControlType":"JoinCondition","@ItemType":"KeyColumn"}),t,r)||this;return o.parentColumn=n.pureComputed(function(){return t.parentTable().getColumn(o.parentColumnName())}),o.nestedColumn=n.pureComputed(function(){return t.nestedTable().getColumn(o.nestedColumnName())}),o.joinType=t.joinType,o.left=n.pureComputed(function(){return t.parentTableName()+"."+o.parentColumnName()}),o.right=n.pureComputed(function(){return t.nestedTableName()+"."+o.nestedColumnName()}),o._disposables.push(n.computed(function(){var e;o.parentColumn()&&o.nestedColumn()&&(e=d.determineConnectingPoints(o.parentColumn(),o.nestedColumn()),o.startPoint().connectingPoint(e.start),o.endPoint().connectingPoint(e.end))})),o}t.JoinConditionViewModel=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.relationSerializationInfo=[{propertyName:"joinType",modelName:"@Type"},{propertyName:"parentTableName",modelName:"@Parent"},{propertyName:"nestedTableName",modelName:"@Nested"},{propertyName:"conditions",modelName:"KeyColumns",defaultVal:[],array:!0},{propertyName:"itemType",modelName:"@itemType"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(25),r=r(1);t.querySerializationsInfo=[{propertyName:"_tablesObject",modelName:"Tables",info:[{propertyName:"tables",modelName:"SelectedTables",array:!0},{propertyName:"relations",modelName:"Relations",array:!0}]},{propertyName:"parameters",modelName:"Parameters",array:!0},{propertyName:"type",modelName:"@Type"},{propertyName:"name",modelName:"@Name"},{propertyName:"editableName",displayName:"Name",localizationId:"DevExpress.DataAccess.Sql.SqlQuery.Name",editor:o.editorTemplates.getEditor("text")},{propertyName:"_filterString",modelName:"Filter",defaultVal:""},{propertyName:"filterString",defaultVal:"",displayName:"Filter",localizationId:"DataAccessUIStringId.FiltersView_Filter",editor:o.editorTemplates.getEditor("filterEditor")},{propertyName:"_groupFilterString",modelName:"GroupFilter",defaultVal:""},{propertyName:"groupFilterString",defaultVal:"",displayName:"Group Filter",localizationId:"DataAccessUIStringId.FiltersView_GroupFilter",editor:o.editorTemplates.getEditor("filterGroupEditor")},{propertyName:"columns",modelName:"Columns",array:!0},{propertyName:"sorting",modelName:"Sorting",array:!0},{propertyName:"grouping",modelName:"Grouping",array:!0},{propertyName:"itemType",modelName:"@ItemType"},{propertyName:"allColumnsInTablesSelected",displayName:"Select All (*)",localizationId:"AnalyticsCoreStringId.QueryBuilder_SelectAll",editor:o.editorTemplates.getEditor("bool")},{propertyName:"top",modelName:"@Top",displayName:"Select Top",defaultVal:0,from:r.floatFromModel,localizationId:"AnalyticsCoreStringId.QueryBuilder_SelectTop",editor:o.editorTemplates.getEditor("numeric"),editorOptions:{format:"#0",min:0}},{propertyName:"skip",modelName:"@Skip",displayName:"Offset",defaultVal:0,from:r.floatFromModel,localizationId:"AnalyticsCoreStringId.QueryBuilder_Offset",editor:o.editorTemplates.getEditor("numeric"),editorOptions:{format:"#0",min:0}},{propertyName:"distinct",modelName:"@Distinct",defaultVal:!1,from:r.parseBool,displayName:"Select distinct",localizationId:"AnalyticsCoreStringId.QueryBuilder_SelectDistinct",editor:o.editorTemplates.getEditor("bool")}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(4),c=r(0),d=r(1),l=r(0),i=(a=s.SurfaceElementBase,i(u,a),u.prototype.checkParent=function(e){return!1},u.prototype.getChildrenCollection=function(){return this.tables},u.prototype.isJoined=function(e){return-1<this._joinedColumns().indexOf(e.getControlModel())},u._unitProperties={_width:function(e){return e.pageWidth},_height:function(e){return e.pageWidth},pageWidth:function(e){return e.pageWidth},pageHeight:function(e){return e.pageHeight},_bottom:function(e){return e.margins.bottom},_left:function(e){return e.margins.left},_right:function(e){return e.margins.right},_top:function(e){return e.margins.top}},u);function u(e,t){void 0===t&&(t=n.observable(1));var r=a.call(this,e,{measureUnit:n.observable("Pixels"),zoom:t,dpi:n.observable(100)},u._unitProperties)||this;return r.placeholder=function(){return d.getLocalization("Drop a table or view here to create a query.","AnalyticsCoreStringId.QueryBuilder_SurfacePlaceholder")},r.tables=n.observableArray(),r.relations=n.observableArray(),r.allowMultiselect=!1,r.focused=n.observable(!1),r.selected=n.observable(!1),r.underCursor=n.observable(new l.HoverInfo),r.templateName="dx-query-surface",r.rtl=n.observable(!1),r.measureUnit=r._context.measureUnit,r.dpi=r._context.dpi,(r._context=r).margins={bottom:r._bottom,left:r._left,right:r._right,top:r._top},r.zoom=t,c.createObservableArrayMapCollection(e.tables,r.tables,r._createSurface),c.createObservableArrayMapCollection(e.relations,r.relations,r._createSurface),r._joinedColumns=n.computed(function(){var t=[];return r.relations().forEach(function(e){e.conditions().forEach(function(e){e=e.getControlModel();e.parentColumn()&&t.push(e.parentColumn()),e.nestedColumn()&&t.push(e.nestedColumn())})}),t}),r}t.QuerySurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(0),s=r(27),c=r(4),d=r(4),l=r(0),u=r(0),i=(n=a.DragDropHandler,i(p,n),p.prototype.startDrag=function(e){e&&e.name&&this._query().dbSchemaProvider.getDbTable(e.name)},p.prototype.doStopDrag=function(e,t){this.dragHelperContent.reset(),this.selection.dropTarget&&(e=this._getAbsoluteSurfacePosition(e),this._querySurface().underCursor().x=e.left-this._querySurface().absolutePosition.x(),this._querySurface().underCursor().y=e.top-this._querySurface().absolutePosition.y(),t=this._drop(t.data,this._query()),this.addControl(t,this._querySurface(),this._size))},p.prototype.addControl=function(e,t,r){t.getControlModel().addChild(e);e=l.findSurface(e);e&&(e.rect({left:t.underCursor().x,top:t.underCursor().y,width:r.width()}),this.selection.initialize(e))},p.getDropCallback=function(o,i){return function(e,t){var r=t.createChild(u.extend({"@ControlType":"Table","@Name":e.name},s.controlsFactory.controlsMap.Table.defaultVal));return r.isInitialized()?t.tryToCreateRelationsByFK(r):r.isInitialized.subscribe(function(){o().start(),t.tryToCreateRelationsByFK(r),o().end()}),i&&(e=Math.max.apply(null,t.tables.peek().filter(function(e){return e!==r}).map(function(e){return e.location.x.peek()+3*e.size.width.peek()/2}).concat([30])),r.location.x(e),r.location.y(65)),r}},p);function p(e,t,r,o,i){var a=n.call(this,e,t,r,o,i)||this;return a._undoEngine=r,a._query=function(){return a._querySurface().getControlModel()},a._querySurface=e,a.cursor="arrow",a.containment=".dxqb-designer",a.cursorAt={top:0,left:0},a.helper=function(e){n.prototype.helper.call(a,e),a.recalculateSize(c.Size.fromString("199, 123")),i.setContent(new d.Rectangle(0,0,a._size.width(),a._size.height()))},a._drop=p.getDropCallback(a._undoEngine,!1),a}t.DbObjectDragDropHandler=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(0),s=r(63),c=r(15),d=r(30),l=r(0),i=(a=n.DragDropHandler,i(u,a),u.prototype.startDrag=function(e){if(!(e instanceof s.ConnectingPointSurface))throw new Error("ConnectingPointDragHandler can be applied to the ConnectingPoint only.");this.startConnectingPoint=e;e=this.startConnectingPoint.parent.getControlModel();this.newConnector=e.parentModel().createChild({"@ControlType":"RoutedConnector"}),this.newConnector.startPoint().connectingPoint(this.startConnectingPoint.getControlModel())},u.prototype.drag=function(e,t){t.position.left+=t.scroll.left,t.position.top+=t.scroll.top;t=this._getAbsoluteSurfacePosition(t);this.newConnectorSurface.endPoint().rect({top:t.top,left:t.left})},u.prototype.doStopDrag=function(){var e;this.dragHelperContent.reset(),this.selection.dropTarget&&((e=this.selection.dropTarget.getControlModel())instanceof d.ConnectingPointViewModel?this.newConnector.endPoint().connectingPoint(e):e instanceof c.DiagramElementViewModel&&(e=e.connectingPoints(),this.newConnector.endPoint().connectingPoint(e[0])),this.selection.initialize(this.newConnectorSurface))},Object.defineProperty(u.prototype,"newConnectorSurface",{get:function(){return this.newConnector&&l.findSurface(this.newConnector)},enumerable:!0,configurable:!0}),u);function u(e,t,r,o,i){o=a.call(this,e,t,r,o,i)||this;return o.startConnectingPoint=null,o.newConnector=null,o.cursor="arrow",o.containment=".dxrd-ghost-container",o.helper=function(e){i.update(e)},o}t.ConnectingPointDragHandler=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(29),c=r(22),i=(a=s.DiagramElementBaseSurface,i(d,a),d);function d(e,t){var r=a.call(this,e,t,null)||this;return r.template="dxdd-connector",r.selectiontemplate="dxdd-connector-selection",r.startPoint=n.pureComputed(function(){return new c.ConnectionPointSurface(e.startPoint(),t)}),r.endPoint=n.pureComputed(function(){return new c.ConnectionPointSurface(e.endPoint(),t)}),r}t.ConnectorSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(0),s=r(22),c=r(30),d=r(15),i=(a=n.DragDropHandler,i(l,a),l.prototype.startDrag=function(e){if(!(e instanceof s.ConnectionPointSurface))throw new Error("ConnectionPointDragHandler can be applied to the ConnectionPoint only.");this.currentConnectionPoint=e},l.prototype.drag=function(e,t){t.position.left+=t.scroll.left,t.position.top+=t.scroll.top;t=this._getAbsoluteSurfacePosition(t);this.currentConnectionPoint.rect({top:t.top,left:t.left})},l.prototype.doStopDrag=function(){var e,t;this.dragHelperContent.reset(),this.selection.dropTarget&&((t=this.selection.dropTarget.getControlModel())instanceof c.ConnectingPointViewModel?(e=this.currentConnectionPoint.parent.getControlModel(),(this.currentConnectionPoint.getControlModel()===e.startPoint()?e.startPoint():e.endPoint()).connectingPoint(t)):t instanceof d.DiagramElementViewModel&&(e=this.currentConnectionPoint.parent.getControlModel(),t=t.connectingPoints(),(this.currentConnectionPoint.getControlModel()===e.startPoint()?e.startPoint():e.endPoint()).connectingPoint(t[0])))},l);function l(e,t,r,o,i){o=a.call(this,e,t,r,o,i)||this;return o.currentConnectionPoint=null,o.cursor="arrow",o.containment=".dxrd-ghost-container",o.helper=function(e){i.update(e)},o}t.ConnectionPointDragHandler=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),a=r(103),n=r(0),s=r(0),c=r(1);t.getDBSchemaCallback=function(e,t,r){var o=i.Deferred();return e.getDbSchema(t,r).done(function(e){o.resolve(new a.DBSchema(JSON.parse(e.dbSchemaJSON)))}).fail(function(e){n.ShowMessage(s.formatUnicorn(c.getLocalization("Schema loading failed. {0}","DxDesignerStringId.Error_SchemaLoadingFailed"),n.getErrorMessage(e))),o.reject()}),o.promise()},t.getDBStoredProceduresCallback=function(e,t){var r=i.Deferred();return e.getDbStoredProcedures(t).done(function(e){r.resolve(new a.DBSchema(JSON.parse(e.dbSchemaJSON)).procedures)}).fail(function(e){n.ShowMessage(s.formatUnicorn(c.getLocalization("Stored procedures loading failed. {0}","DxDesignerStringId.Error_SchemaLoadingFailed"),n.getErrorMessage(e))),r.reject()}),r.promise()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(104),i=r(69),a=r(19),r=function(e){var t=a.deserializeToCollection(e.Tables,function(e){return new o.DBTable(e)});t.sort(function(e,t){return e.name.localeCompare(t.name)});var r=a.deserializeToCollection(e.Views,function(e){return new o.DBTable(e)});r.sort(function(e,t){return e.name.localeCompare(t.name)}),this.tables=t.concat(r),this.procedures=a.deserializeToCollection(e.StoredProcedures,function(e){return new i.DBStoredProcedure(e)})};t.DBSchema=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),i=r(105),a=r(19),r=function(e){this.name=e.Name,this.isView="true"===e.IsView||!0===e.IsView,this.columns=a.deserializeToCollection(e.columns,function(e){return new o.DBColumn(e)}),this.foreignKeys=a.deserializeToCollection(e.foreignKeys,function(e){return new i.DBForeignKey(e)})};t.DBTable=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DBForeignKey=function(e){this.name=e.Name,this.primaryKeyTable=e.PrimaryKeyTable,this.columns=e.Columns,this.primaryKeyColumns=e.PrimaryKeyTableKeyColumns}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=[{propertyName:"tableName",modelName:"@Name"},{propertyName:"columns",modelName:"Fields",array:!0,info:[{propertyName:"name",modelName:"@Name"},{propertyName:"propertyType",modelName:"@Type"}]}],r=(a.prototype.getInfo=function(){return i},a);function a(e,t){(t=t||new o.ModelSerializer).deserialize(this,e)}t.ResultTable=r},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(1),c=r(1),d=r(73),r=r(72),i=(a=s.Disposable,i(l,a),l.from=function(e,t){return new l(e||{},t)},l.toJson=function(e,t,r){return t.serialize(e,u,r)},l.prototype.getInfo=function(){return u},l.prototype.serialize=function(e){return(e=void 0===e?!1:e)?{Source:this.serialize()}:(new c.ModelSerializer).serialize(this)},l.prototype.resetSource=function(){this.sourceType(""),this.json(""),this.uri("")},l._URIJSONSOURCE_TYPE="DevExpress.DataAccess.Json.UriJsonSource",l._CUSTOMJSONSOURCE_TYPE="DevExpress.DataAccess.Json.CustomJsonSource",l);function l(e,r){void 0===e&&(e={});var t=a.call(this)||this;function o(e,t){return e&&Array.isArray(e[d.JsonParameterType[t]])&&e[d.JsonParameterType[t]]&&(e=e[d.JsonParameterType[t]]),s.deserializeArray(e,function(e){return e["@ItemType"]||(e["@ItemType"]=d.JsonParameterType[t]),new d.JsonParameter(e,r)})}return t.sourceType=n.observable(),t.uri=n.observable(),t.json=n.observable(),(r=r||new c.ModelSerializer).deserialize(t,e),t._disposables.push(t.uri.subscribe(function(e){e&&t.sourceType(l._URIJSONSOURCE_TYPE)})),t._disposables.push(t.json.subscribe(function(e){e&&t.sourceType(l._CUSTOMJSONSOURCE_TYPE)})),t.queryParameters=o(e.QueryParameters,d.JsonParameterType.QueryParameter),t.headers=o(e.Headers,d.JsonParameterType.Header),t.pathParameters=o(e.PathParameters,d.JsonParameterType.PathParameter),t}t.JsonSource=i;var u=[{propertyName:"sourceType",modelName:"@SourceType",defaultVal:""},{propertyName:"json",modelName:"@Json",defaultVal:""},{propertyName:"uri",modelName:"@Uri",defaultVal:""},{propertyName:"authenticationInfo",modelName:"AuthenticationInfo",from:r.JsonAuthenticationInfo.from,toJsonObject:r.JsonAuthenticationInfo.toJson},{propertyName:"headers",modelName:"Headers",array:!0},{propertyName:"queryParameters",modelName:"QueryParameters",array:!0},{propertyName:"pathParameters",modelName:"PathParameters",array:!0}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(3),s=r(1),c=r(8),d=r(109),i=(a=s.Disposable,i(l,a),l.prototype.reset=function(){this._jsonSchemaPromise=null},l.prototype.mapToDataMemberContract=function(e){return n.map(e||[],function(e){return{name:e.name(),displayName:e.displayName||e.name(),isSelected:e.selected(),isList:e.nodes&&0<e.nodes.length,specifics:"table",dragData:{noDragable:!1}}})},l.prototype.getSchemaByPath=function(t,e){if(t.fullPath){for(var r=e.nodes,o=0;o<t.pathParts.length;o++){var i=(r||[]).filter(function(e){return e.name()==t.pathParts[o]})[0];if(!i)return[];r=i.nodes}return this.mapToDataMemberContract(r)}return this.mapToDataMemberContract(e.nodes)},l.prototype.getJsonSchema=function(e){return void 0===e&&(e=[]),this._jsonSchemaPromise&&"rejected"!==this._jsonSchemaPromise.state()||(this._jsonSchemaPromise=d.getJsonSchemaCallback(this._requestWrapper,this._jsonDataSource,e)),this._jsonSchemaPromise},l);function l(e,t){void 0===t&&(t=new c.RequestWrapper);var o=a.call(this)||this;return o._requestWrapper=t,o._jsonDataSource=e,o._disposables.push(o._jsonDataSource.source.sourceType.subscribe(function(){o._jsonSchemaPromise=null})),o.getItems=function(t){var r=n.Deferred();return(o._jsonSchema?n.Deferred().resolve(o._jsonSchema).promise():o.getJsonSchema()).done(function(e){o._jsonSchema=e;e=o.getSchemaByPath(t,e);r.resolve(e)}).fail(r.reject),r.promise()},o}t.JsonSchemaProvider=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function o(e,t,r){void 0===r&&(r=[]);var o=i.Deferred();return e.getJsonSchema(t,r).done(function(e){try{var t=JSON.parse(e.jsonSchemaJSON),r=new a.JsonSchemaRootNode(t);o.resolve(r)}finally{"pending"===o.state()&&o.reject()}}).fail(function(e){n.ShowMessage(s.formatUnicorn(c.getLocalization("Schema loading failed. {0}","DxDesignerStringId.Error_SchemaLoadingFailed"),n.getErrorMessage(e))),o.reject()}),o.promise()}var i=r(3),a=r(49),n=r(0),s=r(0),c=r(1);t.getJsonSchemaCallback=o,t._setGetJsonSchemaCallback=function(e){t.getJsonSchemaCallback=e},t._resetGetJsonSchemaCallback=function(){t.getJsonSchemaCallback=o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(1),a=r(1),n=[{propertyName:"closeConnection",modelName:"@CloseConnection",from:i.parseBool},{propertyName:"commandTimeout",modelName:"@DbCommandTimeout",from:function(e){e=parseInt(e);return isNaN(e)&&(e=null),o.observable(e)},defaultVal:null}],i=(s.prototype.getInfo=function(){return n},s);function s(e,t){this.closeConnection=o.observable(!0),this.commandTimeout=o.observable(null),(t=t||new a.ModelSerializer).deserialize(this,e)}t.ConnectionOptions=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=r(10);t.expressionFunctions=r.insertInFunctionDisplay({String:{CreateTable:[{paramCount:1,text:"CreateTable(, )",displayName:"CreateTable(Column1, ..., ColumnN)",descriptionStringId:"ExpressionEditorStringId.Function_CreateTable"}]}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customQuerySerializationsInfo=[{propertyName:"type",modelName:"@Type"},{propertyName:"name",modelName:"@Name"},{propertyName:"sqlString",modelName:"Sql",defaultVal:""},{propertyName:"parameters",modelName:"Parameters",array:!0},{propertyName:"itemType",modelName:"@ItemType"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.masterDetailRelationSerializationsInfo=[{propertyName:"masterQuery",modelName:"@Master"},{propertyName:"detailQuery",modelName:"@Detail"},{propertyName:"_customName",modelName:"@Name"},{propertyName:"keyColumns",modelName:"KeyColumns",array:!0,info:[{propertyName:"masterColumn",modelName:"@Master"},{propertyName:"detailColumn",modelName:"@Detail"},{propertyName:"itemType",modelName:"@ItemType"}]},{propertyName:"itemType",modelName:"@ItemType"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(1),a=r(1),r=(n.from=function(e,t){return new n(e,t)},n.toJson=function(e,t,r){return t.serialize(e,s,r)},n.prototype.getInfo=function(){return s},n);function n(e,t){this.name=o.observable(),this.parameteres=o.observable(),this.fromAppConfig=o.observable(!0),(t=t||new i.ModelSerializer).deserialize(this,e)}t.SqlDataConnection=r;var s=[{propertyName:"name",modelName:"@Name"},{propertyName:"parameteres",modelName:"Parameters"},{propertyName:"fromAppConfig",modelName:"@FromAppConfig",defaultVal:!1,from:a.parseBool}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableQuerySerializationsInfo=[{propertyName:"type",modelName:"@Type"},{propertyName:"name",modelName:"@Name"},{propertyName:"parameters",modelName:"Parameters",array:!0},{propertyName:"_tablesObject",modelName:"Tables",info:[{propertyName:"tables",modelName:"SelectedTables",array:!0,info:[{propertyName:"name",modelName:"@Name"},{propertyName:"alias",modelName:"@Alias"}]}]},{propertyName:"filterString",modelName:"Filter",defaultVal:""},{propertyName:"itemType",modelName:"@ItemType"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storedProcQuerySerializationsInfo=[{propertyName:"type",modelName:"@Type"},{propertyName:"name",modelName:"@Name"},{propertyName:"procName",modelName:"ProcName"},{propertyName:"parameters",modelName:"Parameters",array:!0},{propertyName:"itemType",modelName:"@ItemType"}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,r=r(39),i=(a=r.PageFactory,i(n,a),n.prototype.registerMetadata=function(e,t){a.prototype.registerMetadata.call(this,e,t),void 0===t.position&&(t.position=Object.keys(this.metadata).length-1),void 0===t.recreate&&(t.recreate=!1),void 0===t.disabledText&&(t.disabledText="")},n);function n(){return null!==a&&a.apply(this,arguments)||this}t.WizardPageSectionFactory=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(1),d=r(76),l=r(119),u=r(1),p=r(14),f=r(13),i=(a=c.Disposable,i(m,a),m.prototype.dispose=function(){a.prototype.dispose.call(this),this.sections.forEach(function(e){return e.resetPage()}),this.sections=[]},m.prototype._createLoadingState=function(e){var t=this;e[m.__loadingStateFunctionName]||(e[m.__loadingStateFunctionName]=function(e){return t._loadingState(e)})},m.prototype._createNextAction=function(e){var t=this;e[p.BaseWizard.__nextActionFunctionName]||(e[p.BaseWizard.__nextActionFunctionName]=function(){return t._extendedNextAction()})},m.prototype._loadingState=function(e){var t=this;e?(this._loadingTimeout&&clearTimeout(this._loadingTimeout),this._loadingTimeout=setTimeout(function(){t.isLoading(!0)},100)):(this._loadingTimeout&&clearTimeout(this._loadingTimeout),this.isLoading(!1))},m.prototype._extendedNextAction=function(){},m.prototype._resetPageById=function(e){this.getPageById(e).resetPage()},m.prototype.initialize=function(e,t){var r=this;void 0===t&&(t=function(e,t){return new l.WizardPageSectionIterator(e,t,function(e){return r._resetPageById(e)})}),this.events.call("beforeInitialize",{wizard:this,state:e}),this.stateManager=new d.StateManager(e,this.pageFactory),this.iterator=t(this.pageFactory,this.stateManager),this.sections=[],Object.keys(this.pageFactory.metadata).forEach(function(e){r.sections.push(new l.WizardPageSection(e,r.pageFactory.metadata[e]))}),this.sections=this.sections.sort(function(e,t){return e.metadata.position-t.metadata.position}),this.events.call("afterInitialize",{wizard:this})},m.prototype._canNext=function(e){var t=!this.isLoading()&&e&&e.page&&this.pageFactory.getMetadata(e.pageId);return t&&t.canNext(e.page)},m.prototype._canFinish=function(e){return!this.isLoading()&&e&&this.pageFactory.getMetadata(e.pageId).canFinish(e.page)},m.prototype._initPage=function(e,t,r){var o=this;if(void 0===t&&(t=!1),void 0===r&&(r=!1),this._createNextAction(e.page),!e.onChange)throw Error("Page with id "+e.pageId+" cannot be used in AutoNavigation, because it does not have method OnChange");return e.onChange(function(){o._changeTimeout&&clearTimeout(o._changeTimeout),o._changeTimeout=setTimeout(function(){o._nextAction(e)},100)}),e.initialize(this.stateManager.getPageState(e.pageId),t,r).always(function(){return o._loadingState(!1)})},m.prototype.getPageById=function(t){return this.sections.filter(function(e){return e.pageId===t})[0]},m.prototype.start=function(){var t=this;this.events.call("beforeStart",{wizard:this}),this._loadingState(!0);var r=this.iterator.getStartPage();this.events.call("beforePageInitialize",f._createBeforeInitializePageEventArgs(r,this)),this._initPage(r).done(function(){var e=t.getPageById(r.pageId);if(!e)throw Error("Page Section with id "+r.pageId+" is not found.");e.setPage(r),t.events.call("afterPageInitialize",f._createPageEventArgs(r,t)),t._nextAction(r)})},m.prototype.finishAction=function(){for(var t=this,e=s.Deferred(),r=!1,o=this.sections.length-1;0<=o;o--)if(this.sections[o].page()){this.sections[o].page().commit().done(function(e){t.sections[o].page().isChanged&&(t.events.call("beforeFinish",{wizardModel:t,state:t.stateManager.getCurrentState()}),t.stateManager.setPageState(t.sections[o].page().pageId,e),t.events.call("afterFinish",{wizardResult:t,state:t.stateManager.getCurrentState()}))}).always(function(){return e.resolve()}),r=!0;break}return r||e.resolve(),e.promise()},m.prototype._nextAction=function(r,o){var i=this;if(void 0===o&&(o=!1),!this._canNext(r)&&!this._canFinish(r))return r.resetCommitedState(),this.iterator.resetNextPages(r.pageId);this._loadingState(!0),r.commit().done(function(e){r.isChanged||o||r.page&&r.page.changeAlways?(i.stateManager.setPageState(r.pageId,e),i.iterator.getNextPage(r.pageId).done(function(e){e&&0<e.length?e.forEach(function(e){var t=i.getPageById(e.pageId),e=t&&t.page()||e;i.events.call("beforePageInitialize",f._createBeforeInitializePageEventArgs(e,i)),i._initPage(e,!!t.page(),r.isChanged||o).done(function(){i.getPageById(e.pageId).setPage(e),i.events.call("afterPageInitialize",f._createPageEventArgs(e,i)),i._nextAction(e,r.isChanged)})}):i._loadingState(!1),r.isChanged=!1}).fail(function(){return i._loadingState(!1)})):i._loadingState(!1)}).fail(function(){return i._loadingState(!1)})},m.__loadingStateFunctionName="__loadingState",m);function m(e,t,r){var o=a.call(this)||this;return o.pageFactory=e,o.events=new u.EventManager,o._loadingTimeout=null,o._changeTimeout=null,o.sections=[],o.isLoading=n.observable(!1),t&&(o._loadingState=t),r&&(o._extendedNextAction=r),o._disposables.push(o.events),o}t.WizardPageProcessor=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(3),a=r(120),r=(n.prototype.resetPage=function(){this.page()&&this.page().dispose(),this.page(null)},n.prototype.setPage=function(e){this.page()!==e&&this.page(e)},n);function n(e,t){this.pageId=e,this.metadata=t,this.page=o.observable(null)}t.WizardPageSection=r;s.prototype._resetPages=function(e,t){var r=this;if(void 0===t&&(t=function(e){return r._resetPage(e)}),e<this._pagesIds.length)for(var o=this._pagesIds.length-1;e<=o;o--)this._pagesIds[o].forEach(function(e){return t(e)}),this._pagesIds.splice(o,1)},s.prototype._tryResetPageByMetadata=function(e){return!!this.pageFactory.getMetadata(e).recreate&&(this._resetPage(e),!0)},s.prototype._resetPage=function(e){this.stateManager.resetPageState(e),this._resetPageCallback(e);e=this._getPage(e);e&&(e.dispose(),this._pages.splice(this._pages.indexOf(e),1))},s.prototype._createNewPage=function(e){var t=this.pageFactory.getMetadata(e);return new a.WrappedWizardPageSection(e,t.create(),t)},s.prototype._getPage=function(t){return this._pages.filter(function(e){return e.pageId===t})[0]},s.prototype._getNextPage=function(e){var r=this;return i.Deferred().resolve(e.map(function(e){var t=r._getPage(e);return t&&!r._tryResetPageByMetadata(e)||(t=r._createNewPage(e),r._pages.push(t)),t})).promise()},s.prototype._getPageIndex=function(t){return this._pagesIds.indexOf(this._pagesIds.filter(function(e){return e.some(function(e){return e===t})})[0])},s.prototype.resetNextPages=function(e){this._resetPages(this._getPageIndex(e)+1)},s.prototype.getStartPage=function(){var e=this.getNextPageId(),t=this.pageFactory.getMetadata(e),t=new a.WrappedWizardPageSection(e,t.create(),t);return this._pagesIds.push([e]),t},s.prototype.getNextPage=function(e){var t=this,r=this._getPageIndex(e),o=this.getNextPageId(e);return o?(o.push||(o=[o]),JSON.stringify(this._pagesIds[r+1])!==JSON.stringify(o)&&(this._resetPages(r+1,function(e){-1===o.indexOf(e)&&t._resetPage(e)}),this._pagesIds.push(o)),this._getNextPage(o)):(this.resetNextPages(e),i.Deferred().reject().promise())},s.prototype.getCurrentState=function(){return this.stateManager.getCurrentState()},s.prototype.getNextPageId=function(e){return""},r=s;function s(e,t,r){this.pageFactory=e,this.stateManager=t,this._resetPageCallback=r,this._pagesIds=[],this._pages=[]}t.WizardPageSectionIterator=r},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,r=r(7),i=(a=r._WrappedWizardPage,i(n,a),n);function n(e,t,r){var o=a.call(this,e,t,r.template,r.description)||this;return o.pageId=e,(o.page=t).onChange&&(o.onChange=function(e){t.onChange(function(){e(),r.onChange&&r.onChange()})}),o}t.WrappedWizardPageSection=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(9),d=r(1),l=r(53),u=r(1),p=r(32),f=r(0),m=r(10),i=(a=d.Disposable,i(h,a),h.prototype.setQuery=function(t,e){var r=this;return this._query()!==t&&t.type()===c.SqlQueryType.tableQuery?(e&&e(!0),this._sqlTextProvider.getQuerySqlText(t).done(function(e){e.errorMessage&&f.ShowMessage(e.errorMessage),r._tableQueryString(e.sqlSelectStatement),r._query(t)}).always(function(){e&&e(!1)})):(this._query(t),s.Deferred().resolve().promise())},h.prototype.getQuery=function(){return this._query()},Object.defineProperty(h.prototype,"runQueryBuilderDisabled",{get:function(){return!1},enumerable:!0,configurable:!0}),h);function h(e,t){var r=a.call(this)||this;return r._tableQueryString=n.observable(""),r._query=n.observable(),r._needToCustomizeParameters=n.pureComputed(function(){return r._query()&&(r._query().type()===c.SqlQueryType.customSqlQuery||0<r._query().parameters().length)}),r.template="dxrd-select-control",r.aceOptions=l.createDefaultSQLAceOptions(),r.additionalOptions=l.createDefaultSQLAdditionalOptions(function(e){r.sqlString(e)}),r.aceAvailable=m.aceAvailable(),r.languageHelper=l.createDefaultSQLLanguageHelper(),r.caption=function(){return u.getLocalization("SQL string:","DataAccessUIStringId.QueryControl_SqlString")},r.sqlString=n.pureComputed({read:function(){return r._query()&&r._query().type()===c.SqlQueryType.customSqlQuery?r._query().sqlString():r._tableQueryString()},write:function(e){var t;r._query().type()!==c.SqlQueryType.customSqlQuery?((t=new p.CustomSqlQuery({"@Name":r._query().name()},r._query().parent)).parameters(r._query().parameters()),t.sqlString(e),r._query(t)):r._query().sqlString(e)}}),r.isNextDisabled=n.pureComputed(function(){return!r.sqlString()||!r._needToCustomizeParameters()}),r.isFinishDisabled=n.pureComputed(function(){return!r.sqlString()||r._needToCustomizeParameters()}),r._sqlTextProvider=e,r.disableCustomSql=function(){return t},r.aceOptions.readOnly=r.disableCustomSql(),r._disposables.push(r._needToCustomizeParameters,r.sqlString),r}t.SelectStatementQueryControl=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(7),d=r(8),l=r(82),u=r(83),p=r(23),f=r(52),m=r(5),h=r(1),y=(a=c.WizardPageBase,i(g,a),g.prototype.canNext=function(){return!!this._selectedTypeName},g.prototype.canFinish=function(){return!1},g.prototype.commit=function(){return s.Deferred().resolve({selectedType:this._selectedTypeName,selectedObjectType:this._chooseObjectType.selectedType(),ctor:this._chooseObjectType.selectedCtor()}).promise()},g.prototype.initialize=function(e){var t=this;return this._objectDataSource.setState(e),this._provider.getObjectTypeDescriptions(e.context).done(function(e){e.types.forEach(function(e){return e.members.splice(0,0,f.ObjectDataMember.empty())}),t._types(e.types||[]),0<e.types.length&&t._chooseObjectType.selectedPath(e.types[0].name)}),s.Deferred().resolve().promise()},Object.defineProperty(g.prototype,"_selectedTypeName",{get:function(){return this._chooseObjectType.selectedType()?this._chooseObjectType.selectedType().name:null},enumerable:!0,configurable:!0}),g);function g(e){void 0===e&&(e=new d.RequestWrapper);var t=a.call(this)||this;return t._requestWrapper=e,t._objectDataSource=new p.ObjectDataSource,t._types=n.observableArray([]),t._disposables.push(t._provider=new l.ObjectSchemaProvider(t._requestWrapper),t._chooseObjectType=new u.ChooseObjectTypes(t._types,t._provider)),t}t.ChooseObjectDataSourceTypesPage=y,t._registerChooseObjectDataSourceTypesPage=function(e,t){e.registerMetadata(m.ObjectDataSourceWizardPageId.ChooseTypesPage,{setState:function(e,t){t.selectedType=e.selectedType,t.selectedObjectType=e.selectedObjectType,t.ctor=e.ctor},getState:function(e){return e.objectDataSourceWizard},resetState:function(e,t){e.selectedType=t.selectedType,e.selectedObjectType=t.selectedObjectType,e.ctor=t.ctor},create:function(){return new y(t.requestWrapper)},description:h.getLocalization("Choose the type and its constructor.","AnalyticsCoreStringId.ObjectDSWizard_ChooseType_Description"),template:"dxrd-page-objectdatasource-types"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(7),d=r(8),l=r(84),u=r(23),p=r(5),f=r(1),m=(a=c.WizardPageBase,i(h,a),h.prototype.initialize=function(e){return this._objectDataSource.setState(e),this._type(e.selectedObjectType),this._ctor(e.ctor),s.Deferred().resolve().promise()},h.prototype.canNext=function(){return!!this._needParametersPage},h.prototype.canFinish=function(){return!this._needParametersPage},h.prototype.commit=function(){return s.Deferred().resolve({selectedType:this._type().name,ctor:this._ctor(),dataMember:!this._selectedDataMember||this._selectedDataMember.isEntireObject()?void 0:this._selectedDataMember}).promise()},Object.defineProperty(h.prototype,"_selectedDataMember",{get:function(){var e=this._chooseObjectDataMember.selectedDataMembers();return e?e[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"_needParametersPage",{get:function(){return!!this._selectedDataMember&&0<this._selectedDataMember.parameters.length||!!this._ctor()&&0<this._ctor().parameters.length},enumerable:!0,configurable:!0}),h);function h(e){void 0===e&&(e=new d.RequestWrapper);var t=a.call(this)||this;return t._requestWrapper=e,t._objectDataSource=new u.ObjectDataSource,t._type=n.observable(),t._ctor=n.observable(),t._disposables.push(t._chooseObjectDataMember=new l.ChooseObjectDataMembers(t._type,t._ctor)),t}t.ChooseObjectDataSourceDataMembersPage=m,t._registerChooseObjectDataSourceDataMembersPage=function(e,t){e.registerMetadata(p.ObjectDataSourceWizardPageId.ChooseDataMembersPage,{setState:function(e,t){t.selectedType=e.selectedType,t.ctor=e.ctor,t.dataMember=e.dataMember},getState:function(e){return e.objectDataSourceWizard},resetState:function(e,t){e.dataMember=t.dataMember},create:function(){return new m(t.requestWrapper)},description:f.getLocalization("Choose the entire object or a data member to bind.","AnalyticsCoreStringId.ObjectDSWizard_ChooseDataMember_Description"),template:"dxrd-page-objectdatasource-datamembers"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(7),d=r(13),l=r(1),i=(a=c.WizardPageBase,i(u,a),u.prototype.canNext=function(){return 0!==this.selectedItems().length||this.selectedOperation().createNew},u.prototype.initialize=function(e){e=this._getSelectedItem(e);return this.selectedItems(e?[e]:[]),s.Deferred().resolve(this).promise()},u.prototype._displayExpr=function(e){return e.description||e.name},u.prototype._getSelectedItem=function(e){return this.items()[0]},u.prototype.onDblClick=function(){this[p.BaseWizard.__nextActionFunctionName]&&this[p.BaseWizard.__nextActionFunctionName]()},Object.defineProperty(u.prototype,"createNewOperationText",{get:function(){return l.getLocalization("No, I'd like to create a new data source","AnalyticsCoreStringId.Wizard_CreateNewDataSource")},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"existingOperationText",{get:function(){return l.getLocalization("Yes, let me choose an existing data source from the list","AnalyticsCoreStringId.Wizard_ChooseDataSourceFromList")},enumerable:!0,configurable:!0}),u);function u(e,t){void 0===t&&(t=!0);var r=a.call(this)||this;return r.items=e,r.selectedItems=n.observableArray([]),r.operations=[{text:r.existingOperationText,createNew:!1},{text:r.createNewOperationText,createNew:!0}],r.selectedOperation=n.observable(r.operations[0]),r._createNew=n.pureComputed(function(){return r.selectedOperation().createNew}),r.canCreateNew=n.observable(t),(t=r._disposables).push.apply(t,d.subscribeProperties([r.selectedOperation,r.selectedItems],function(){return r._onChange()})),r}t.ChooseAvailableItemPage=i;var p=r(14)},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(3),s=r(55),c=r(8),d=r(40),l=r(5),u=r(1),p=(a=s.ChooseJsonConnectionPage,i(f,a),f.prototype.commit=function(){var t=n.Deferred(),e=this._createNew()?this._specifySourceData.commit():a.prototype.commit.call(this);return e.done(function(e){t.resolve(e)}),t.promise()},f.prototype.canNext=function(){return this._createNew()?this._specifySourceData.canNext():a.prototype.canNext.call(this)},f.prototype.initialize=function(e){var t=this,r=n.Deferred();return a.prototype.initialize.call(this,e).done(function(){t._specifySourceData.initialize(e).done(function(){r.resolve(t)})}),r.promise()},f);function f(e,t,r,o){void 0===o&&(o=new c.RequestWrapper);var i=a.call(this,e,t)||this;return i._requestWrapper=o,i._disposables.push(i._specifySourceData=new d.ChooseJsonSourcePage(o,r)),i._specifySourceData.onChange(function(){return i._onChange()}),i}t.SpecifyJsonConnectionPage=p,t._registerSpecifyJsonConnectionPage=function(e,t,r,o){e.registerMetadata(l.JsonDataSourceWizardPageId.SpecifyJsonConnectionPage,{create:function(){return new p(t,r,o&&o())},description:r?u.getLocalization("Do you want to use an existing data connection?","AnalyticsCoreStringId.JsonDSWizard_ChooseConnection_Description"):u.getLocalization("Choose a data connection.","AnalyticsCoreStringId.SqlDSWizard_PageChooseConnection"),getState:function(e){return e.jsonDataSourceWizard},setState:function(e,t){t.connectionName=e.connectionName,t.jsonSource=e.jsonSource,t.newConnectionName=e.newConnectionName},resetState:function(e,t){e.connectionName=t.connectionName,e.jsonSource=t.jsonSource,e.newConnectionName=t.newConnectionName},template:"dxrd-page-specify-connection"})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parameterTypeToPropertyMap={PathParameter:"pathParameters",QueryParameter:"queryParameters",Header:"headers"}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(6),c=r(0),d=r(1),l=r(85),u=r(10),i=(a=s.Editor,i(p,a),p.prototype.uploadFile=function(e){var t=this;e&&e.event&&(e.event.stopPropagation(),e.event.preventDefault()),c.uploadFile({accept:".json,.txt"}).done(function(e){e=atob(e.content);0===e.indexOf("ï»¿")&&(e=e.substr("ï»¿".length)),t.value(e)})},p.prototype.getUploadTitle=function(){return d.getLocalization("Upload JSON File","AnalyticsCoreStringId.UploadJsonFile_Title")},p);function p(e,t,r,o){var i=a.call(this,e,t,r,o)||this;return i.aceEditorHasErrors=n.observable(!1),i.aceAvailable=u.aceAvailable(),i.editorContainer=n.observable(),i.languageHelper={getLanguageMode:function(){return"ace/mode/json"},createCompleters:function(){return[]}},i.aceOptions={showLineNumbers:!1,highlightActiveLine:!1,showPrintMargin:!1,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0},i.isValid=n.computed(function(){return i._model()&&i._model().isValid()}),i.additionalOptions={onChangeAnnotation:function(e){e=e&&e.getAnnotations()||[];i._model()&&i._model().aceEditorHasErrors&&i._model().aceEditorHasErrors(0<e.filter(function(e){return"error"===e.type||"warning"===e.type}).length)},onBlur:function(){var e=i.editorContainer();e&&i.value(e.getValue())}},i.jsonStringValidationRules=[{type:"custom",reevaluate:!0,validationCallback:function(e){return i.isValid()},get message(){return l.getLocalizedValidationErrorMessage(d.getLocalization("The value cannot be empty and should have a valid format.","AnalyticsCoreStringId.ValueIsRequiredOrInvalidFormat_Error"),d.getLocalization("JSON String:","DataAccessUIStringId.WizardPageChooseJsonSource_Custom"))}}],i}t.JsonStringEditor=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,r=r(129),i=(a=r.TreeNodeItemsProvider,i(n,a),n.prototype._getDefaultTreeNodeCheckState=function(e){return e.isSelected},n.prototype.getNodeByPath=function(t){var e=this._rootItems().filter(function(e){return e.path===(t.pathParts||[])[0]})[0];if(e){for(var r=e.path,o=1;o<t.pathParts.length;o++){if(!e)return;r+="."+t.pathParts[o],e=e.children().filter(function(e){return e.path==r})[0]}return e}},n);function n(e,t,r,o){return a.call(this,e,t,r,o)||this}t.JsonTreeNodeItemsProvider=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),l=r(3),s=r(1),c=r(41),u=r(1),p=r(0),i=(a=s.Disposable,i(d,a),d.prototype._createTree=function(){var t=this;return this._fullTreeLoaded?l.Deferred().resolve().promise():l.when.apply(l,this._rootItems().map(function(e){return t.getItems(new u.PathRequest(e.path),!0)})).always(function(){return t._fullTreeLoaded=!0})},d.prototype._createTreePart=function(t,r,e){var o=this;if(void 0===r&&(r=l.Deferred()),this._fullTreeLoaded)return r.resolve().promise();if(0===t.length)return r.resolve();if(!e){r=l.Deferred();return 1===t.length?this.getItems(new u.PathRequest(t[0],t)).done(function(){return r.resolve()}).fail(function(){return r.reject()}):this._createTreePart(t.slice(1),r,[t[0]]),r}var i=[].concat([],e,t[0]),a=new u.PathRequest(i.join("."),i);this._getParentNode(a)?this._createTreePart(t.slice(1),r,i):this.getItems(new u.PathRequest(e.join("."),e)).done(function(e){o._createTreePart(t.slice(1),r,i)}).fail(function(){return r.reject()})},d.prototype._setChecked=function(e){var t=this;e.setChecked(!0),e instanceof c.DataMemberTreeNode&&e.children().forEach(function(e){return t._setChecked(e)})},d.prototype.selectAllItems=function(e){var t=this;void 0===e&&(e=!0);var r=l.Deferred();return this._createTree().always(function(){e?t._rootItems().forEach(function(e){return e.setChecked(!0)}):t._rootItems().forEach(function(e){return t._setChecked(e)}),r.resolve()}),r.promise()},d.prototype.selectItemsByPath=function(e){var t=this,r=l.Deferred(),o=e.split(".");return this._createTreePart(o).done(function(){t.getItems(new u.PathRequest(o.join("."),o)).done(function(e){e.forEach(function(e){e instanceof c.TreeNodeBase&&e.setChecked(!0)})}).always(function(){return r.resolve()})}),r.promise()},d.prototype.selectItemByPath=function(e){var r=this,o=l.Deferred(),i=e.split(".");return this._createTreePart(i).done(function(){var t=i.pop();r.getItems(new u.PathRequest(i.join("."),i)).done(function(e){e=e.filter(function(e){return e.name===t})[0];e instanceof c.TreeNodeBase&&e.setChecked(!0)}).always(function(){return o.resolve()})}),o.promise()},d.prototype._getParentNode=function(t){var e=this._rootItems().filter(function(e){return e.path===(t.id||t.ref)})[0];if(e){for(var r=e.path,o=1;o<t.pathParts.length;o++){if(!e)return;r+="."+t.pathParts[o],e=e.children().filter(function(e){return p.isList(e)&&e.path==r})[0]}return e}},d.prototype._getDefaultTreeNodeCheckState=function(e){return!1},d);function d(e,t,s,c){var d=a.call(this)||this;return d._fullTreeLoaded=!1,d._rootItems=n.observableArray([]),d._checkedRootNodesCount=n.computed(function(){if(!d._rootItems||0===d._rootItems().length)return 0;for(var e=0,t=0;t<d._rootItems().length&&e<1;t++)e+=d._rootItems()[t].unChecked()?0:1;return e}),d.hasCheckedItems=n.computed(function(){return!(0===d._checkedRootNodesCount())}),d.getRootItems=function(){return d._rootItems()},d.getItems=function(i,a){void 0===a&&(a=!1);var n=l.Deferred();return i.fullPath||0!==i.pathParts.length?e.getItems(i).done(function(e){var r,o,t=d._getParentNode(i);if(!t)return n.reject();0===t.children().length?(r=[],o=[],e.forEach(function(e){var t=d._getDefaultTreeNodeCheckState(e);p.isList(e)?i.pathParts.length<=5&&(o.push([].concat(i.fullPath.split("."),[e.name])),r.push(s(e,t,[i.fullPath,e.name].join(".")))):r.push(c(e,t,[i.fullPath,e.name].join(".")))}),t.initializeChildren(r),a?l.when.apply(l,o.map(function(e){return d.getItems(new u.PathRequest(e.join("."),e),a)})).always(function(){return n.resolve(r)}):n.resolve(r)):n.resolve(t.children())}):n.resolve(d._rootItems()),n.promise()},d._disposables.push(t.subscribe(function(e){d._fullTreeLoaded=!1,d._rootItems(e.map(function(e){var t=d._getDefaultTreeNodeCheckState(e);return s(e,t,e.name)}))})),d._disposables.push(d.hasCheckedItems),d}t.TreeNodeItemsProvider=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(7),d=r(12),l=r(24),u=r(11),p=r(0),f=r(6),m=r(9),h=r(1),y=r(5),g=(a=c.WizardPageBase,i(_,a),_.prototype._isParametersValid=function(){return this.getParameters().every(function(e){return e.isValid()})},_.prototype.canNext=function(){return!1},_.prototype.canFinish=function(){return this._isParametersValid()},_.prototype.getParameters=function(){return this.parametersEditorOptions.values()()},_.prototype.initialize=function(e){var t=this;return this._sqlDataSourceWrapper=d._restoreSqlDataSourceFromState(e,this._requestWrapper),this.parametersEditorOptions.hideButtons(this._sqlDataSourceWrapper.sqlQuery.type()===m.SqlQueryType.storedProcQuery),setTimeout(function(){t.parametersEditorOptions.values(n.observableArray(t._sqlDataSourceWrapper.sqlQuery.parameters().map(function(e){return t.parametersConverter.createParameterViewModel(e)})))},100),s.Deferred().resolve().promise()},_.prototype.commit=function(){var t=this;return this._sqlDataSourceWrapper.sqlQuery.parameters(this.parametersEditorOptions.values()().map(function(e){return t.parametersConverter.getParameterFromViewModel(e)})),s.Deferred().resolve({sqlDataSourceJSON:this._sqlDataSourceWrapper.save()}).promise()},_);function _(e,t){void 0===e&&(e={createParameterViewModel:function(e){return e},getParameterFromViewModel:function(e){return e}});var r=a.call(this)||this;return r.parametersConverter=e,r._requestWrapper=t,r._sqlDataSourceWrapper=new l._SqlDataSourceWrapper(void 0,void 0,r._requestWrapper),r.removeButtonTitle=h.getLocalization("Remove","DataAccessUIStringId.Button_Remove"),r.parametersEditorOptions={addHandler:function(){return r.parametersConverter.createParameterViewModel(new u.DataSourceParameter({"@Name":p.getUniqueNameForNamedObjectsArray(r.parametersEditorOptions.values.peek().peek(),"param"),"@Type":"System.Int32"}))},values:n.observable(n.observableArray([])),displayName:"Parameters",level:0,info:n.observable({displayName:"Parameters",localizationId:"DevExpress.DataAccess.Sql.SqlQuery.Parameters",propertyName:"parameters",modelName:"Parameter",array:!0,editor:f.editorTemplates.getEditor("commonCollection"),template:"#dxrd-parameter-collection-item"}),editorTemplate:"#dxrd-wizard-datasource-parameters",hideButtons:n.observable(!1),collapsed:!1},r}t.ConfigureQueryParametersPage=g,t._registerConfigureParametersPage=function(e,t,r){e.registerMetadata(y.SqlDataSourceWizardPageId.ConfigureParametersPage,{create:function(){return new g(r,t)},getState:function(e){return e.sqlDataSourceWizard},setState:function(e,t){return t.sqlDataSourceJSON=e.sqlDataSourceJSON},resetState:function(){},template:"dxrd-page-configure-parameters",description:h.getLocalization("Configure query parameters.","AnalyticsCoreStringId.SqlDSWizard_PageConfigureParameters")})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s,c=r(2),d=r(3),l=r(0),u=r(41),p=r(1),f=r(77),r=r(1),i=(s=r.Disposable,i(a,s),a);function a(r,i,e,t,a){var n=s.call(this)||this;return n._callBack=c.observable({deleteAction:function(t){n._customQueries.remove(l.findFirstItemMatchesCondition(n._customQueries(),function(e){return(e.name()||e.generateName())===t}))},showQbCallBack:null,disableCustomSql:!1}),n._checkedRootNodesCount=c.pureComputed(function(){for(var e=0,t=0;t<n._rootItems.length&&e<2;t++)e+=n._rootItems[t].countChecked();return e}),n.hasCheckedItems=c.pureComputed(function(){return!(0===n._checkedRootNodesCount())}),n.nextButtonDisabled=c.pureComputed(function(){return!(1<n._checkedRootNodesCount())&&!n.hasParametersToEdit()}),n.hasParametersToEdit=c.pureComputed(function(){for(var e=0;e<n._rootItems.length;e++)if(n._rootItems[e].hasParamsToEdit&&n._rootItems[e].hasParamsToEdit())return!0;return!1}),n.tables=function(){return n._tables},n.views=function(){return n._views},n.procedures=function(){return n._procedures},n.queries=function(){return n._queries},n.customQueries=function(){return n._customQueries},n._callBack().showQbCallBack=e,n._callBack().disableCustomSql=t,n._tables=new u.TreeNode("tables",p.getLocalization("Tables","DataAccessStringId.ConfigureMultiQueryPage_TableCategory"),"list",!1,a),n._views=new u.TreeNode("views",p.getLocalization("Views","DataAccessStringId.ConfigureMultiQueryPage_ViewCategory"),"list",!1,a),n._procedures=new u.ParameterTreeNode("procedures",p.getLocalization("Stored Procedures","DataAccessStringId.ConfigureMultiQueryPage_SpCategory"),"list",!1,a),n._queries=new u.QueriesTreeNode("queries",p.getLocalization("Queries","DataAccessStringId.ConfigureMultiQueryPage_QueryCategory"),"list",!1,n._callBack,a),(t=n._disposables).push.apply(t,[n._tables,n._views,n._procedures,n._queries]),n._rootItems=[n._tables,n._views,n._procedures,n._queries],n.getItems=function(e){var t,o=d.Deferred();return e.fullPath?"tables"===e.fullPath?r.getDbSchema().done(function(e){var t;0===n._tables.children().length?(t=[],e.tables.forEach(function(e){e.isView||t.push(new u.TreeNode(e.name,e.name,"table",n._tables.checked.peek(),a))}),n._tables.initializeChildren(t),o.resolve(t)):o.resolve(n._tables.children())}).fail(o.reject):"views"===e.fullPath?r.getDbSchema().done(function(e){var t;0===n._views.children().length?(t=[],e.tables.forEach(function(e){e.isView&&t.push(new u.TreeNode(e.name,e.name,"view",n._views.checked.peek(),a))}),n._views.initializeChildren(t),o.resolve(t)):o.resolve(n._views.children())}).fail(o.reject):"procedures"===e.fullPath?r.getDbStoredProcedures().done(function(e){0===n._procedures.children().length?(e=e.map(function(e){e=new u.TreeLeafNode(e.name,f.StoredProceduresQueryControl.generateStoredProcedureDisplayName(e),"procedure",n._procedures.checked.peek(),e.arguments,a);return n._disposables.push(e),e}),n._procedures.initializeChildren(e),o.resolve(e)):o.resolve(n._procedures.children())}).fail(o.reject):"queries"===e.fullPath?(t=i().map(function(t){var e=t.name()||t.generateName(),r=n._queries.children().filter(function(e){return e.query===t})[0];if(r)return r;r=new u.TreeQueryNode(e,e,"query",!!r&&r.checked(),t.parameters,n._callBack,a,t);return n._disposables.push(r),r.setObservableName(c.computed({read:function(){return t.name()||t.generateName()},write:function(e){return t.name(e)}})),r}),n._queries.initializeChildren(t),o.resolve(t)):r.getDbTable(e.path).done(function(t){var e,r=t.isView?l.findFirstItemMatchesCondition(n._views.children(),function(e){return e.name===t.name}):l.findFirstItemMatchesCondition(n._tables.children(),function(e){return e.name===t.name});0===r.children().length?(e=t.columns.map(function(e){e=new u.TreeLeafNode(e.name,e.name,"column",r.checked.peek(),null,a);return n._disposables.push(e),e}),r.initializeChildren(e),o.resolve(e)):o.resolve(r.children())}).fail(o.reject):o.resolve(n._rootItems),o.promise()},n._customQueries=i,n}t.DBSchemaItemsProvider=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(10),s=r(41),i=(a=n.TreeListController,i(c,a),c.prototype.getActions=function(e){if(!e.data)return[];if(!(e.data instanceof s.QueriesTreeNode||e.data instanceof s.TreeQueryNode))return[];var t=e.data.getActions(e);return this._customizeDBSchemaTreeListActions&&this._customizeDBSchemaTreeListActions(e.data,t),t},c.prototype.canSelect=function(e){return!0},c);function c(e){var t=a.call(this)||this;return t._customizeDBSchemaTreeListActions=e,t}t.DBSchemaTreeListController=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(1),c=r(6),d=r(9),l=r(10),u=r(10),p=r(1),s=(a=s.Disposable,i(f,a),Object.defineProperty(f.prototype,"name",{get:function(){return this._name()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"displayName",{get:function(){return this._displayName||this.name},enumerable:!0,configurable:!0}),f);function f(e){var t=a.call(this)||this;return t.editor=c.editorTemplates.getEditor("commonCollection"),t.isList=!1,t.contenttemplate="dx-treelist-accordion-contenttemplate-custom-with-actions",t.actionsTemplate="dx-treelist-item-actions",t.dataSourceParameter=n.observable(e),t._name=e.name,t._displayName=e.displayName,t}t.ParametersTreeListItemBase=s;var m,h=(i(y,m=s),y.prototype.query=function(){return this.parent.query()},y);function y(e,t){e=m.call(this,e)||this;return e.parent=t,e}t.ParametersTreeListItem=h;g.prototype.removeChild=function(e){this.parameters.remove(e)},s=g;function g(e){this.isList=!0,this.specifics="List",this.visible=n.observable(!0),this.name=this.displayName=e,this.parameters=n.observableArray([])}t.ParametersTreeListRootItemBase=s;var _,s=(i(v,_=s),v.prototype.query=function(){return this._query},v);function v(e){var t=_.call(this,e.name())||this;return t._query=e,t}t.ParametersTreeListRootItem=s;var b,i=(b=l.TreeListController,i(S,b),S.prototype.hasItems=function(e){return e.isList},S.prototype.getActions=function(e){var t,r,o=this,i=[];return e.data?e.data.query().type()===d.SqlQueryType.storedProcQuery?e.data.isList?[]:[u.treeListEditAction]:(e.data.isList?(t=e.data,i.push({clickAction:function(){return t.parameters.push(new h(o._createNewParameter(t.name,t.parameters()),t))},imageClassName:"dxrd-image-add",imageTemplateName:"dxrd-svg-operations-add",text:p.getLocalization("Add parameter","AnalyticsCoreStringId.FieldListActions_AddParameter")})):(r=e.data,i.push({clickAction:function(){r.parent.removeChild(r)},imageClassName:"dxrd-image-recycle-bin",imageTemplateName:"dxrd-svg-operations-recycle_bin",text:p.getLocalization("Remove parameter","DataAccessUIStringId.Button_Remove")}),i.push(u.treeListEditAction)),i):i},S.prototype.canSelect=function(e){return!0},S);function S(e,t){var r=b.call(this)||this;return r._createNewParameter=t,r._rootItems=e,r}t.ParametersTreeListController=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(3),s=r(1),o=r(0),c=r(0),d=r(0),l=r(135),u=r(0),p=r(136),r=(i.prototype._createMainPopupButtons=function(){var e=this;this.buttonItems=[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:s.getLocalization("Save",o.StringId.DataAccessBtnOK),onClick:function(){e.save()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:s.getLocalization("Cancel",o.StringId.DataAccessBtnCancel),onClick:function(){e.popupVisible(!1)}}}]},i.prototype.title=function(){return s.getLocalization("Master-Detail Relation Editor",o.StringId.MasterDetailRelationsEditor)},i);function i(t,r,e){var o=this;this.isValid=a.observable(!0),this.popupVisible=a.observable(!1),this.loadPanelVisible=a.observable(!1),this.buttonItems=[],this.masterQueries=a.observableArray(),this.popupService=new c.PopupService,this.save=function(){t().some(function(e){return!e.detailQuery()||!e.masterQuery()||e.keyColumns().some(function(e){return!e.detailColumn()||!e.masterColumn()})})?d.ShowMessage(s.getLocalization("Some fields are empty. Please fill all empty fields or remove the corresponding conditions to proceed.","DataAccessUIStringId.JoinEditorFillAllFieldsException")):e().done(function(){o.popupVisible(!1)})},this.createRelation=function(t){var e=r.tables().filter(function(e){return e.tableName()!==t.queryName}).map(function(e){return{name:e.tableName()}});return{data:new l.MasterDetailEditorPopupManager(t,o.popupService,"create",e),templateName:"dx-filtereditor-create"}},this.setColumn=function(e){var t=u.getFirstItemByPropertyValue(r.tables(),"tableName",e.queryName);return{data:new l.MasterDetailEditorPopupManager(e,o.popupService,"setColumn",t?t.columns():[]),templateName:"dx-masterdetail-editor-setColumn"}},this._createMainPopupButtons();var i={};r.tables().forEach(function(e){i[e.tableName()]=new p.MasterQuerySurface(e.tableName(),t)}),t().forEach(function(e){i[e.masterQuery()]=i[e.masterQuery()]||new p.MasterQuerySurface(e.masterQuery(),t),i[e.masterQuery()].add(e)}),this.masterQueries(n.map(i,function(e){return e}))}t.MasterDetailEditor=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(i.prototype._updateActions=function(t){var r=this;this._popupService.subscription=this._popupService.visible.subscribe(function(e){r.target.isSelected&&r.target.isSelected(e)}),this._popupService.data({data:this._popupItems,template:"dx-filtereditor-popup-common",click:function(e){t[r._action](e),r._popupService.visible(!1)}})},i);function i(e,t,r,o){var i=this;this.showPopup=function(e,t){i._popupService.subscription&&i._popupService.subscription.dispose(),i._popupService.title(""),i._updateActions(i.target),i._popupService.target(t),i._popupService.visible(!0)},this.target=e,this._action=r,this._popupService=t,this._popupItems=o}t.MasterDetailEditorPopupManager=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),a=r(51),n=r(137),s=r(0),c=r(0),r=function(e,r){var o=this;this.relations=i.observableArray(),this.queryName=e,this.add=function(e){o.relations.push(new n.MasterDetailRelationSurface(e,o))},this.create=function(e){e=new a.MasterDetailRelation({"@Master":o.queryName,"@Detail":e.name});s.getFirstItemByPropertyValue(o.relations(),"relationName",e.name())&&e.name(c.getUniqueName(o.relations().map(function(e){return e.relationName()}),e.name()+"_")),e.createKeyColumn(),o.add(e),r.push(e)},this.remove=function(t){o.relations.remove(t),r.remove(function(e){return e.name===t.relationName})}};t.MasterQuerySurface=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),a=r(138),r=function(r,e){var o=this;this.isEditable=i.observable(!1),this.relationName=r.name,this.keyColumns=i.pureComputed(function(){return r.keyColumns().map(function(e){return{master:new a.KeyColumnSurface(e.masterColumn,r.masterQuery(),!0),detail:new a.KeyColumnSurface(e.detailColumn,r.detailQuery(),!1)}})}),this.create=function(){r.createKeyColumn()},this.remove=function(t){r.keyColumns.remove(function(e){return e.masterColumn===t.master.column&&e.detailColumn===t.detail.column}),0===r.keyColumns().length&&e.remove(o)}};t.MasterDetailRelationSurface=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),a=r(1);t.KeyColumnSurface=function(e,t,r){var o=this;this._isMaster=r=void 0===r?!1:r,this.getTitle=function(){return o._isMaster?a.getLocalization("Master Query","AnalyticsCoreStringId.Wizard_MasterDetailRelationship_MasterQuery"):a.getLocalization("Detail Query","AnalyticsCoreStringId.Wizard_MasterDetailRelationship_DetailQuery")},this.isSelected=i.observable(!1),this.selectColumnText=function(){return a.getLocalization("<Select a Column>","DataAccessUIStringId.JoinEditorEmptyColumnText")},this.column=e,this.queryName=t,this.setColumn=function(e){o.column(e.name())}}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),n=r(37),s=r(39),c=r(5),d=r(36),l=r(42),u=r(0),p=r(1),f=r(40),m=r(55),h=r(56),y=r(80),g=r(24),_=r(54),v=r(130),r=(Object.defineProperty(b.prototype,"jsonDataSourceAvailable",{get:function(){return this.wizardSettings.enableJsonDataSource&&(this.allowCreateNewJsonConnection||0<(a.unwrap(this.connectionStrings.json)||[]).length)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"sqlDataSourceAvailable",{get:function(){return this.wizardSettings.enableSqlDataSource&&0<(a.unwrap(this.connectionStrings.sql)||[]).length},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"objectDataSourceAvailable",{get:function(){return this.wizardSettings.enableObjectDataSource},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"canCreateDataSource",{get:function(){return this.jsonDataSourceAvailable||this.sqlDataSourceAvailable||this.objectDataSourceAvailable},enumerable:!0,configurable:!0}),b);function b(){this.connectionStrings={json:a.observableArray([]),sql:a.observableArray([])},this.callbacks={},this.rtl=!1,this.disableCustomSql=!1,this.wizardSettings=(new x).createDefault(),this.allowCreateNewJsonConnection=!1}t._DataSourceWizardOptionsBase=r;var S,r=(i(P,S=r),P);function P(){return null!==S&&S.apply(this,arguments)||this}t._DataSourceWizardOptions=r;var x=(C.prototype.createDefault=function(e){var t={enableJsonDataSource:!0,enableSqlDataSource:!0,enableObjectDataSource:!0};return e&&(void 0!==e.enableJsonDataSource&&(t.enableJsonDataSource=e.enableJsonDataSource),void 0!==e.enableSqlDataSource&&(t.enableSqlDataSource=e.enableSqlDataSource),null!=e.enableObjectDataSource&&(t.enableObjectDataSource=e.enableObjectDataSource)),t},C);function C(){}t.DataSourceWizardSettings=x;var T,O=(T=n.PageIterator,i(I,T),I.prototype.getNextPageId=function(e){return!e&&this._dataSourceWizardOptions.jsonDataSourceAvailable&&this._dataSourceWizardOptions.sqlDataSourceAvailable?c.DataSourceWizardPageId.ChooseDataSourceTypePage:e?e===c.DataSourceWizardPageId.ChooseDataSourceTypePage&&this._getCurrentState().dataSourceType===d.DataSourceType.Sql?c.SqlDataSourceWizardPageId.ChooseConnectionPage:e===c.DataSourceWizardPageId.ChooseDataSourceTypePage&&this._getCurrentState().dataSourceType===d.DataSourceType.Json&&0<this._dataSourceWizardOptions.connectionStrings.json().length?c.JsonDataSourceWizardPageId.ChooseConnectionPage:this._dataSourceWizardOptions.allowCreateNewJsonConnection&&e===c.DataSourceWizardPageId.ChooseDataSourceTypePage&&this._getCurrentState().dataSourceType===d.DataSourceType.Json?c.JsonDataSourceWizardPageId.ChooseJsonSourcePage:e===c.JsonDataSourceWizardPageId.ChooseConnectionPage&&this._getCurrentState().jsonDataSourceWizard.connectionName?c.JsonDataSourceWizardPageId.ChooseJsonSchemaPage:this._dataSourceWizardOptions.allowCreateNewJsonConnection&&e===c.JsonDataSourceWizardPageId.ChooseConnectionPage&&!this._getCurrentState().jsonDataSourceWizard.connectionName?c.JsonDataSourceWizardPageId.ChooseJsonSourcePage:e===c.JsonDataSourceWizardPageId.ChooseJsonSourcePage?c.JsonDataSourceWizardPageId.ChooseJsonSchemaPage:e===c.SqlDataSourceWizardPageId.ChooseConnectionPage&&this._getCurrentState().sqlDataSourceWizard.name?c.SqlDataSourceWizardPageId.ConfigureQueryPage:e===c.SqlDataSourceWizardPageId.ConfigureQueryPage&&this._getCurrentState().sqlDataSourceWizard.sqlDataSourceJSON?c.SqlDataSourceWizardPageId.ConfigureParametersPage:void 0:this.getNextPageId(c.DataSourceWizardPageId.ChooseDataSourceTypePage)},I);function I(e,t,r){t=T.call(this,e,t)||this;return t._dataSourceWizardOptions=r,t}t.DataSourceWizardPageIterator=O;var N,D=(N=l.PopupWizard,i(E,N),E.prototype.initialize=function(e,t){var r=this;void 0===t&&(t=function(e,t){return new O(e,t,r._wizardOptions)}),this._wizardOptions.sqlDataSourceAvailable||!u.isEmptyObject(e.sqlDataSourceWizard)?e.dataSourceType=d.DataSourceType.Sql:(this._wizardOptions.jsonDataSourceAvailable||e.jsonDataSourceWizard.jsonSource)&&(e.dataSourceType=d.DataSourceType.Json),N.prototype.initialize.call(this,e,t)},E.prototype.canRunWizard=function(){return this._wizardOptions.jsonDataSourceAvailable||this._wizardOptions.sqlDataSourceAvailable},E);function E(e,t){e=N.call(this,e,t.callbacks.finishCallback)||this;return e._wizardOptions=t,e._extendCssClass="dxrd-sqldatasource-wizard",e.title=p.getLocalization("Data Source Wizard","AnalyticsCoreStringId.DSWizard_Title"),e}function w(e,t){return void 0===e&&(e=new s.PageFactory),d._registerChooseDataSourceTypePage(e,t),f._registerChooseJsonSourcePage(e,t.requestWrapper,t.callbacks.getItemsProviderCallback),m._registerChooseJsonConnectionPage(e,t),h._registerChooseJsonSchemaPage(e,t.requestWrapper,t.callbacks),y._registerConfigureObjectDataSourceParametersPage(e,t.callbacks.getItemsProviderCallback),g._registerConfigureQueryPage(e,t),_._registerChooseSqlConnectionPage(e,t.connectionStrings.sql),v._registerConfigureParametersPage(e,t.requestWrapper),e}t.DataSourceWizard=D,t._registerDataSourceWizardPages=w,t._createDataSourceWizard=function(e,t){return e=w(e=void 0===e?new s.PageFactory:e,t),new D(e,t)}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,r=r(39),i=(a=r.PageFactory,i(n,a),n.prototype.registerMetadata=function(e,t){a.prototype.registerMetadata.call(this,e,t)},n.prototype.getMetadata=function(e){return a.prototype.getMetadata.call(this,e)},n);function n(){var e=null!==a&&a.apply(this,arguments)||this;return e.metadata={},e}t.FullscreenWizardPageFactory=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(38),s=r(125),c=r(5),d=r(40),l=r(1),u=r(56),p=(a=n.FullscreenWizardPage,i(f,a),f.prototype.registerSections=function(){0<this._dataSourceWizardOptions.connectionStrings.json().length&&(s._registerSpecifyJsonConnectionPage(this._factory,this._dataSourceWizardOptions.connectionStrings.json,this._dataSourceWizardOptions.allowCreateNewJsonConnection,this._dataSourceWizardOptions.callbacks.getItemsProviderCallback),this._setSectionPosition(c.FullscreenDataSourceWizardSectionId.SpecifyJsonConnectionPage,this._dataSourceWizardOptions.rtl?n.WizardSectionPosition.Right:n.WizardSectionPosition.Left)),this._dataSourceWizardOptions.allowCreateNewJsonConnection&&0===this._dataSourceWizardOptions.connectionStrings.json().length&&(d._registerChooseJsonSourcePage(this._factory,this._dataSourceWizardOptions.requestWrapper,this._dataSourceWizardOptions.callbacks.getItemsProviderCallback),this._setSectionPosition(c.FullscreenDataSourceWizardSectionId.ChooseJsonSourcePage,this._dataSourceWizardOptions.rtl?n.WizardSectionPosition.Right:n.WizardSectionPosition.Left),this._factory.getMetadata(c.FullscreenDataSourceWizardSectionId.ChooseJsonSourcePage).disabledText=l.getLocalization('To create a data connection, select "No, I\'d like to create a new data connection".',"AnalyticsCoreStringId.JsonDSWizard_CreateNewConnectionPage_Placeholder")),u._registerChooseJsonSchemaPage(this._factory,this._dataSourceWizardOptions.requestWrapper,this._dataSourceWizardOptions.callbacks),this._setSectionPosition(c.FullscreenDataSourceWizardSectionId.ChooseJsonSchemaPage,this._dataSourceWizardOptions.rtl?n.WizardSectionPosition.Left:n.WizardSectionPosition.Right),this._factory.getMetadata(c.FullscreenDataSourceWizardSectionId.ChooseJsonSchemaPage).disabledText=l.getLocalization("To select data fields, choose or create a data connection.","AnalyticsCoreStringId.JsonDSWizard_ChooseJsonSchemaPage_Placeholder")},f.prototype.getNextSectionId=function(e){return!e&&0<this._dataSourceWizardOptions.connectionStrings.json().length?c.FullscreenDataSourceWizardSectionId.SpecifyJsonConnectionPage:e?this._dataSourceWizardOptions.allowCreateNewJsonConnection?e===c.FullscreenDataSourceWizardSectionId.SpecifyJsonConnectionPage||e===c.FullscreenDataSourceWizardSectionId.ChooseJsonSourcePage?c.FullscreenDataSourceWizardSectionId.ChooseJsonSchemaPage:void 0:e===c.FullscreenDataSourceWizardSectionId.SpecifyJsonConnectionPage?c.FullscreenDataSourceWizardSectionId.ChooseJsonSchemaPage:void 0:c.FullscreenDataSourceWizardSectionId.ChooseJsonSourcePage},f.prototype.canNext=function(){var e=this._sectionsProcessor.getPageById(c.FullscreenDataSourceWizardSectionId.ChooseJsonSchemaPage);return e&&e.page()&&e.metadata.canNext(e.page().page)},f);function f(e){var t=a.call(this)||this;return t._dataSourceWizardOptions=e,t}t.SpecifyJsonDataSourceSettingsPage=p,t._registerSpecifyJsonDataSourceSettingsPage=function(e,t){e.registerMetadata(c.FullscreenDataSourceWizardPageId.SpecifyJsonDataSourceSettingsPage,{setState:function(e,t){t.jsonDataSourceWizard.connectionName=e.jsonDataSourceWizard.connectionName,t.jsonDataSourceWizard.newConnectionName=e.jsonDataSourceWizard.newConnectionName,t.jsonDataSourceWizard.jsonSource=e.jsonDataSourceWizard.jsonSource,t.jsonDataSourceWizard.dataSourceName=e.jsonDataSourceWizard.dataSourceName,t.jsonDataSourceWizard.jsonScheme=e.jsonDataSourceWizard.jsonScheme,t.jsonDataSourceWizard.rootElement=e.jsonDataSourceWizard.rootElement},getState:function(e){return e},resetState:function(e,t){e.jsonDataSourceWizard.connectionName=t.jsonDataSourceWizard.connectionName,e.jsonDataSourceWizard.jsonSource=t.jsonDataSourceWizard.jsonSource,e.jsonDataSourceWizard.dataSourceName=t.jsonDataSourceWizard.dataSourceName,e.jsonDataSourceWizard.newConnectionName=t.jsonDataSourceWizard.newConnectionName,e.jsonDataSourceWizard.jsonScheme=t.jsonDataSourceWizard.jsonScheme,e.jsonDataSourceWizard.rootElement=t.jsonDataSourceWizard.rootElement},create:function(){return new p(t)},navigationPanelText:l.getLocalization("Specify Data Source Settings","AnalyticsCoreStringId.Wizard_SpecifyDataSourceSettingsPage"),template:"dx-wizard-fullscreen-page"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(38),s=r(5),c=r(12),d=r(54),l=r(86),u=r(88),p=r(16),f=r(87),m=r(1),h=r(0),y=(a=n.FullscreenWizardPage,i(g,a),g.prototype.getNextSectionId=function(e){if(!e)return s.FullscreenDataSourceWizardSectionId.ChooseSqlConnectionPage;if(e===s.FullscreenDataSourceWizardSectionId.ChooseSqlConnectionPage&&this._stateManager.getCurrentState().sqlDataSourceWizard.name)return s.FullscreenDataSourceWizardSectionId.ConfigureQueryPage;if(e===s.FullscreenDataSourceWizardSectionId.ConfigureQueryPage){var t=[],e=this._stateManager.getCurrentState().sqlDataSourceWizard;return 0<(e.customQueries||[]).length&&t.push(s.FullscreenDataSourceWizardSectionId.ConfigureQueryParametersPage),1<c._restoreSqlDataSourceFromState(e).sqlDataSource.queries().length&&t.push(s.FullscreenDataSourceWizardSectionId.ConfigureMasterDetailRelationshipsPage),t}},g.prototype.registerSections=function(){d._registerChooseSqlConnectionPage(this._factory,this._dataSourceWizardOptions.connectionStrings.sql),l._registerMultiQueryConfigurePage(this._factory,this._dataSourceWizardOptions),u._registerConfigureMasterDetailRelationshipsPage(this._factory,p.wrapRebuildResultSchema(this._dataSourceWizardOptions.callbacks.sqlDataSourceResultSchema)),f._registerMultiQueryConfigureParametersPage(this._factory,this._dataSourceWizardOptions.requestWrapper);var e=this._factory.getMetadata(s.FullscreenDataSourceWizardSectionId.ChooseSqlConnectionPage);e.description=m.getLocalization("Choose a data connection.","AnalyticsCoreStringId.SqlDSWizard_PageChooseConnection"),(e=this._factory.getMetadata(s.FullscreenDataSourceWizardSectionId.ConfigureQueryPage)).recreate=!0,e.description=m.getLocalization("Choose predefined queries and/or create custom queries.","AnalyticsCoreStringId.Wizard_Queries_Description"),e.required=!0,(e=this._factory.getMetadata(s.FullscreenDataSourceWizardSectionId.ConfigureMasterDetailRelationshipsPage)).description=m.getLocalization("Configure master-detail relationships.","AnalyticsCoreStringId.SqlDSWizard_PageConfigureMasterDetailRelations"),e.disabledText=m.getLocalization("To create a master-detail relationship, select two or more queries.","AnalyticsCoreStringId.Wizard_MasterDetailRelationship_Placeholder"),(e=this._factory.getMetadata(s.FullscreenDataSourceWizardSectionId.ConfigureQueryParametersPage)).description=m.getLocalization("Configure query parameters.","AnalyticsCoreStringId.SqlDSWizard_PageConfigureParameters"),e.disabledText=m.getLocalization("To specify query parameters, select a parameterized stored procedure or create a custom query.","AnalyticsCoreStringId.Wizard_ConfigureQueryParameters_Placeholder"),this._setSectionPosition(s.FullscreenDataSourceWizardSectionId.ChooseSqlConnectionPage,this._dataSourceWizardOptions.rtl?n.WizardSectionPosition.TopRight:n.WizardSectionPosition.TopLeft),this._setSectionPosition(s.FullscreenDataSourceWizardSectionId.ConfigureQueryPage,this._dataSourceWizardOptions.rtl?n.WizardSectionPosition.TopLeft:n.WizardSectionPosition.TopRight),this._setSectionPosition(s.FullscreenDataSourceWizardSectionId.ConfigureQueryParametersPage,this._dataSourceWizardOptions.rtl?n.WizardSectionPosition.BottomLeft:n.WizardSectionPosition.BottomRight),this._setSectionPosition(s.FullscreenDataSourceWizardSectionId.ConfigureMasterDetailRelationshipsPage,this._dataSourceWizardOptions.rtl?n.WizardSectionPosition.BottomRight:n.WizardSectionPosition.BottomLeft)},g);function g(e){var t=a.call(this)||this;return t._dataSourceWizardOptions=e,t}t.SpecifySqlDataSourceSettingsPage=y,t._registerSpecifySqlDataSourceSettingsPage=function(e,t){e.registerMetadata(s.FullscreenDataSourceWizardPageId.SpecifySqlDataSourceSettingsPage,{setState:function(e,t){t.sqlDataSourceWizard.customQueries=e.sqlDataSourceWizard.customQueries,t.sqlDataSourceWizard.name=e.sqlDataSourceWizard.name,t.sqlDataSourceWizard.queryName=e.sqlDataSourceWizard.name,t.sqlDataSourceWizard.sqlDataSourceJSON=e.sqlDataSourceWizard.sqlDataSourceJSON,t.sqlDataSourceWizard.relations=e.sqlDataSourceWizard.relations},getState:function(e){return e},resetState:function(e,t){e.sqlDataSourceWizard=h.extend(!0,{},t)},create:function(){return new y(t)},navigationPanelText:m.getLocalization("Specify Data Source Settings","AnalyticsCoreStringId.Wizard_SpecifyDataSourceSettingsPage"),template:"dx-wizard-fullscreen-page"})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(42),c=r(144),i=(a=s.PopupWizard,i(d,a),d.prototype._onClose=function(e){this._onCloseCallback=e},d.prototype.onFinish=function(){a.prototype.onFinish.call(this),this.navigationPanel().dispose()},d.prototype._initPage=function(e){var t=this;return e.onChange&&e.onChange(function(){return t.navigationPanel()._resetNextPages(e.pageId)}),a.prototype._initPage.call(this,e)},d.prototype._onResetPage=function(e){this.navigationPanel()._reset(e.pageId)},d.prototype.start=function(e){e&&(this._finishCallback=e),this.navigationPanel()&&this.navigationPanel().resetAll(),this.navigationPanel()&&this.navigationPanel().dispose(),this.navigationPanel(new c.WizardNavigationPanel(this)),a.prototype.start.call(this)},d.prototype._pageDescription=function(){var e=this.navigationPanel()._steps.filter(function(e){return e.isActive()})[0];return e?e.text:this.pageFactory.getMetadata(this._currentPage().pageId).description},d.prototype._description=function(){return""},d);function d(e,t){var r=a.call(this,e,t)||this;return r._extendCssClass="dx-wizard-fullscreen",r.navigationPanel=n.observable(null),r.isVisible.subscribe(function(e){e||(r.navigationPanel()&&r.navigationPanel().resetAll(),r.navigationPanel()&&r.navigationPanel().dispose(),r._onCloseCallback&&r._onCloseCallback())}),r}t.FullscreenWizard=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n,s=r(2),r=r(1),i=(n=r.Disposable,i(a,n),a.prototype.resetAll=function(){this._steps.forEach(function(e){e.disabled(!0)})},a.prototype._currentStep=function(t){return this._steps.filter(function(e){return e.currentPageId===t})[0]},a.prototype._reset=function(e){e=this._currentStep(e);e&&e.disabled(!0)},a.prototype._resetNextPages=function(e){e=this._currentStep(e);if(e)for(var t=e.stepIndex+1;t<this._steps.length;t++)this._steps[t].disabled(!0)},a.prototype._setStepVisible=function(r){var e=this._steps.filter(function(e,t){return t<r});0<e.length&&!e.some(function(e){return!e.disabled()})&&e.forEach(function(e){return e.visible(!1)})},a);function a(i){var a=n.call(this)||this;return a._steps=[],a._disposables.push(i._currentPage.subscribe(function(t){var e=a._steps.filter(function(e){return e.pageIds.some(function(e){return e===t.pageId})})[0];e&&(e.currentPageId=t.pageId,e.disabled(!1),a._setStepVisible(e.stepIndex))})),Object.keys(i.pageFactory.metadata).forEach(function(e){var t,r=i.pageFactory.metadata[e],o=a._steps.filter(function(e){return e.text===r.navigationPanelText})[0];o?o.pageIds.push(e):(t={text:r.navigationPanelText,pageIds:[e],currentPageId:null,stepIndex:a._steps.length,disabled:s.observable(!0),visible:s.observable(!0)},a._disposables.push(t.isActive=s.computed(function(){return i._currentPage()&&t.currentPageId===i._currentPage().pageId})),t.clickAction=function(){t.isActive()||i.goToPage(t.currentPageId)},a._steps.push(t))}),a._disposables.push(a.isVisible=s.computed(function(){return 1<a._steps.filter(function(e){return e.visible()}).length})),a}t.WizardNavigationPanel=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),r=r(6),i=(a=r.Editor,i(s,a),s.prototype.generateValue=function(t){var r=this;return this.undoValue||this._disposables.push(this.undoValue=n.computed({read:function(){return r.value()},write:function(e){t().start(),r.value(e),t().end()}})),this.undoValue},s);function s(e,t,r,o){return a.call(this,e,t,r,o)||this}t.UndoEditor=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(10),s=r(0),c=r(43),d=r(45),l=r(45),u=r(147),i=(a=n.FilterEditorSerializer,i(p,a),p.prototype._columnDisplayName=function(e){return e.table()+"."+e.actualName()},p.prototype._findAggregatedColumn=function(t){return s.find(this._columns(),function(e){return c.isAggregatedExpression(e)&&t(e)})},p.prototype.serializeOperandProperty=function(t){var r=this,e=this._findAggregatedColumn(function(e){return t.propertyName===r._columnDisplayName(e)});return"["+(e?e.actualName():t.propertyName)+"]"},p.prototype.deserialize=function(e){var t=this,e=l.CriteriaOperator.parse(e);return e&&u.criteriaForEach(e,function(e){e instanceof d.OperandProperty&&(e.propertyName=t._aggregatePropertyName(e))}),a.prototype.deserializeOperand.call(this,e)},p);function p(e){var r=a.call(this)||this;return r._columns=e,r._aggregatePropertyName=function(t){var e=r._findAggregatedColumn(function(e){return e.actualName()===t.propertyName});return e?r._columnDisplayName(e):t.propertyName},r}t.GroupFilterEditorSerializer=i},function(e,t){e.exports=DevExpress.Analytics.Criteria.Utils},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(172),c=r(1),d=r(57),i=(a=s.OperandParameterSurface,i(l,a),Object.defineProperty(l.prototype,"_parameterType",{get:function(){return this.fieldsOptions()&&this.fieldsOptions().selected()&&this.fieldsOptions().selected().dataType||"System.String"},enumerable:!0,configurable:!0}),l.prototype._createParameter=function(t,e){""!==t&&t!==l.defaultDisplay()&&0===this.helper.parameters().filter(function(e){return e.name()===t}).length&&(e=new d.ParameterViewModel({"@Name":t,"@Type":e}),this.helper.newParameters.push(e))},l.prototype.isDefaultTextDisplayed=function(){return this.parameterName()===l.defaultDisplay()},l.defaultDisplay=function(){return c.getLocalization("Create new parameter","AnalyticsCoreStringId.FilterEditor_Operand_CreateNewParameter")},l);function l(e,t,r,o){var i=a.call(this,e,t,r,o)||this;return i.createParameter=function(){i.canCreateParameters&&(i.model.parameterName=i.parameterName(),i._createParameter(i.parameterName(),i._parameterType),i.helper.onChange())},i._parameterName=n.observable(""),i.isEditable=n.observable(!1),i.defaultDisplay=l.defaultDisplay,i._parameterName(n.unwrap(e.parameterName)),i.canCreateParameters=i.helper.canCreateParameters,i.fieldsOptions=t.leftPart.fieldsOptions,i.parameterName=n.pureComputed({read:function(){return i._parameterName()||i.canCreateParameters&&l.defaultDisplay()||""},write:function(e){e!==l.defaultDisplay()&&e&&(i.model.parameterName=n.unwrap(e),i._parameterName(i.model.parameterName))}}),!i.canCreateParameters||i.isDefaultTextDisplayed()||n.unwrap(i.fieldListProvider).hasParameter(e.parameterName)||i.createParameter(),i}t.OperandParameterQBSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),r=r(172),i=(a=r.OperandPropertySurface,i(s,a),s.prototype._updateSpecifics=function(){s.updateSpecifics(this)},s.updateSpecifics=function(e){var t=n.unwrap(e.fieldListProvider);t&&t.getColumnInfo&&((t=t.getColumnInfo(e.propertyName()))&&(e.specifics(t.specifics.toLowerCase()),e.dataType(t.dataType),(e=n.unwrap(e.fieldsOptions))&&e.selected(t)))},s);function s(e,t,r,o){return a.call(this,e,t,r,o)||this}t.OperandPropertyQBSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(2),c=r(3),n=r(6),d=r(10),l=r(148),u=r(149),p=r(46),f=r(147),m=r(45),i=(a=n.FilterEditorHelper,i(h,a),h);function h(e){var n=a.call(this)||this;return n.handlers.changeParameter=function(e,t){return{data:new d.FilterEditorAddOn(e,t,"changeParameter","items","dxqb-filtereditor-parameterspopup"),templateName:"dxqb-filtereditor-changeparameter"}},n.mapper.Parameter=l.OperandParameterQBSurface,n.mapper.Property=u.OperandPropertyQBSurface,e===p.ParametersMode.ReadWrite&&(n.canCreateParameters=!0,n.newParameters=s.observableArray([]),n.onEditorFocusOut=function(e){if(e){var r=n.newParameters(),o=[];if(f.criteriaForEach(e,function(t){var e;t instanceof m.OperandParameter&&((e=r.filter(function(e){return e.name()===t.parameterName})[0])&&o.push(e))}),0!==o.length){for(var t=r.filter(function(e){return-1===o.indexOf(e)}),i=0;i<t.length;i++){var a=r.indexOf(t[i]);-1!==a&&r.splice(a,1)}n.newParameters.valueHasMutated()}else n.newParameters.splice(0)}},n.onClosing=function(){n.newParameters([])}),n.canSelectLists=!1,n.getDisplayPropertyName=function(){return c.Deferred().resolve("").promise()},n}t.QBFilterEditorHelper=i,t.QBFilterEditorHelperDefault=i,t._setQBFilterEditorHelperDefault=function(e){t.QBFilterEditorHelperDefault=e}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(2),n=r(6),c=r(150),d=r(46),l=r(45),i=(a=n.FilterStringOptions,i(u,a),u.prototype.initializeFilterStringHelper=function(r,o,e){var i,a=this,n=new c.QBFilterEditorHelperDefault(o);n.canChoiceParameters=o!==d.ParametersMode.Disabled,e&&(n.serializer=e),o===d.ParametersMode.ReadWrite?(n.parameters=s.computed(function(){return[].concat(r(),n.newParameters())}),n.onSave=function(e){var t=n.newParameters();r.push.apply(r,t),n.newParameters([])}):(o===d.ParametersMode.Read&&(n.parameters=r),i=n.criteriaTreeValidator._checkRightPart,n.criteriaTreeValidator._checkRightPart=function(e){if(!(e instanceof l.OperandParameter))return i.apply(a,[e]);if(o===d.ParametersMode.Disabled)return!1;if(o===d.ParametersMode.Read){var t=e.parameterName;return 0!==r.peek().filter(function(e){return e.name()===t}).length}}),this.helper=n},u);function u(e,t,r,o){return a.call(this,e,t,r,o)||this}t.QBFilterStringOptions=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(60),o=r(0),a=r(0),r=(n.find=function(e,t,r){return o.findFirstItemMatchesCondition(e(),function(e){return e.column()===r&&e.table()===t})},n.findByName=function(e,t){return o.findFirstItemMatchesCondition(e(),function(e){return e.actualName()===t})},n.removeDependend=function(e,t){e.remove(function(e){return e.isDepended(t)})},n.setUniqueAlias=function(e,t){return n.findByName(e,t)?a.getUniqueName(e().map(function(e){return e.actualName()}),t+"_"):t},n.addNew=function(e,t,r,o){o=new i.ColumnExpression({"@Table":r,"@Name":o,"@ItemType":"Column"},e);return e.columns===t&&!o.alias()&&n.findByName(t,o.actualName())&&o.alias(this.setUniqueAlias(t,o.table()+"_"+o.column())),t.push(o),o},n.remove=function(e,t,r){e.remove(function(e){return e.column()===r&&e.table()===t})},n);function n(){}t.ColumnExpressionCollectionHelper=r},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n,s=r(2),a=r(28),c=r(60),d=r(0),l=r(61),u=r(1),p=r(154),i=(n=a.QueryElementBaseViewModel,i(f,n),f.prototype.getInfo=function(){return p.allColumnsSerializationInfo},f);function f(t,r){var e=n.call(this,{"@ControlType":"Column"},t,r)||this,o=t.parentModel(),i=s.pureComputed(function(){return d.findFirstItemMatchesCondition(o.columns(),function(e){return t.actualName()===e.table()&&l.ColumnType.AllColumns===e.itemType()})});e.selected=s.pureComputed({read:function(){return!!i()},write:function(e){!!i()!==e&&(e?o.columns.push(new c.ColumnExpression({"@ItemType":l.ColumnType.AllColumns,"@Table":t.actualName()},o,r)):o.columns.remove(function(e){return t.actualName()===e.table()&&l.ColumnType.AllColumns===e.itemType()}))}});var a=u.getLocalization("(All Columns)","DataAccessStringId.QueryBuilder_AllColumns");return e.name=s.pureComputed(function(){return"*"===a.charAt(0)?a:"* "+a}),e}t.AllColumnsViewModel=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=r(44);t.allColumnsSerializationInfo=[r.name,r.selected]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(0),c=r(62),d=r(22),l=r(0),u=r(31),p=r(48),f=r(21),m=r(0),i=(a=s.DragDropHandler,i(h,a),h.prototype._needToCreateRelation=function(){return!!(this.selection.dropTarget&&this.selection.dropTarget instanceof c.ColumnSurface)&&this.selection.dropTarget.getControlModel().parentModel()!==this.getDragColumn().parentModel()},h.prototype.startDrag=function(e){if(this._scrollProcessor=new m.dxScrollProcessor(document.getElementsByClassName("dxqb-mainwin")[0]),e instanceof d.ConnectionPointSurface){var t=e.getControlModel().parentModel();if(this._dragConditionSurface=l.findSurface(t),!this._dragConditionSurface)return;this._dragConditionSurface.isVisible(!1),this._dragColumn(t.startPoint()===e.getControlModel()?t.nestedColumn():t.parentColumn())}else{if(!(e instanceof c.ColumnSurface))throw new Error("ColumnDragHandler can be applied to the Column only.");this._dragColumn(e.getControlModel())}e=new u.RoutedConnectorViewModel({},this.querySurface().getControlModel());this.dragDropConnector(new p.RoutedConnectorSurface(e,this.surface()))},h.prototype.setConnectorPoints=function(e){var t,r,o=this._dragColumn(),i=this.dragDropConnector().getControlModel();this._needToCreateRelation()?(r=f.determineConnectingPoints(o,this.selection.dropTarget.getControlModel()),i.startPoint().connectingPoint(r.start),i.endPoint().connectingPoint(r.end)):(t=this.querySurface().rtl()?this.querySurface().pageWidth()-o.leftConnectionPoint.location.x():o.leftConnectionPoint.location.x(),r=this.querySurface().rtl()?this.querySurface().pageWidth()-o.rightConnectionPoint.location.x():o.rightConnectionPoint.location.x(),o=Math.abs(t-e.left)>Math.abs(r-e.left)?o.rightConnectionPoint:o.leftConnectionPoint,i.startPoint().connectingPoint(o),this.dragDropConnector().endPoint().rect({top:e.top,left:e.left}))},h.prototype.drag=function(e,t){var r=this._scrollProcessor.getScrollOffset();t.position.left+=t.scroll.left+r.left,t.position.top+=t.scroll.top+r.top,t.delta.left=t.position.left-this.surface().underCursor().x-6,t.delta.top=t.position.top-this.surface().underCursor().y-6,this.setConnectorPoints(this._getAbsoluteSurfacePosition(t)),this._scrollProcessor.processOffset({x:e.clientX,y:e.clientY})},h.prototype.doStopDrag=function(){this._scrollProcessor.dispose(),this._scrollProcessor=null,this.dragHelperContent.reset(),this.dragDropConnector(null);try{var e=null;this._dragConditionSurface&&!this._dragConditionSurface.isVisible()&&(e=this._dragConditionSurface.getControlModel(),this._dragConditionSurface.isVisible(!0));var t,r,o=this.querySurface().getControlModel();this._needToCreateRelation()&&(t=this.selection.dropTarget.getControlModel(),this.undoEngine().start(),e&&e.parentModel().removeChild(e),r=o.cerateJoinCondition(this._dragColumn(),t),this.undoEngine().end(),null!==r&&this.selection.initialize(l.findSurface(r)))}finally{this._dragColumn(null)}},h.prototype.getDragColumn=function(){return this._dragColumn()},h);function h(e,t,r,o,i){i=a.call(this,e,t,r,o,i)||this;return i.querySurface=e,i.undoEngine=r,i._dragColumn=n.observable(null),i._dragConditionSurface=null,i.dragDropConnector=n.observable(null),i.cursor="arrow",i.containment=".dxrd-ghost-container",i.helper=void 0,i}t.ColumnDragHandler=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(10),s=r(98),i=(a=n.TreeListController,i(c,a),c);function c(t,r){var e=a.call(this)||this,o=s.DbObjectDragDropHandler.getDropCallback(t,!0);return e.dblClickHandler=function(e){t().start(),o(e.data,r()),t().end()},e}t.QueryBuilderTreeListController=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n,s=r(2),c=r(6),a=r(1),d=r(1),l=r(57),u=r(58),p=r(0),f={propertyName:"parameters",displayName:"parameters",editor:{custom:"dxqb-parameterspanel"}},m={propertyName:"selectedItem",displayName:"selectedItem",editor:{custom:"dxqb-propertygrid"}},h={propertyName:"fields",displayName:"fields",editor:{custom:"dxqb-fieldspanel"}},y={propertyName:"query",displayName:"query",editor:{custom:"dxqb-propertygrid"}},i=(n=a.TabInfo,i(g,n),g._getSelectedItemPropertyName=function(e){var t="Selection Properties",r="AnalyticsCoreStringId.QueryBuilder_SelectionProperties";switch(e&&e.controlType){case"Query":t="Query Properties",r="AnalyticsCoreStringId.QueryBuilder_QueryProperties";break;case"Table":t="Table Properties",r="AnalyticsCoreStringId.QueryBuilder_TableProperties";break;case"Column":t="Column Properties",r="AnalyticsCoreStringId.QueryBuilder_ColumnProperties";break;case"JoinCondition":t="Relation Properties",r="AnalyticsCoreStringId.QueryBuilder_RelationProperties"}return d.getLocalization(t,r)},g._createWrappedObject=function(t,r,e,o){var i=new c.ObjectProperties(t,null,1),a=s.computed(function(){return t()&&t().parameters}),n=[y,m,h],i={selectedItem:r,query:{editableObject:t,properties:i},fields:r,isPropertyVisible:function(e){return"selectedItem"!==e||r.editableObject()!==t()}};return o&&(i.parameters={values:a,addHandler:function(){return new l.ParameterViewModel({"@Type":"System.String"})},collapsed:!1,undoEngine:e,isVisibleButton:function(e,t){return"add"===t||"delete"===t},template:"#dxqb-collectioneditor-template",textEmptyArray:{text:"Click the Add button to create a parameter.",localizationId:"AnalyticsCoreStringId.QueryBuilder_PageConfigureParametersEmpty"}},n.push(f)),i.getInfo=function(){return n},i},g._createGroups=function(e,t){var r=this,o={Query:{info:[y],displayName:function(){return d.getLocalization("Query Properties","AnalyticsCoreStringId.QueryBuilder_QueryProperties")}},SelectedItem:{info:[m],displayName:function(){return r._getSelectedItemPropertyName(e())}},Fields:{info:[h],displayName:function(){return d.getLocalization("Available tables and views","AnalyticsCoreStringId.QueryBuilder_AvailableTables")}}};return t&&(o.Parameters={info:[f],displayName:function(){return d.getLocalization("Parameters","AnalyticsCoreStringId.QueryBuilder_Parameters")}}),o},g._createQBPropertyGrid=function(e,t,r,o){r=this._createWrappedObject(e,t,r,o);return new p.ControlProperties(s.observable(r),{groups:this._createGroups(t.editableObject,o),editors:r.getInfo()},void 0,!1)},g.prototype._getGroupByName=function(t){return this.model.groups.filter(function(e){return e._displayName===t})[0]},g);function g(e,t,r,o,i){var a=n.call(this,{text:"Properties",template:"dxqb-properties-wrapper",model:g._createQBPropertyGrid(e,t,r,i)})||this;return a.active(!0),a._getGroupByName("Fields").collapsed(!1),a._disposables.push(o.subscribe(function(e){e instanceof u.QueryViewModel||a._getGroupByName("SelectedItem").collapsed(!1)})),a}t.AccordionTabInfo=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),i=r(27),a=r(44),n=r(4),s=r(4),c=r(95),d=r(159),l=r(93),u=r(160),p=r(161),f=r(94),m=r(92),h=r(162),y=r(59),g=r(26),_=r(62),v=r(91),b=r(96),S=r(97),P=r(58);t.registerControls=function(){o.registerControls(),i.controlsFactory.registerControl("Unknown",{info:a.unknownSerializationsInfo,type:n.ElementViewModel,nonToolboxItem:!0,surfaceType:s.SurfaceElementBase,isDeleteDeny:!0}),i.controlsFactory.registerControl("Relation",{info:c.relationSerializationInfo,defaultVal:{},surfaceType:d.RelationSurface,popularProperties:[],type:l.RelationViewModel,elementActionsTypes:[],nonToolboxItem:!0}),i.controlsFactory.registerControl("JoinCondition",{info:u.joinConditionSerializationInfo,defaultVal:{},surfaceType:p.JoinConditionSurface,popularProperties:["_parentColumnName","_nestedColumnName","joinType"],type:f.JoinConditionViewModel,elementActionsTypes:[],nonToolboxItem:!0}),i.controlsFactory.registerControl("Table",{info:m.tableSerializationInfo,defaultVal:{},surfaceType:h.TableSurface,popularProperties:["name","alias","columns"],type:y.TableViewModel,elementActionsTypes:[],nonToolboxItem:!0}),i.controlsFactory.registerControl("Column",{info:g.columnSerializationInfo,defaultVal:{},surfaceType:_.ColumnSurface,popularProperties:["name","alias","selected"],type:v.ColumnViewModel,elementActionsTypes:[],nonToolboxItem:!0,isDeleteDeny:!0}),i.controlsFactory.registerControl("Query",{info:b.querySerializationsInfo,surfaceType:S.QuerySurface,popularProperties:["name","filterString","groupFilterString"],type:P.QueryViewModel,elementActionsTypes:[],isContainer:!0,nonToolboxItem:!0,isDeleteDeny:!0})}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(4),c=r(0),i=(a=s.SurfaceElementBase,i(d,a),d.prototype._getChildrenHolderName=function(){return"conditions"},d);function d(e,t){t=a.call(this,e,t,null)||this;return t.conditions=n.observableArray(),t.template="dxqb-relation",c.createObservableArrayMapCollection(e.conditions,t.conditions,t._createSurface),t}t.RelationSurface=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=r(25);t.ConditionType={Equal:"Equal",NotEqual:"NotEqual",Greater:"Greater",GreaterOrEqual:"GreaterOrEqual",Less:"Less",LessOrEqual:"LessOrEqual"},t.joinConditionSerializationInfo=[{propertyName:"left",displayName:"Left",editor:r.editorTemplates.getEditor("text"),disabled:!0,localizationId:"AnalyticsCoreStringId.QueryBuilder_LeftOperand"},{propertyName:"right",displayName:"Right",editor:r.editorTemplates.getEditor("text"),disabled:!0,localizationId:"AnalyticsCoreStringId.QueryBuilder_RightOperand"},{propertyName:"parentColumnName",modelName:"@Parent"},{propertyName:"nestedColumnName",modelName:"@Nested"},{propertyName:"joinType",displayName:"Join Type",editor:r.editorTemplates.getEditor("combobox"),defaultVal:"Inner",valuesArray:[{value:"Inner",displayValue:"Inner join",localizationId:"DataAccessStringId.RelationEditorRelationTypeInnerJoin"},{value:"LeftOuter",displayValue:"Left outer join",localizationId:"DataAccessStringId.RelationEditorRelationTypeLeftOuterJoin"}],localizationId:"AnalyticsCoreStringId.QueryBuilder_JoinType"},{propertyName:"operator",modelName:"@Operator",displayName:"Operator",editor:r.editorTemplates.getEditor("combobox"),defaultVal:t.ConditionType.Equal,valuesArray:[{value:"Equal",displayValue:"Equals to",localizationId:"DataAccessUIStringId.JoinEditorEqualOperator"},{value:"NotEqual",displayValue:"Does not equal to",localizationId:"DataAccessUIStringId.JoinEditorNotEqualOperator"},{value:"Greater",displayValue:"Is greater than",localizationId:"DataAccessUIStringId.JoinEditorGreaterOperator"},{value:"GreaterOrEqual",displayValue:"Is greater than or equal to",localizationId:"DataAccessUIStringId.JoinEditorGreaterOrEqualOperator"},{value:"Less",displayValue:"Is less than",localizationId:"DataAccessUIStringId.JoinEditorLessOperator"},{value:"LessOrEqual",displayValue:"Is less than or equal to",localizationId:"DataAccessUIStringId.JoinEditorLessOrEqualOperator"}],localizationId:"AnalyticsCoreStringId.QueryBuilder_Operator"},{propertyName:"itemType",modelName:"@itemType"}]},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),r=r(48),i=(a=r.RoutedConnectorSurface,i(s,a),s.prototype.container=function(){return this.getRoot()},s);function s(e,t){t=a.call(this,e,t)||this;return t.showArrow=n.pureComputed(function(){return"LeftOuter"===e.joinType()}),t}t.JoinConditionSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(3),s=r(2),c=r(163),d=r(59),l=r(62),u=r(164),p=r(0),i=(a=c.QueryElementBaseSurface,i(f,a),f.prototype.resizable=function(e,t){return p.extend({},e,{handles:"e, w",$selectedNodes:n(t),minWidth:d.TableViewModel.TABLE_MIN_WIDTH})},f);function f(e,t){var r=a.call(this,e,t,null)||this;return r.contenttemplate="dxqb-table",r.template="dxqb-table-main",r.toggleSelected=function(){r.getControlModel().toggleSelectedColumns()},r.selectedWrapper=s.pureComputed(function(){return r.getControlModel().allColumnsSelected()}),r.isInitialized=e.isInitialized,r.columns=s.pureComputed(function(){return e.columns().map(function(e){return new l.ColumnSurface(e,t)})}),r.asterisk=new u.AllColumnsSurface(e.asterisk,t),r}t.TableSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(4),c=r(0),i=(a=s.SurfaceElementBase,i(d,a),d._unitProperties={_height:function(e){return e.size.height},_width:function(e){return e.size.width},_x:function(e){return e.location.x},_y:function(e){return e.location.y}},d);function d(e,t,r){r=a.call(this,e,t,c.extend({},d._unitProperties,r))||this;return r.template="dx-diagram-element",r.selectiontemplate="dx-diagram-element-selection",r.contenttemplate="dx-diagram-element-content",r.margin=n.observable(0),r}t.QueryElementBaseSurface=i},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(4),c=r(0),i=(a=s.SurfaceElementBase,i(d,a),d);function d(e,t){var r=a.call(this,e,t,null)||this;return r.template="dxqb-table-asterisk-field",r.toggleSelected=function(){r.getControlModel().selected(!r.getControlModel().selected())},r.selectedWrapper=n.pureComputed(function(){return r.getControlModel().selected()}),r.isOverAsterisk=n.pureComputed(function(){return r.underCursor().isOver&&!c.DragDropHandler.started()}),r.cssClasses=function(){return{"dxd-state-active":r.selected,"dxd-state-hovered":r.isOverAsterisk()}},r}t.AllColumnsSurface=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(0),a=r(16),r=(Object.defineProperty(n.prototype,"queryBuilderModel",{get:function(){return this._queryBuilderModel()},set:function(e){this._queryBuilderModel(e)},enumerable:!0,configurable:!0}),n.prototype.UpdateLocalization=function(e){o.updateLocalization(e)},n.prototype.GetQueryBuilderModel=function(){return this.queryBuilderModel},n.prototype.GetJsonQueryModel=function(){return{Query:this.queryBuilderModel.model().serialize()}},n.prototype.GetSaveQueryModel=function(){return{queryLayout:JSON.stringify(this.GetJsonQueryModel()),connection:this.SerializeDataConnection()}},n.prototype.SerializeDataConnection=function(){var e=this.queryBuilderModel.model().dbSchemaProvider.connection;return a.serializeDataConnection(e)},n.prototype.AdjustControlCore=function(){this.queryBuilderModel&&this.queryBuilderModel.updateSurfaceSize()},n.prototype.Save=function(){this.queryBuilderModel&&this.queryBuilderModel.model().onSave()},n.prototype.ShowPreview=function(){this.queryBuilderModel&&this.queryBuilderModel.showPreview()},n.prototype.IsQueryValid=function(){return this.queryBuilderModel&&this.queryBuilderModel.model().isValid()},n.prototype.OnCallback=function(e){e.queryValidationError&&i.NotifyAboutWarning(e.queryValidationError,!0)},n);function n(e){this._queryBuilderModel=e}t.JSQueryBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(205),i=r(206),r=(a.generateQueryBuilderEvents=function(r){return{beforeRender:function(e){r("BeforeRender",e)},saveQueryRequested:function(e){r("SaveQueryRequested",e)},customizeActions:function(e){r("CustomizeMenuActions",{Actions:e,GetById:function(t){return t?e.filter(function(e){return t===e.id})[0]:null}})},customizeLocalization:function(t){r("CustomizeLocalization",{LoadMessages:function(e){e&&("function"==typeof e.then?t.push(e):i.loadMessages(e))},WidgetLocalization:o})},onServerError:function(e){r("OnServerError",{Error:e})}}},a);function a(){}t.EventGenerator=r},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var c=t(2),d=t(3),r=t(20),l=t(66),u=t(1),p=t(47),f=t(67),m=t(0),h=t(101),y=t(99),g=t(0),_=t(0);s.groups={Appearance:{info:[]},Behavior:{info:[]},Design:{info:[r.name]},Layout:{info:[r.location,r.size,l.pageWidth,l.pageHeight]}},s.createDiagramDesigner=function(e,t,r,o){r&&u.addCultureInfo({messages:r}),p.registerControls();var i=c.pureComputed(function(){return new l.DiagramViewModel(t())}),r=c.pureComputed(function(){return new f.DiagramSurface(i())});function a(){n()}(o=m.createDesigner(i,r,p.diagramControlsFactory,s.groups,void 0,void 0,o)).connectionPointDragHandler=new h.ConnectionPointDragHandler(r,o.selection,o.undoEngine,o.snapHelper,o.dragHelperContent),o.connectingPointDragHandler=new y.ConnectingPointDragHandler(r,o.selection,o.undoEngine,o.snapHelper,o.dragHelperContent),o.isLoading(!1),o.selection.focused(r()),d(e).children().remove(),c.applyBindings(o,e);var n=g.updateSurfaceContentSize(o.surfaceSize,e);return window.addEventListener("resize",a),_.addDisposeCallback(e,function(){window.removeEventListener("resize",a)}),o.tabPanel.width.subscribe(function(){n()}),n(),o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(184);s.default&&(s.default.define("ace/mode/sql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/doc_comment_highlight_rules"],function(e,t,r){function o(){var o="ALL|AND|ANY|BETWEEN|EXISTS|IN|LIKE|NOT|OR|SOME";o+="|NULL|IS|APPLY|INNER|OUTER|LEFT|RIGHT|JOIN|CROSS";var i="OPENDATASOURCE|OPENQUERY|OPENROWSET|OPENXML|AVG|CHECKSUM_AGG|COUNT|COUNT_BIG|GROUPING|GROUPING_ID|MAX|MIN|STDEV|STDEVP|SUM|VAR|VARP|DENSE_RANK|NTILE|RANK|ROW_NUMBER@@DATEFIRST|@@DBTS|@@LANGID|@@LANGUAGE|@@LOCK_TIMEOUT|@@MAX_CONNECTIONS|@@MAX_PRECISION|@@NESTLEVEL|@@OPTIONS|@@REMSERVER|@@SERVERNAME|@@SERVICENAME|@@SPID|@@TEXTSIZE|@@VERSION|CAST|CONVERT|PARSE|TRY_CAST|TRY_CONVERT|TRY_PARSE@@CURSOR_ROWS|@@FETCH_STATUS|CURSOR_STATUS|@@DATEFIRST|@@LANGUAGE|CURRENT_TIMESTAMP|DATEADD|DATEDIFF|DATEFROMPARTS|DATENAME|DATEPART|DATETIME2FROMPARTS|DATETIMEFROMPARTS|DATETIMEOFFSETFROMPARTS|DAY|EOMONTH|GETDATE|GETUTCDATE|ISDATE|MONTH|SET DATEFIRST|SET DATEFORMAT|SET LANGUAGE|SMALLDATETIMEFROMPARTS|SP_HELPLANGUAGE|SWITCHOFFSET|SYSDATETIME|SYSDATETIMEOFFSET|SYSUTCDATETIME|TIMEFROMPARTS|TODATETIMEOFFSET|YEAR|CHOOSE|IIF|ABS|ACOS|ASIN|ATAN|ATN2|CEILING|COS|COT|DEGREES|EXP|FLOOR|LOG|LOG10|PI|POWER|RADIANS|RAND|ROUND|SIGN|SIN|SQRT|SQUARE|TAN|@@PROCID|APPLOCK_MODE|APPLOCK_TEST|APP_NAME|ASSEMBLYPROPERTY|COLUMNPROPERTY|COL_LENGTH|COL_NAME|DATABASEPROPERTYEX|DATABASE_PRINCIPAL_ID|DB_ID|DB_NAME|FILEGROUPPROPERTY|FILEGROUP_ID|FILEGROUP_NAME|FILEPROPERTY|FILE_ID|FILE_IDEX|FILE_NAME|FULLTEXTCATALOGPROPERTY|FULLTEXTSERVICEPROPERTY|INDEXKEY_PROPERTY|INDEXPROPERTY|INDEX_COL|OBJECTPROPERTY|OBJECTPROPERTYEX|OBJECT_DEFINITION|OBJECT_ID|OBJECT_NAME|OBJECT_SCHEMA_NAME|ORIGINAL_DB_NAME|PARSENAME|SCHEMA_ID|SCHEMA_NAME|SCOPE_IDENTITY|SERVERPROPERTY|STATS_DATE|TYPEPROPERTY|TYPE_ID|TYPE_NAME|CERTENCODED|CERTPRIVATEKEY|CURRENT_USER|DATABASE_PRINCIPAL_ID|HAS_PERMS_BY_NAME|IS_MEMBER|IS_ROLEMEMBER|IS_SRVROLEMEMBER|ORIGINAL_LOGIN|PERMISSIONS|PWDCOMPARE|PWDENCRYPT|SCHEMA_ID|SCHEMA_NAME|SESSION_USER|SUSER_ID|SUSER_NAME|SUSER_SID|SUSER_SNAME|SYS.FN_BUILTIN_PERMISSIONS|SYS.FN_GET_AUDIT_FILE|SYS.FN_MY_PERMISSIONS|SYSTEM_USER|USER_ID|USER_NAME|ASCII|CHAR|CHARINDEX|CONCAT|DIFFERENCE|FORMAT|LEN|LOWER|LTRIM|NCHAR|PATINDEX|QUOTENAME|REPLACE|REPLICATE|REVERSE|RTRIM|SOUNDEX|SPACE|STR|STUFF|SUBSTRING|UNICODE|UPPER|$PARTITION|@@ERROR|@@IDENTITY|@@PACK_RECEIVED|@@ROWCOUNT|@@TRANCOUNT|BINARY_CHECKSUM|CHECKSUM|CONNECTIONPROPERTY|CONTEXT_INFO|CURRENT_REQUEST_ID|ERROR_LINE|ERROR_MESSAGE|ERROR_NUMBER|ERROR_PROCEDURE|ERROR_SEVERITY|ERROR_STATE|FORMATMESSAGE|GETANSINULL|GET_FILESTREAM_TRANSACTION_CONTEXT|HOST_ID|HOST_NAME|ISNULL|ISNUMERIC|MIN_ACTIVE_ROWVERSION|NEWID|NEWSEQUENTIALID|ROWCOUNT_BIG|XACT_STATE|@@CONNECTIONS|@@CPU_BUSY|@@IDLE|@@IO_BUSY|@@PACKET_ERRORS|@@PACK_RECEIVED|@@PACK_SENT|@@TIMETICKS|@@TOTAL_ERRORS|@@TOTAL_READ|@@TOTAL_WRITE|FN_VIRTUALFILESTATS|PATINDEX|TEXTPTR|TEXTVALID|COALESCE|NULLIF",a="BIGINT|BINARY|BIT|CHAR|CURSOR|DATE|DATETIME|DATETIME2|DATETIMEOFFSET|DECIMAL|FLOAT|HIERARCHYID|IMAGE|INTEGER|INT|MONEY|NCHAR|NTEXT|NUMERIC|NVARCHAR|REAL|SMALLDATETIME|SMALLINT|SMALLMONEY|SQL_VARIANT|TABLE|TEXT|TIME|TIMESTAMP|TINYINT|UNIQUEIDENTIFIER|VARBINARY|VARCHAR|XML",e="sp_addextendedproc|sp_addextendedproperty|sp_addmessage|sp_addtype|sp_addumpdevice|sp_add_data_file_recover_suspect_db|sp_add_log_file_recover_suspect_db|sp_altermessage|sp_attach_db|sp_attach_single_file_db|sp_autostats|sp_bindefault|sp_bindrule|sp_bindsession|sp_certify_removable|sp_clean_db_file_free_space|sp_clean_db_free_space|sp_configure|sp_control_plan_guide|sp_createstats|sp_create_plan_guide|sp_create_plan_guide_from_handle|sp_create_removable|sp_cycle_errorlog|sp_datatype_info|sp_dbcmptlevel|sp_dbmmonitoraddmonitoring|sp_dbmmonitorchangealert|sp_dbmmonitorchangemonitoring|sp_dbmmonitordropalert|sp_dbmmonitordropmonitoring|sp_dbmmonitorhelpalert|sp_dbmmonitorhelpmonitoring|sp_dbmmonitorresults|sp_db_increased_partitions|sp_delete_backuphistory|sp_depends|sp_describe_first_result_set|sp_describe_undeclared_parameters|sp_detach_db|sp_dropdevice|sp_dropextendedproc|sp_dropextendedproperty|sp_dropmessage|sp_droptype|sp_execute|sp_executesql|sp_getapplock|sp_getbindtoken|sp_help|sp_helpconstraint|sp_helpdb|sp_helpdevice|sp_helpextendedproc|sp_helpfile|sp_helpfilegroup|sp_helpindex|sp_helplanguage|sp_helpserver|sp_helpsort|sp_helpstats|sp_helptext|sp_helptrigger|sp_indexoption|sp_invalidate_textptr|sp_lock|sp_monitor|sp_prepare|sp_prepexec|sp_prepexecrpc|sp_procoption|sp_recompile|sp_refreshview|sp_releaseapplock|sp_rename|sp_renamedb|sp_resetstatus|sp_sequence_get_range|sp_serveroption|sp_setnetname|sp_settriggerorder|sp_spaceused|sp_tableoption|sp_unbindefault|sp_unbindrule|sp_unprepare|sp_updateextendedproperty|sp_updatestats|sp_validname|sp_who|sys.sp_merge_xtp_checkpoint_files|sys.sp_xtp_bind_db_resource_pool|sys.sp_xtp_checkpoint_force_garbage_collection|sys.sp_xtp_control_proc_exec_stats|sys.sp_xtp_control_query_exec_stats|sys.sp_xtp_unbind_db_resource_pool",t="ABSOLUTE|ACTION|ADA|ADD|ADMIN|AFTER|AGGREGATE|ALIAS|ALL|ALLOCATE|ALTER|AND|ANY|ARE|ARRAY|AS|ASC|ASENSITIVE|ASSERTION|ASYMMETRIC|AT|ATOMIC|AUTHORIZATION|BACKUP|BEFORE|BEGIN|BETWEEN|BIT_LENGTH|BLOB|BOOLEAN|BOTH|BREADTH|BREAK|BROWSE|BULK|BY|CALL|CALLED|CARDINALITY|CASCADE|CASCADED|CASE|CATALOG|CHARACTER|CHARACTER_LENGTH|CHAR_LENGTH|CHECK|CHECKPOINT|CLASS|CLOB|CLOSE|CLUSTERED|COALESCE|COLLATE|COLLATION|COLLECT|COLUMN|COMMIT|COMPLETION|COMPUTE|CONDITION|CONNECT|CONNECTION|CONSTRAINT|CONSTRAINTS|CONSTRUCTOR|CONTAINS|CONTAINSTABLE|CONTINUE|CORR|CORRESPONDING|COVAR_POP|COVAR_SAMP|CREATE|CROSS|CUBE|CUME_DIST|CURRENT|CURRENT_CATALOG|CURRENT_DATE|CURRENT_DEFAULT_TRANSFORM_GROUP|CURRENT_PATH|CURRENT_ROLE|CURRENT_SCHEMA|CURRENT_TIME|CURRENT_TRANSFORM_GROUP_FOR_TYPE|CYCLE|DATA|DATABASE|DBCC|DEALLOCATE|DEC|DECLARE|DEFAULT|DEFERRABLE|DEFERRED|DELETE|DENY|DEPTH|DEREF|DESC|DESCRIBE|DESCRIPTOR|DESTROY|DESTRUCTOR|DETERMINISTIC|DIAGNOSTICS|DICTIONARY|DISCONNECT|DISK|DISTINCT|DISTRIBUTED|DOMAIN|DOUBLE|DROP|DUMP|DYNAMIC|EACH|ELEMENT|ELSE|END|END-EXEC|EQUALS|ERRLVL|ESCAPE|EVERY|EXCEPT|EXCEPTION|EXEC|EXECUTE|EXISTS|EXIT|EXTERNAL|EXTRACT|FETCH|FILE|FILLFACTOR|FILTER|FIRST|FOR|FOREIGN|FORTRAN|FOUND|FREE|FREETEXT|FREETEXTTABLE|FROM|FULL|FULLTEXTTABLE|FUNCTION|FUSION|GENERAL|GET|GLOBAL|GO|GOTO|GRANT|GROUP|HAVING|HOLD|HOLDLOCK|HOST|HOUR|IDENTITY|IDENTITYCOL|IDENTITY_INSERT|IF|IGNORE|IMMEDIATE|IN|INCLUDE|INDEX|INDICATOR|INITIALIZE|INITIALLY|INNER|INOUT|INPUT|INSENSITIVE|INSERT|INTEGER|INTERSECT|INTERSECTION|INTERVAL|INTO|IS|ISOLATION|ITERATE|JOIN|KEY|KILL|LANGUAGE|LARGE|LAST|LATERAL|LEADING|LESS|LEVEL|LIKE|LIKE_REGEX|LIMIT|LINENO|LN|LOAD|LOCAL|LOCALTIME|LOCALTIMESTAMP|LOCATOR|MAP|MATCH|MEMBER|MERGE|METHOD|MINUTE|MOD|MODIFIES|MODIFY|MODULE|MULTISET|NAMES|NATIONAL|NATURAL|NCLOB|NEW|NEXT|NO|NOCHECK|NONCLUSTERED|NONE|NORMALIZE|NOT|NULL|NULLIF|OBJECT|OCCURRENCES_REGEX|OCTET_LENGTH|OF|OFF|OFFSETS|OLD|ON|ONLY|OPEN|OPERATION|OPTION|OR|ORDER|ORDINALITY|OUT|OUTER|OUTPUT|OVER|OVERLAPS|OVERLAY|PAD|PARAMETER|PARAMETERS|PARTIAL|PARTITION|PASCAL|PATH|PERCENT|PERCENTILE_CONT|PERCENTILE_DISC|PERCENT_RANK|PIVOT|PLAN|POSITION|POSITION_REGEX|POSTFIX|PRECISION|PREFIX|PREORDER|PREPARE|PRESERVE|PRIMARY|PRINT|PRIOR|PRIVILEGES|PROC|PROCEDURE|PUBLIC|RAISERROR|RANGE|READ|READS|READTEXT|RECONFIGURE|RECURSIVE|REF|REFERENCES|REFERENCING|REGR_AVGX|REGR_AVGY|REGR_COUNT|REGR_INTERCEPT|REGR_R2|REGR_SLOPE|REGR_SXX|REGR_SXY|REGR_SYY|RELATIVE|RELEASE|REPLICATION|RESTORE|RESTRICT|RESULT|RETURN|RETURNS|REVERT|REVOKE|ROLE|ROLLBACK|ROLLUP|ROUTINE|ROW|ROWCOUNT|ROWGUIDCOL|ROWS|RULE|SAVE|SAVEPOINT|SCHEMA|SCOPE|SCROLL|SEARCH|SECOND|SECTION|SECURITYAUDIT|SELECT|SEMANTICKEYPHRASETABLE|SEMANTICSIMILARITYDETAILSTABLE|SEMANTICSIMILARITYTABLE|SENSITIVE|SEQUENCE|SESSION|SET|SETS|SETUSER|SHUTDOWN|SIMILAR|SIZE|SOME|SPECIFIC|SPECIFICTYPE|SQL|SQLCA|SQLCODE|SQLERROR|SQLEXCEPTION|SQLSTATE|SQLWARNING|START|STATE|STATEMENT|STATIC|STATISTICS|STDDEV_POP|STDDEV_SAMP|STRUCTURE|SUBMULTISET|SUBSTRING_REGEX|SYMMETRIC|SYSTEM|TABLESAMPLE|TEMPORARY|TERMINATE|TEXTSIZE|THAN|THEN|TIMEZONE_HOUR|TIMEZONE_MINUTE|TO|TOP|TRAILING|TRAN|TRANSACTION|TRANSLATE|TRANSLATE_REGEX|TRANSLATION|TREAT|TRIGGER|TRIM|TRUNCATE|TSEQUAL|UESCAPE|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNPIVOT|UPDATE|UPDATETEXT|USAGE|USE|USER|USING|VALUE|VALUES|VARIABLE|VARYING|VAR_POP|VAR_SAMP|VIEW|WAITFOR|WHEN|WHENEVER|WHERE|WHILE|WIDTH_BUCKET|WINDOW|WITH|WITHIN|WITHIN GROUP|WITHOUT|WORK|WRITE|WRITETEXT|XMLAGG|XMLATTRIBUTES|XMLBINARY|XMLCAST|XMLCOMMENT|XMLCONCAT|XMLDOCUMENT|XMLELEMENT|XMLEXISTS|XMLFOREST|XMLITERATE|XMLNAMESPACES|XMLPARSE|XMLPI|XMLQUERY|XMLSERIALIZE|XMLTABLE|XMLTEXT|XMLVALIDATE|ZONE";t+="|KEEPIDENTITY|KEEPDEFAULTS|IGNORE_CONSTRAINTS|IGNORE_TRIGGERS|XLOCK|FORCESCAN|FORCESEEK|HOLDLOCK|NOLOCK|NOWAIT|PAGLOCK|READCOMMITTED|READCOMMITTEDLOCK|READPAST|READUNCOMMITTED|REPEATABLEREAD|ROWLOCK|SERIALIZABLE|SNAPSHOT|SPATIAL_WINDOW_MAX_CELLS|TABLOCK|TABLOCKX|UPDLOCK|XLOCK|IGNORE_NONCLUSTERED_COLUMNSTORE_INDEX|EXPAND|VIEWS|FAST|FORCE|KEEP|KEEPFIXED|MAXDOP|MAXRECURSION|OPTIMIZE|PARAMETERIZATION|SIMPLE|FORCED|RECOMPILE|ROBUST|PLAN|SPATIAL_WINDOW_MAX_CELLS|NOEXPAND|HINT",t+="|LOOP|HASH|MERGE|REMOTE",t+="|TRY|CATCH|THROW";for(var t=(t=(t=(t+="|TYPE").split("|")).filter(function(e,t,r){return-1===o.split("|").indexOf(e)&&-1===i.split("|").indexOf(e)&&-1===a.split("|").indexOf(e)})).sort().join("|"),r=this.createKeywordMapper({"constant.language":o,"storage.type":a,"support.function":i,"support.storedprocedure":e,keyword:t},"identifier",!0),n="SET ANSI_DEFAULTS|SET ANSI_NULLS|SET ANSI_NULL_DFLT_OFF|SET ANSI_NULL_DFLT_ON|SET ANSI_PADDING|SET ANSI_WARNINGS|SET ARITHABORT|SET ARITHIGNORE|SET CONCAT_NULL_YIELDS_NULL|SET CURSOR_CLOSE_ON_COMMIT|SET DATEFIRST|SET DATEFORMAT|SET DEADLOCK_PRIORITY|SET FIPS_FLAGGER|SET FMTONLY|SET FORCEPLAN|SET IDENTITY_INSERT|SET IMPLICIT_TRANSACTIONS|SET LANGUAGE|SET LOCK_TIMEOUT|SET NOCOUNT|SET NOEXEC|SET NUMERIC_ROUNDABORT|SET OFFSETS|SET PARSEONLY|SET QUERY_GOVERNOR_COST_LIMIT|SET QUOTED_IDENTIFIER|SET REMOTE_PROC_TRANSACTIONS|SET ROWCOUNT|SET SHOWPLAN_ALL|SET SHOWPLAN_TEXT|SET SHOWPLAN_XML|SET STATISTICS IO|SET STATISTICS PROFILE|SET STATISTICS TIME|SET STATISTICS XML|SET TEXTSIZE|SET XACT_ABORT".split("|"),s="READ UNCOMMITTED|READ COMMITTED|REPEATABLE READ|SNAPSHOP|SERIALIZABLE".split("|"),c=0;c<s.length;c++)n.push("SET TRANSACTION ISOLATION LEVEL "+s[c]);for(this.$rules={start:[{token:"string.start",regex:"'",next:[{token:"constant.language.escape",regex:/''/},{token:"string.end",next:"start",regex:"'"},{defaultToken:"string"}]},l.getStartRule("doc-start"),{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:r,regex:"@{0,2}[a-zA-Z_$][a-zA-Z0-9_$]*\\b(?!])"},{token:"constant.class",regex:"@@?[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|=|\\*"},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"punctuation",regex:",|;"},{token:"text",regex:"\\s+"}],comment:[l.getTagRule(),{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment",caseInsensitive:!0}]},c=0;c<n.length;c++)this.$rules.start.unshift({token:"set.statement",regex:n[c]});this.embedRules(l,"doc-",[l.getEndRule("start")]),this.normalizeRules();var d=[];(r=function(e,t){e.forEach(function(e){d.push({name:e,value:e,score:0,meta:t})})})(e.split("|"),"procedure"),r(o.split("|"),"operator"),r(i.split("|"),"function"),r(a.split("|"),"type"),r(n,"statement"),r(t.split("|"),"keyword"),this.completions=d}var i=s.default.require("ace/lib/oop"),l=s.default.require("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules,a=s.default.require("ace/mode/text_highlight_rules").TextHighlightRules;i.inherits(o,a),t.SqlHighlightRules=o}),s.default.define("ace/mode/sql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sql_highlight_rules","ace/range"],function(e,t,r){function o(){this.HighlightRules=n}var i=s.default.require("ace/lib/oop"),a=s.default.require("ace/mode/text").Mode,n=s.default.require("ace/mode/sql_highlight_rules").SqlHighlightRules;s.default.require("ace/range").Range;i.inherits(o,a),function(){this.lineCommentStart="--",this.$id="ace/mode/sql"}.call(o.prototype),t.Mode=o}))},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(139),s=r(42),c=r(12),d=r(39),l=r(37),u=r(0),p=r(36),f=r(1),m=r(5),h=r(55),y=r(40),g=r(56),_=r(54),v=r(89),b=r(86),S=r(87),P=r(88),x=r(16),C=r(122),T=r(123),O=r(80),n=(a=n._DataSourceWizardOptionsBase,i(I,a),I);function I(){return null!==a&&a.apply(this,arguments)||this}t._MultiQueryDataSourceWizardOptions=n;var N,D=(N=s.PopupWizard,i(E,N),E.prototype.canRunWizard=function(){return this._wizardOptions.jsonDataSourceAvailable||this._wizardOptions.sqlDataSourceAvailable||this._wizardOptions.objectDataSourceAvailable},E.prototype.initialize=function(e,t){var r=this;void 0===t&&(t=function(e,t){return new A(e,t,r._wizardOptions)}),this._wizardOptions.sqlDataSourceAvailable||!u.isEmptyObject(e.sqlDataSourceWizard)?e.dataSourceType=p.DataSourceType.Sql:this._wizardOptions.jsonDataSourceAvailable||e.jsonDataSourceWizard.jsonSource?e.dataSourceType=p.DataSourceType.Json:this._wizardOptions.objectDataSourceAvailable&&(e.dataSourceType=p.DataSourceType.Object),N.prototype.initialize.call(this,e,t)},E);function E(e,t){e=N.call(this,e,t.callbacks.finishCallback)||this;return e._wizardOptions=t,e.title=f.getLocalization("Data Source Wizard","AnalyticsCoreStringId.SqlDSWizard_Title"),e._extendCssClass="dxrd-multiqueries-sqldatasource-wizard",e.height(443),e}t.MultiQueryDataSourceWizard=D;var w,A=(w=l.PageIterator,i(z,w),z.prototype.getNextPageId=function(e){return!e&&this._wizardOptions.jsonDataSourceAvailable&&this._wizardOptions.sqlDataSourceAvailable?m.DataSourceWizardPageId.ChooseDataSourceTypePage:e?e===m.DataSourceWizardPageId.ChooseDataSourceTypePage&&this._getCurrentState().dataSourceType===p.DataSourceType.Sql?m.SqlDataSourceWizardPageId.ChooseConnectionPage:e===m.DataSourceWizardPageId.ChooseDataSourceTypePage&&this._getCurrentState().dataSourceType===p.DataSourceType.Object?m.ObjectDataSourceWizardPageId.ChooseTypesPage:e===m.ObjectDataSourceWizardPageId.ChooseTypesPage&&this._getCurrentState().objectDataSourceWizard.selectedType?m.ObjectDataSourceWizardPageId.ChooseDataMembersPage:e===m.ObjectDataSourceWizardPageId.ChooseDataMembersPage?m.ObjectDataSourceWizardPageId.ConfigureParametersPage:e===m.DataSourceWizardPageId.ChooseDataSourceTypePage&&this._getCurrentState().dataSourceType===p.DataSourceType.Json&&0<this._wizardOptions.connectionStrings.json().length?m.JsonDataSourceWizardPageId.ChooseConnectionPage:this._wizardOptions.allowCreateNewJsonConnection&&e===m.DataSourceWizardPageId.ChooseDataSourceTypePage&&this._getCurrentState().dataSourceType===p.DataSourceType.Json?m.JsonDataSourceWizardPageId.ChooseJsonSourcePage:e===m.JsonDataSourceWizardPageId.ChooseConnectionPage&&this._getCurrentState().jsonDataSourceWizard.connectionName?m.JsonDataSourceWizardPageId.ChooseJsonSchemaPage:this._wizardOptions.allowCreateNewJsonConnection&&e===m.JsonDataSourceWizardPageId.ChooseConnectionPage&&!this._getCurrentState().jsonDataSourceWizard.connectionName?m.JsonDataSourceWizardPageId.ChooseJsonSourcePage:e===m.JsonDataSourceWizardPageId.ChooseJsonSourcePage?m.JsonDataSourceWizardPageId.ChooseJsonSchemaPage:e===m.SqlDataSourceWizardPageId.ChooseConnectionPage&&this._getCurrentState().sqlDataSourceWizard.name?m.SqlDataSourceWizardPageId.MultiQueryConfigurePage:this._getCurrentState().sqlDataSourceWizard.sqlDataSourceJSON&&e===m.SqlDataSourceWizardPageId.MultiQueryConfigurePage&&0<this._getCurrentState().sqlDataSourceWizard.customQueries.length?m.SqlDataSourceWizardPageId.MultiQueryConfigureParametersPage:(e===m.SqlDataSourceWizardPageId.MultiQueryConfigurePage||e===m.SqlDataSourceWizardPageId.MultiQueryConfigureParametersPage)&&1<c._restoreSqlDataSourceFromState(this._getCurrentState().sqlDataSourceWizard).sqlDataSource.queries().length?m.DataSourceWizardPageId.ConfigureMasterDetailRelationshipsPage:void 0:this.getNextPageId(m.DataSourceWizardPageId.ChooseDataSourceTypePage)},z);function z(e,t,r){t=w.call(this,e,t)||this;return t._wizardOptions=r,t}function M(e,t){return void 0===e&&(e=new d.PageFactory),p._registerChooseDataSourceTypePage(e,t),h._registerChooseJsonConnectionPage(e,t),y._registerChooseJsonSourcePage(e,t.requestWrapper,t.callbacks.getItemsProviderCallback),g._registerChooseJsonSchemaPage(e,t.requestWrapper,t.callbacks),_._registerChooseSqlConnectionPage(e,t.connectionStrings.sql),v._registerSpecifyObjectDataSourceSettingsPage(e,t),b._registerMultiQueryConfigurePage(e,t),S._registerMultiQueryConfigureParametersPage(e,t.requestWrapper),P._registerConfigureMasterDetailRelationshipsPage(e,x.wrapRebuildResultSchema(t.callbacks.sqlDataSourceResultSchema)),C._registerChooseObjectDataSourceTypesPage(e,t),T._registerChooseObjectDataSourceDataMembersPage(e,t),O._registerConfigureObjectDataSourceParametersPage(e,t.callbacks.getItemsProviderCallback),e}t.MultiQueryDataSourceWizardPageIterator=A,t._registerMultiQueryDataSourcePages=M,t._createMultiQueryDataSourceWizard=function(e,t){return M(e=void 0===e?new d.PageFactory:e,t),new D(e,t)}},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(143),s=r(37),c=r(0),d=r(36),l=r(1),u=r(5),p=r(140),f=r(142),m=r(141),h=r(89),y=(a=n.FullscreenWizard,i(g,a),g.prototype.initialize=function(e,t){var r=this;void 0===t&&(t=function(e,t){return new v(e,t,r._dataSourceWizardOptions,function(e){return r._onResetPage(e)})}),this._dataSourceWizardOptions.sqlDataSourceAvailable||!c.isEmptyObject(e.sqlDataSourceWizard)?e.dataSourceType=d.DataSourceType.Sql:this._dataSourceWizardOptions.jsonDataSourceAvailable||e.jsonDataSourceWizard.jsonSource?e.dataSourceType=d.DataSourceType.Json:!this._dataSourceWizardOptions.objectDataSourceAvailable&&c.isEmptyObject(e.objectDataSourceWizard)||(e.dataSourceType=d.DataSourceType.Object),a.prototype.initialize.call(this,e,t)},g.prototype.canRunWizard=function(){return this._dataSourceWizardOptions.canCreateDataSource},g.prototype._description=function(){return l.getLocalization("Data Source Wizard","AnalyticsCoreStringId.DSWizard_Title")},g);function g(e,t){e=a.call(this,e,t.callbacks.finishCallback)||this;return e._dataSourceWizardOptions=t,e}t.FullscreenDataSourceWizard=y;var _,v=(_=s.PageIterator,i(b,_),b.prototype._isMoreThanOneDataSourceTypeAvailable=function(){return this._dataSourceOptions.sqlDataSourceAvailable?this._dataSourceOptions.jsonDataSourceAvailable||this._dataSourceOptions.objectDataSourceAvailable:this._dataSourceOptions.jsonDataSourceAvailable&&this._dataSourceOptions.objectDataSourceAvailable},b.prototype.getNextPageId=function(e){return!e&&this._isMoreThanOneDataSourceTypeAvailable()?u.DataSourceWizardPageId.ChooseDataSourceTypePage:!e&&this._dataSourceOptions.sqlDataSourceAvailable?u.FullscreenDataSourceWizardPageId.SpecifySqlDataSourceSettingsPage:!e&&this._dataSourceOptions.jsonDataSourceAvailable?u.FullscreenDataSourceWizardPageId.SpecifyJsonDataSourceSettingsPage:!e&&this._dataSourceOptions.objectDataSourceAvailable?u.FullscreenDataSourceWizardPageId.SpecifyObjectDataSourceSettingsPage:e===u.DataSourceWizardPageId.ChooseDataSourceTypePage&&this._getCurrentState().dataSourceType===d.DataSourceType.Json?u.FullscreenDataSourceWizardPageId.SpecifyJsonDataSourceSettingsPage:e===u.DataSourceWizardPageId.ChooseDataSourceTypePage&&this._getCurrentState().dataSourceType===d.DataSourceType.Sql?u.FullscreenDataSourceWizardPageId.SpecifySqlDataSourceSettingsPage:e===u.DataSourceWizardPageId.ChooseDataSourceTypePage&&this._getCurrentState().dataSourceType===d.DataSourceType.Object?u.FullscreenDataSourceWizardPageId.SpecifyObjectDataSourceSettingsPage:void 0},b);function b(e,t,r,o){o=_.call(this,e,t,o)||this;return o._dataSourceOptions=r,o}t.FullscreenDataSourceWizardPageIterator=v,t._createDataSourceFullscreenWizard=function(e){var t=new p.FullscreenWizardPageFactory;return d._registerChooseDataSourceTypePage(t,e),t.getMetadata(u.DataSourceWizardPageId.ChooseDataSourceTypePage).navigationPanelText=l.getLocalization("Select Data Source Type","AnalyticsCoreStringId.Wizard_SelectDataSourceType"),f._registerSpecifySqlDataSourceSettingsPage(t,e),m._registerSpecifyJsonDataSourceSettingsPage(t,e),h._registerSpecifyObjectDataSourceSettingsPage(t,e),new y(t,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2);t.WizardAction=function(e,t){this.handler=e,this.isVisible=o.observable(!0),this.isDisabled=o.observable(!1),this.text=t}},function(e,t){e.exports=DevExpress.Analytics.Widgets.Filtering},function(e,t,r){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(2),s=r(3),c=r(165),d=r(0),l=r(90),u=r(1),p=r(166),f=r(0),m=r(6),h=(a=d.JSDesignerBindingCommon,i(y,a),y.prototype._applyBindings=function(e,t){this._disposables.push(e),t.children().remove();var r,t=t.append(this._templateHtml).children()[0];t&&(n.cleanNode(t),this._callbacks&&this._callbacks.beforeRender&&this._callbacks.beforeRender(e),n.applyBindings(e,t),r=setTimeout(function(){e&&e.updateSurfaceSize()},1),this._disposables.push({dispose:function(){return clearTimeout(r)}}))},y.prototype._initializeEvents=function(){var r=this;return this._getAvailableEvents(p.EventGenerator.generateQueryBuilderEvents(function(e,t){r._fireEvent(e,t)}))},y.prototype._initializeCallbacks=function(){if(this._options.callbacks)return this._initializeEvents()},y.prototype._createModel=function(e){return this._callbacks=this._initializeCallbacks(),l.createQueryBuilder(e,this._options,this._callbacks,!1)},y.prototype.dispose=function(){(this._deferreds||[]).forEach(function(e){e.reject()})},y.prototype.applyBindings=function(t){function e(){i&&i.invokeAction&&(r._options.handlerUri=r._getServerActionUrl(i.host,i.invokeAction)),r._deferreds.push(r._createModel(t).done(function(e){r.options.queryBuilderModel(e),r.sender.queryBuilderModel=e,r._createDisposeFunction(t),r._applyBindings(r.sender.queryBuilderModel,o)}))}var r=this,o=s(t),i=this._options.requestOptions;i?this._getLocalizationRequest().done(function(e){e&&u.addCultureInfo(e)}).always(function(){e()}):e()},y);function y(e,t){t=a.call(this,n.unwrap(e),t)||this;return t.options=e,t._deferreds=[],t._templateHtml=m.getTemplate("dxrd-querybuilder"),e.queryBuilderModel=f._wrapModelInObservable(e.queryBuilderModel),t.sender=new c.JSQueryBuilder(e.queryBuilderModel),e.callbacks&&e.callbacks._eventSenderCreated&&e.callbacks._eventSenderCreated(t.sender),t}t.JSQueryBuilderBinding=h,n.bindingHandlers.dxQueryBuilder={init:function(e,t){t=n.unwrap(t());return new h(t||{}).applyBindings(e),{controlsDescendantBindings:!0}}}},function(e,t,r){"use strict";var o=r(175),r=window.DevExpress||{};o._addQueryBuilderToBundle(r),e.exports={Analytics:r.Analytics,QueryBuilder:r.QueryBuilder}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(176),i=r(179),a=r(180),n=r(181),s=r(182),c=r(183),d=r(189),l=r(190),u=r(191),p=r(193),f=r(194),m=r(195),h=r(202),y=r(203),g=r(204);t._addQueryBuilderToBundle=function(e){return e.Analytics=e.Analytics||{},e.QueryBuilder=g,e.Analytics.Diagram=o,e.Analytics.Data=i,e.Analytics.Data.Internal=a,e.Analytics.Data.Utils=n,e.Analytics.Data.Metadata=s,e.Analytics.Wizard=c,e.Analytics.Wizard.Internal=d,e.QueryBuilder.Widgets=l,e.QueryBuilder.Widgets.Internal=u,e.QueryBuilder.Metadata=p,e.QueryBuilder.Utils=f,e.QueryBuilder.Internal=m,e.QueryBuilder.Elements=h,e.QueryBuilder.Elements.Metadata=y,e}},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(20),t(99),t(101),t(15),t(29),t(66),t(67),t(65),t(22),t(64),t(100),t(31),t(48),t(30),t(63),t(47),t(167),t(21),t(177),t(178),o(t(20)),o(t(99)),o(t(101)),o(t(15)),o(t(29)),o(t(66)),o(t(67)),o(t(65)),o(t(22)),o(t(64)),o(t(100)),o(t(31)),o(t(48)),o(t(30)),o(t(63)),o(t(47)),o(t(167)),o(t(21))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),a=r(3);r(17),r(17),r(17),r(17);var n=r(0),s=r(0),c=r(0);i.bindingHandlers.routeLineDraggable={init:function(e,t){var o=t(),t=c.extend({snap:".dxrd-drag-snap-line",snapTolerance:n.SnapLinesHelper.snapTolerance},i.unwrap(o),{start:function(e,t){o.starting()},stop:function(e,t){o.stopped()},drag:function(e,t){var r=t.position.left-t.originalPosition.left,t=t.position.top-t.originalPosition.top;o.forceResize({delta:{dx:r,dy:t}})}});a(e).draggable(t)}},i.bindingHandlers.updateConnectorArrow={init:function(e,t,r,o,i){var a,n,a=(a=-1,"Microsoft Internet Explorer"==navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1)):"Netscape"==navigator.appName&&null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1)),a);-1<a&&a<=11&&(n=i.$data.routePointsSet.subscribe(function(){i.$data.showArrow()&&e.parentNode.insertBefore(e,e)}),s.addDisposeCallback(e.parentNode,function(){return n.dispose()}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(68),t(69),t(104),t(71),t(106),t(49),t(72),t(73),t(107),t(50),t(108),t(110),t(32),t(51),t(114),t(74),t(35),t(34),t(11),t(18),t(105),t(103),t(23),t(52),o(t(68)),o(t(69)),o(t(104)),o(t(71)),o(t(106)),o(t(49)),o(t(72)),o(t(73)),o(t(107)),o(t(50)),o(t(108)),o(t(110)),o(t(32)),o(t(51)),o(t(114)),o(t(74)),o(t(35)),o(t(34)),o(t(11)),o(t(18)),o(t(105)),o(t(103)),o(t(23)),o(t(52))},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(102),t(75),t(109),t(19),o(t(102)),o(t(75)),o(t(109)),o(t(19))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t(9),function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(t(9))},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(112),t(113),t(116),t(115),t(33),o(t(112)),o(t(113)),o(t(116)),o(t(115)),o(t(33))},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(5),t(12),t(185),t(7),t(36),t(54),t(80),t(122),t(123),t(124),t(55),t(125),t(40),t(56),t(24),t(130),t(86),t(87),t(88),t(39),t(76),t(37),t(186),t(14),t(187),t(42),t(139),t(169),t(140),t(38),t(141),t(142),t(143),t(144),t(170),t(188),t(126),t(89),o(t(5)),o(t(12)),o(t(7)),o(t(36)),o(t(54)),o(t(80)),o(t(122)),o(t(123)),o(t(124)),o(t(55)),o(t(125)),o(t(40)),o(t(56)),o(t(24)),o(t(130)),o(t(86)),o(t(87)),o(t(88)),o(t(39)),o(t(76)),o(t(37)),o(t(14)),o(t(42)),o(t(139)),o(t(169)),o(t(140)),o(t(38)),o(t(141)),o(t(142)),o(t(143)),o(t(144)),o(t(170)),o(t(126)),o(t(89))},function(e,t){e.exports={default:window.ace}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(120),t(119),t(117),t(118),t(127),t(85),t(13),t(133),t(131),t(132),t(79),t(78),t(121),t(77),t(41),t(129),t(128),t(171),t(82),t(83),t(81),t(84),o(t(120)),o(t(119)),o(t(117)),o(t(118)),o(t(127)),o(t(85)),o(t(13)),o(t(133)),o(t(131)),o(t(132)),o(t(79)),o(t(78)),o(t(121)),o(t(77)),o(t(41)),o(t(129)),o(t(128)),o(t(171)),o(t(82)),o(t(83)),o(t(81)),o(t(84))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t(111),function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(t(111))},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(25),t(168),t(53),t(145),t(146),t(148),t(149),t(43),t(150),t(151),t(138),t(134),t(135),t(137),t(136),t(192).registerEditorTemplates(),o(t(25)),o(t(53)),o(t(145)),o(t(146)),o(t(148)),o(t(149)),o(t(43)),o(t(150)),o(t(151)),o(t(138)),o(t(134)),o(t(135)),o(t(137)),o(t(136))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(145),i=r(25);t.registerEditorTemplates=function(){i.editorTemplates.registerEditors({bool:{header:"dx-boolean-select",custom:"dxqb-property-editor"},combobox:{header:"dx-combobox",custom:"dxqb-property-editor"},comboboxUndo:{header:"dx-combobox-undo",custom:"dxqb-property-editor",editorType:o.UndoEditor},text:{header:"dx-text",custom:"dxqb-property-editor"},filterEditor:{header:"dxrd-filterstring",custom:"dxqb-property-editor"},filterGroupEditor:{header:"dxrd-filterstringgroup",custom:"dxqb-property-editor"},numeric:{header:"dx-numeric",custom:"dxqb-property-editor"}})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t(44),function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(t(44))},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(70),t(27),t(8),t(9),o(t(70)),o(t(27)),o(t(8)),o(t(9))},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(90),t(197),t(157),t(198),t(152),t(158),t(156),t(16),t(155),t(98),t(199),t(200),t(201),o(t(90)),o(t(157)),o(t(152)),o(t(158)),o(t(156)),o(t(16)),o(t(155)),o(t(98))},function(e,t){e.exports={default:DevExpress.config}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),p=r(3);r(17),r(17),r(17),r(17);var f=r(0),m=r(0),h=r(6);u.bindingHandlers.dxdTableView={init:function(e,t,r,o,i){var a,n,s=h.getTemplate("dxd-tableview"),c=p(e).append(s),d=!!i.$root.rtl,l=u.unwrap(t());return u.applyBindings({onDataScroll:function(e){0<=e.scrollOffset.left&&(a=a||c.find(".dxd-tableview-titles"),n=n||c.find(".dxd-tableview-data table"),a.offset({left:n.offset().left,top:a.offset().top}))},onDataScrollInitialized:function(e){var t;n=null,d&&(t=e.component,setTimeout(function(){return t.scrollTo({left:t.scrollWidth(),top:0})},1))},data:l,rtl:d,noDataText:f.noDataText,isImage:function(e){return"System.Byte[]"===l.schema[e].type},isImageTooLarge:function(e){return"!"===e[0]},getImageTooLargeText:function(e){return"Image too large ("+e.substring(1)+" bytes)"}},c.children()[0]),c.find(".dxd-tableview-titles .dxd-tableview-resizable").each(function(e,t){var r=p(t).find(".dxd-tableview-cell-text"),o=c.find(".dxd-tableview-data .dxd-tableview-resizable"+e);e<l.schema.length-1&&p(t).resizable({handles:"e",alsoResize:o.parent(),resize:function(e,t){r.outerWidth(t.size.width),o.outerWidth(t.size.width)}});t=Math.max(r.width(),o.width());r.width(t),o.width(t)}),m.addDisposeCallback(c.children()[0],function(){c.find(".dxd-tableview-titles .dxd-tableview-resizable").each(function(e,t){p(t).data("ui-resizable")&&p(t).resizable("destroy")}),c=null}),{controlsDescendantBindings:!0}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(10).SvgTemplatesEngine.addTemplates({"dxdd-connection-line":'<svg class="dxdd-connection-line" style="width:100%; height: 100%"> <line class="dxd-qb-relationship-line-color" data-bind="attr: { x1: startPoint().relativeX, y1: startPoint().relativeY, x2: endPoint().relativeX, y2: endPoint().relativeY }" /> </svg>',"dxdd-connecting-point":'<div class="dxdd-connecting-point" data-bind="styleunit: position, trackCursor: underCursor, style: { \'marginLeft\': -3 * _context.zoom() + \'px\', \'marginTop\': -3 * _context.zoom() + \'px\' }, draggable: $root.connectingPointDragHandler"> <svg style="width:100%; height: 100%"> <line x1="0" y1="0" x2="100%" y2="100%" /> <line x1=0 y1="100%" x2="100%" y2="0" /> </svg> </div>',"dxdd-connection-point-selection":'<div class="dxrd-control" data-bind="draggable: $root.connectionPointDragHandler, styleunit: { top: relativeY, left: relativeX }"> </div>',"dxdd-connector":'<div class="dxdd-connector" data-bind="styleunit: position, trackCursor: underCursor"> \x3c!-- ko template: { name: \'dxdd-connection-line\' } --\x3e \x3c!-- /ko --\x3e </div>',"dxdd-connector-selection":"<div class=\"dxdd-connector\" data-bind=\"styleunit: position, dxclick: function() {}, draggable: $root.dragHandler\"> \x3c!-- ko template: { name: 'dxdd-connection-line' } --\x3e \x3c!-- /ko --\x3e \x3c!-- ko with: startPoint --\x3e \x3c!-- ko template: { name: 'dxdd-connection-point-selection' } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko with: endPoint --\x3e \x3c!-- ko template: { name: 'dxdd-connection-point-selection' } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div>","dxdd-routed-connection-line":'<svg class="dxdd-connection-line"> \x3c!-- ko if: showArrow --\x3e <defs> <marker data-bind="attr: { id: \'dxqb-arrow_\' + connectorID() }" viewBox="0 0 5 10" refX="5" refY="5" markerUnits="userSpaceOnUse" orient="auto" markerWidth="14" markerHeight="14"> <polyline class="dxd-qb-relationship-line-color" points="0,0 5,5 0,10" /> </marker> </defs> \x3c!-- /ko --\x3e <polyline class="dxd-qb-relationship-line-color" fill="none" data-bind="attr: { points: routePointsSet, \'marker-end\': showArrow() ? \'url(#dxqb-arrow_\' + connectorID() + \')\' : \'\' }, updateConnectorArrow: $data" /> </svg>',"dxdd-routed-connector":'<div class="dxdd-connector" data-bind="styleunit: position, visible: isVisible"> \x3c!-- ko template: { name: \'dxdd-routed-connection-line\' } --\x3e \x3c!-- /ko --\x3e \x3c!-- ko foreach: routeLineWrappers --\x3e <div data-bind="styleunit: position" style="position: absolute;"> \x3c!-- ko with: $parent --\x3e <div class="dxd-selectable" data-bind="trackCursor: underCursor, click: $root.selectItemProperties" style="position: relative; width: 100%; height: 100%;"></div> \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e </div>',"dxdd-routed-connector-selection":'<div class="dxdd-connector dxrd-selected dxd-state-selected" data-bind="styleunit: position, dxclick: function() {}, visible: isVisible"> \x3c!-- ko template: { name: \'dxdd-routed-connection-line\' } --\x3e \x3c!-- /ko --\x3e \x3c!-- ko foreach: routeLineWrappers --\x3e \x3c!-- ko ifnot: isLocked --\x3e <div data-bind="styleunit: position, style: { cursor: isVerticalLine ? \'ew-resize\' : \'ns-resize\' }, routeLineDraggable: { starting: $root.resizeHandler.starting, stopped: function() { resizeStopped(); $root.resizeHandler.stopped(); }, forceResize: resizeHandler }" style="position: absolute;"> </div> \x3c!-- /ko --\x3e \x3c!-- ko if: isLocked --\x3e <div data-bind="styleunit: position" style="position: absolute;"> </div> \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko with: startPoint --\x3e \x3c!-- ko template: { name: \'dxdd-connection-point-selection\' } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko with: endPoint --\x3e \x3c!-- ko template: { name: \'dxdd-connection-point-selection\' } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div>',"dx-diagram-element":'<div class="dxrd-control dxd-selectable" data-bind="styleunit: position, trackCursor: underCursor"> <div class="dxrd-control-content-main" data-bind="styleunit: { lineHeight: positionLineHeightWithoutMargins }, style: css"> <div data-bind="template: contenttemplate, styleunit: { \'height\': positionLineHeightWithoutMargins, \'width\': positionWidthWithoutMargins }"> </div> </div> </div>',"dx-diagram-element-selection":'<div class="dxrd-control" data-bind="event: { dblclick: $root.inlineTextEdit.show }, css: {\'dxrd-selected\': selected, \'dxrd-focused\': focused }, resizable: $root.resizeHandler, draggable: $root.dragHandler, styleunit: position, trackCursor: underCursor"> \x3c!-- ko if: !$root.inlineTextEdit.visible() --\x3e <div class="dxrd-control-content-main" data-bind="styleunit: { lineHeight: positionLineHeightWithoutMargins }, style: css"> <div data-bind="template: contenttemplate, styleunit: { \'height\': positionLineHeightWithoutMargins, \'width\': positionWidthWithoutMargins}"> </div> </div> \x3c!-- /ko --\x3e \x3c!-- ko if: $root.inlineTextEdit.visible --\x3e \x3c!-- ko with: $root.inlineTextEdit --\x3e <div class="inline-text-edit" data-bind="dxTextArea: { value: text, onKeyUp: keypressAction, valueChangeEvent: \'keyup\' }"></div> \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div>',"dx-diagram-element-content":'<div style="width: 100%; height: 100%; border: 1px solid black"> <div data-bind="text: getControlModel().text"></div> </div>',"dxdd-element-content-with-connecting-points":'<div style="width: 100%; height: 100%; overflow: hidden"> <svg style="top:0; left: 0; width: 100%; height: 100%; stroke: black; fill: transparent; stroke-width: 1"> \x3c!-- ko if: getControlModel().type() === \'Ellipse\' --\x3e <ellipse cx="50%" cy="50%" rx="50%" ry="50%" /> \x3c!-- /ko --\x3e \x3c!-- ko if: getControlModel().type() === \'Condition\' --\x3e <line x1="50%" y1="0" x2="100%" y2="50%" /> <line x1="100%" y1="50%" x2="50%" y2="100%" /> <line x1="50%" y1="100%" x2="0" y2="50%" /> <line x1="0" y1="50%" x2="50%" y2="0" /> \x3c!-- /ko --\x3e \x3c!-- ko if: !getControlModel().type() --\x3e <rect height="100%" width="100%" /> \x3c!-- /ko --\x3e <text x="50%" y="50%" alignment-baseline="middle" style="text-anchor: middle; cursor:default;" data-bind="text: getControlModel().text"></text> </svg> \x3c!-- ko foreach: connectingPoints --\x3e \x3c!-- ko template: \'dxdd-connecting-point\' --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div>',"dx-diagram-surface":'<div class="dxrd-surface" style="height: 100%; display:inline-block;" data-bind="styleunit: { \'width\': Math.min(pageWidth(), $root.surfaceSize()) }, click: function(_, e) { $root.selection.clickHandler(null, e); e.stopPropagation(); }, keyDownActions: $root.actionLists"> <div class="dxrd-viewport" style="overflow:auto;width:inherit;height:inherit;" data-bind="styleunit: { minWidth: Math.min(pageWidth(), $root.surfaceSize()), maxWidth: pageWidth(),  maxHeight: pageHeight() + 20 }"> <div data-bind="selectable: { selection: $root.selection, zoom: zoom }"> <div class="dxrd-ghost-containment"> <div class="dxrd-ghost-container" style="background: white;position: relative;" data-bind="styleunit: { \'width\': pageWidth(), \'height\': pageHeight() }, trackCursor: underCursor"> \x3c!-- ko foreach: controls --\x3e \x3c!-- ko template: { name: isSelected() ? selectiontemplate : template } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div> </div> </div> </div> </div>',"dxqb-joincondition":'<div class="dxdd-connector" data-bind="styleunit: position, trackCursor: underCursor"> <svg style="width:100%; height: 100%"> <line data-bind="attr: { x1: startPoint.x, y1: startPoint.y, x2: endPoint.x, y2: endPoint.y }" /> </svg> </div>',"dx-query-surface":'<div class="dxrd-surface" style="display:inline-block;" data-bind="styleunit: { \'width\': $root.surfaceSize }, click: function(_, e) { $root.selection.clickHandler(null, e); e.stopPropagation(); }, keyDownActions: $root.actionLists"> <div class="dxrd-viewport" style="width:inherit;height:inherit;"> <div class="dxqb-mainwin" data-bind="dxScrollView: { direction: \'both\', showScrollbar: \'onHover\', scrollByContent: false, scrollByThumb: true, bounceEnabled: false, useNative: false, height: \'100%\' }"> <div style="height:100%;"> <div class="dxrd-ghost-containment" style="height:100%;"> <div class="dxrd-ghost-container dxqb-ghost-container" data-bind="styleunit: { \'minWidth\': pageWidth, \'minHeight\': pageHeight }, trackCursor: { recalculateBounds: true, underCursor: underCursor }"> <div class="dxqb-main" data-bind="trackCursor: { recalculateBounds: true, underCursor: underCursor }, style: { \'z-index\' : $parent.dragDropStarted() ? 2 : null }"> \x3c!-- ko if: tables().length === 0--\x3e <div class="dxqb-placeholder dxd-empty-area-placeholder-text-color dxd-text-info" data-bind="text: placeholder()"></div> \x3c!-- /ko --\x3e \x3c!-- ko foreach: relations --\x3e \x3c!-- ko foreach: conditions --\x3e \x3c!-- ko if: !isSelected()--\x3e \x3c!-- ko template: template --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko foreach: tables --\x3e \x3c!-- ko template: template --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko foreach: relations --\x3e \x3c!-- ko foreach: conditions --\x3e \x3c!-- ko if: isSelected()--\x3e \x3c!-- ko template: selectiontemplate --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko with: $root.columnDragHandler.dragDropConnector --\x3e <svg class="dxdd-connection-line-draggable" data-bind="styleunit: { top: position.top(), left: position.left() }"> \x3c!-- ko foreach: routePoints --\x3e \x3c!-- ko if: $index() < ($parent.routePoints().length - 1) --\x3e <line class="dxd-qb-relationship-line-color" fill="none" data-bind="attr: {x1 : $data.x, y1: $data.y, x2: $parent.routePoints()[$index()+1].x, y2: $parent.routePoints()[$index()+1].y }"></line> \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </svg> \x3c!-- /ko --\x3e </div> </div> </div> </div> </div> </div> </div>',"dxqb-relation":"\x3c!-- ko foreach: conditions --\x3e \x3c!-- ko template: { name: isSelected() ? selectiontemplate : template } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e","dxqb-table-field":'<div class="dx-border-inheritor dxd-border-accented"> <div class="dxqb-table-field dxd-qb-table-field-border-color dxd-qb-table-field-back-color dxd-back-highlighted dxd-qb-table-field-separator-color dxd-border-primary" data-bind="trackCursor: { recalculateBounds: true, underCursor: underCursor }, draggable: $root.columnDragHandler, css: cssClasses($root.surface(), $root.columnDragHandler, $parent), click: $root.selectItemProperties"> <div class="dxqb-table-field-background dxd-back-accented"></div> <div class="dxqb-table-field-checkbox-wrapper"> <div class="dxqb-table-field-checkbox" data-bind="dxCheckBox: { value: selectedWrapper }, click: function(surface, e) { surface.toggleSelected(); e.stopPropagation(); return true;  }"></div> </div> <div class="dxqb-table-field-content dxd-text-primary" data-bind="attr: { title: getControlModel().actualName }"> <div class="dxqb-table-field-state"> \x3c!-- ko if:  $data.isAscending() --\x3e <div class="dxqb-image-field-state dxqb-image-field-sorting-asc">\x3c!-- ko template: \'dxrd-svg-queryBuilder-sorting_asc\' --\x3e\x3c!-- /ko --\x3e</div> \x3c!-- /ko --\x3e \x3c!-- ko if:  $data.isDescending() --\x3e <div class="dxqb-image-field-state dxqb-image-field-sorting-desc">\x3c!-- ko template: \'dxrd-svg-queryBuilder-sorting_desc\' --\x3e\x3c!-- /ko --\x3e</div> \x3c!-- /ko --\x3e \x3c!-- ko if: $data.getControlModel().groupBy --\x3e <div class="dxqb-image-field-state dxqb-image-field-group-by">\x3c!-- ko template: \'dxrd-svg-queryBuilder-group_by\' --\x3e\x3c!-- /ko --\x3e</div> \x3c!-- /ko --\x3e \x3c!-- ko if: $data.isAggregate() --\x3e <div class="dxqb-image-field-state dxqb-image-field-aggregate">\x3c!-- ko template: \'dxrd-svg-queryBuilder-aggregate\' --\x3e\x3c!-- /ko --\x3e</div> \x3c!-- /ko --\x3e </div> <div class="dxqb-table-field-caption"> <div class="dxqb-table-field-text dxd-qb-table-field-text-color" data-bind="text: getControlModel().actualName"></div> </div> </div> </div> </div>',"dxqb-table-asterisk-field":'<div class="dx-border-inheritor dxd-border-accented"> <div class="dxqb-table-field dxd-qb-table-field-border-color dxd-qb-table-field-back-color dxd-back-highlighted dxd-border-primary" data-bind="trackCursor: underCursor, css: cssClasses(), click: $root.selectItemProperties"> <div class="dxqb-table-field-background dxd-back-accented"></div> <div class="dxqb-table-field-checkbox-wrapper"> <div class="dxqb-table-field-checkbox" data-bind="dxCheckBox: { value: selectedWrapper }, click: function(surface, e) { surface.toggleSelected(); e.stopPropagation(); return true;  }"></div> </div> <div class="dxqb-table-field-content dxd-text-primary" data-bind="attr: { title: getControlModel().name }"> <div class="dxqb-table-field-caption"> <div class="dxqb-table-field-text dxd-qb-table-field-text-color" data-bind="text: getControlModel().name"></div> </div> </div> </div> </div>',"dxqb-table-main":'\x3c!-- ko if: $data.isSelected() --\x3e <div class="dxqb-table-resize-ghost" data-bind="resizable: resizable($root.resizeHandler, $element), styleunit: position"></div> \x3c!-- /ko --\x3e <div class="dxrd-control" data-bind="css: {\'dxrd-selected\': selected, \'dxrd-focused\': focused }, draggable: $root.dragHandler, styleunit: position, trackCursor: underCursor, click: $root.selectItemProperties"> <div class="dxrd-control-content-main dxd-qb-table-back-color dxd-back-primary2" data-bind="styleunit: { lineHeight: position.lineHeight }, style: css"> <div class="dxqb-table-background dxd-back-accented"></div> <div class="dx-background-inheritor dxd-back-accented"> <div class="dxqb-table-border dxd-qb-table-border-color dxd-back-highlighted dxd-state-active dxd-state-no-hover"></div> </div> <div data-bind="template: contenttemplate, styleunit: { \'height\': position.lineHeight, \'width\': position.width }"> </div> </div> </div>',"dxqb-table":'<div class="dxqb-table dxd-qb-table-back-color dxd-back-primary2"> <div class="dx-border-inheritor dxd-border-accented"> <div class="dxqb-table-head-field dxd-qb-table-field-border-color dxd-qb-table-field-back-color dxd-back-highlighted dxd-border-primary"> <div class="dxqb-table-checkbox-all"> <div data-bind="dxCheckBox: { value: selectedWrapper }, click: function(surface, e) { $root.undoEngine().start(); surface.toggleSelected(); $root.undoEngine().end(); e.stopPropagation(); return true; }"></div> </div> <div class="dxqb-table-title dxd-text-primary" data-bind="text: getControlModel().actualName, style: { cursor: selected() ? \'move\' : \'default\' }"></div> </div> </div> <div class="dxqb-table-content"> <div class="dxqb-tableFields-wrapper"> \x3c!-- ko ifnot: $data.isInitialized() --\x3e <div class="dxqb-table-loading"> <div class="dxqb-table-loading-text dxd-text-primary" data-bind="text: $root.columnsLoadingMsg()"></div> </div> \x3c!-- /ko --\x3e \x3c!-- ko if: $data.isInitialized() --\x3e \x3c!-- ko template: { name: asterisk.template, data: asterisk } --\x3e \x3c!-- /ko --\x3e \x3c!-- ko foreach: columns --\x3e \x3c!-- ko lazy: { template: $data.template  }--\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div> </div> </div>',"dxrd-masterDetail-editor":"\x3c!-- ko if: $data --\x3e <div> <div data-bind=\"dxPopup: { showTitle: true, width: '95%', height: '95%', title: title(), visible: popupVisible, wrapperAttr: { class: 'dx-filtereditor' }, toolbarItems: buttonItems, showCloseButton: true, container: $root.getPopupContainer($element), position: { of: $root.getPopupContainer($element) }, }\"> <div class=\"dx-filtereditor-tree dxd-border-secondary\" data-bind=\"dxScrollView: { showScrollbar: 'onHover', direction: 'both' }\" style=\"cursor: default\"> \x3c!-- ko foreach: masterQueries --\x3e <div class=\"criteria-operator-group\"> <div class=\"criteria-operator-group-item\"> <div class=\"criteria-operator-text dxd-filter-editor-text-color criteria-operator-item-group dxd-filter-editor-group-back-color dxd-state-no-hover stylized\" data-bind=\"text: queryName\"></div> <div data-bind=\"service: { name: 'createRelation' }\"></div> </div> <div class=\"criteria-operator-content\"> \x3c!-- ko template: { name: 'dx-masterDetail-editor-relation', foreach: relations }--\x3e \x3c!-- /ko --\x3e </div> </div> \x3c!-- /ko --\x3e </div> </div> <div class=\"dx-selectbox-popup-wrapper dx-dropdownlist-popup-wrapper dx-filtereditor-criteriaoperator-popup dx-dropdowneditor-overlay\" data-bind=\"dxPopupWithAutoHeight: { width: '170px', height: '300px', focusStateEnabled: false, wrapperAttr: { class: 'dx-selectbox-popup-wrapper dx-dropdownlist-popup-wrapper dx-filtereditor-criteriaoperator-popup dx-dropdowneditor-overlay' }, position: $root.rtl ? { my: 'right top', at: 'right bottom', of: popupService.target } : { my: 'left top', at: 'left bottom', of: popupService.target }, container: $root.getPopupContainer($element), target: popupService.target, showTitle: false, showCloseButton: false, animation: {}, closeOnOutsideClick: true, shading: false, visible: popupService.visible }\"> \x3c!-- ko with: popupService--\x3e \x3c!-- ko with: data --\x3e \x3c!-- ko template: template--\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div> </div> \x3c!-- /ko --\x3e","dx-masterDetail-editor-keyColumn":'<div class="criteria-operator-text dxd-filter-editor-text-color criteria-operator-item-field dxd-filter-editor-field-back-color dxd-state-no-hover stylized" data-bind="attr: { title: $data.getTitle() }, text: queryName"></div> <div class="criteria-operator-text dxd-filter-editor-text-color">.</div> <div class="criteria-operator-text dxd-filter-editor-text-color"> <div data-bind="service: { name: \'setColumn\' }"></div> </div>',"dx-masterDetail-editor-relation":'<div class="criteria-operator-group"> <div class="criteria-operator-group-item"> <div class="criteria-operator-action" data-bind="dxclick: function() {  $parent.remove($data); }"> <div class="criteria-operator-action-image dx-image-filtereditor-remove">\x3c!-- ko template: \'dxrd-svg-filtereditor-remove\' --\x3e\x3c!-- /ko --\x3e</div> </div> <div class="criteria-operator-item" data-bind="visible: isEditable"> <div class="criteria-operator-item-editor" data-bind="dxTextBox: { value: relationName, onFocusOut: function() { isEditable(false); } }, focus: { on: isEditable }"></div> </div> <div class="criteria-operator-text dxd-filter-editor-text-color criteria-operator-item-value dxd-filter-editor-value-back-color" data-bind="visible: !isEditable()"> <div class="criteria-operator-text dxd-filter-editor-text-color clickable" data-bind="text: relationName, click: function() { isEditable(true); }"></div> </div> <div class="criteria-operator-action" data-bind="dxclick: create"> <div class="criteria-operator-action-image dx-image-filtereditor-add">\x3c!-- ko template: \'dxrd-svg-filtereditor-add\' --\x3e\x3c!-- /ko --\x3e</div> </div> </div> <div class="criteria-operator-content"> \x3c!-- ko foreach: keyColumns --\x3e <div class="criteria-operator-group"> <div class="criteria-operator-group-item"> <div class="criteria-operator-action" data-bind="dxclick: function() {  $parent.remove($data); }"> <div class="criteria-operator-action-image dx-image-filtereditor-remove">\x3c!-- ko template: \'dxrd-svg-filtereditor-remove\' --\x3e\x3c!-- /ko --\x3e</div> </div> \x3c!-- ko template: { name: \'dx-masterDetail-editor-keyColumn\', data: master } --\x3e \x3c!-- /ko --\x3e <div class="criteria-operator-text dxd-filter-editor-text-color"> = </div> \x3c!-- ko template: { name: \'dx-masterDetail-editor-keyColumn\', data: detail } --\x3e \x3c!-- /ko --\x3e </div> </div> \x3c!-- /ko --\x3e </div> </div>',"dx-masterdetail-editor-setColumn":"<div class=\"criteria-operator-text dxd-filter-editor-text-color clickable criteria-operator-item-field dxd-filter-editor-field-back-color\" data-bind=\"text: target.column() || target.selectColumnText(), dxclick: showPopup, css: { 'dxd-state-selected': target.isSelected, 'default': !target.column() }\"></div>","dxqb-data-preview":'<div style="height: 100%" data-bind="dxdTableView: $data.value"></div>',"dxqb-popup":'<div data-bind="dxPopup: { animation: { show: { type: \'fade\', from: 0, to: 1, duration: 700 }, hide: { type: \'fade\', from: 1, to: 0, duration: 700 } }, wrapperAttr: { class: \'dxqb-preview\' }, visible: isVisible, title: title(), showTitle: true, resizeEnabled: true, shading: true, shadingColor: \'transparent\', fullScreen: false, width: 800, height: 544, container: container($element), position: { of: container($element) }, onHidden: function() { $data.data.value(null) }, focusStateEnabled: false }"> <div class="dxqb-preview-popup-content"> \x3c!-- ko if: data && !isLoading() --\x3e \x3c!-- ko template: { name: template, data: data } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko if: isLoading --\x3e <div style="text-align: center; padding-top: 25%;"> <div data-bind="dxLoadIndicator: { visible: true }"></div> </div> \x3c!-- /ko --\x3e </div> <div class="dxqb-preview-popup-buttons dxd-border-secondary"> <div class="dxqb-preview-popup-button" data-bind="dxButton: { text: okButtonText(), onClick: okButtonHandler, disabled: isLoading }"></div> </div> </div>',"dxqb-selectstatment-preview":'<div class="dxqb-show-query-string-content dx-widget"> \x3c!-- ko if: !aceAvailable --\x3e <div class="dxrd-show-query-string-editor" data-bind="dxTextArea: { value: value, valueChangeEvent: \'keyup\', readOnly: true }"></div> \x3c!-- /ko --\x3e \x3c!-- ko if: aceAvailable --\x3e <div class="dxrd-show-query-string-editor"> <div class="dxrd-show-query-string-editor-content"> <div class="dx-sql_editor dx-disabled-ace dxd-back-primary2" data-bind="dxAceEditor: { value: value, options: aceOptions, additionalOptions: additionalOptions }"></div> </div> </div> \x3c!-- /ko --\x3e </div>',"dxd-tableview":'<div class="dxd-tableview"> <div class="dxd-tableview-titles"> <table> <tbody> <tr> \x3c!-- ko foreach: rtl ? data.schema.reverse() : data.schema --\x3e <td data-bind="attr: { class: \'dxd-tableview-title-cell dxd-border-secondary dxd-tableview-resizable\' }"> <div class="dxd-tableview-cell-text dxd-qb-data-preview-cell-text-color dxd-text-info" data-bind="text: name"></div> </td> \x3c!-- /ko --\x3e </tr> </tbody> </table> </div> \x3c!-- ko if: data.values --\x3e <div class="dxd-tableview-data" data-bind="dxScrollView: { direction: \'both\', scrollByContent: false, showScrollbar: \'always\', scrollByThumb: true, bounceEnabled: false, useNative: false, onScroll: $data.onDataScroll, onInitialized: $data.onDataScrollInitialized }"> <table> <tbody> \x3c!-- ko foreach: data.values --\x3e <tr> \x3c!-- ko foreach: $parent.rtl ? $data.reverse() : $data --\x3e <td class="dxd-tableview-cell dxd-border-secondary"> \x3c!-- ko ifnot: $parents[1].isImage($index()) --\x3e <div data-bind="text: $data, attr: { class: \'dxd-tableview-cell-text dxd-text-primary dxd-tableview-resizable\' + $index() }"></div> \x3c!-- /ko --\x3e \x3c!-- ko if: $parents[1].isImage($index()) --\x3e \x3c!-- ko if: $parents[1].isImageTooLarge($data) --\x3e <div data-bind="text: $parents[1].getImageTooLargeText($data), attr: { class: \'dxd-tableview-cell-text dxd-text-primary dxd-tableview-resizable\' + $index() }"></div> \x3c!-- /ko --\x3e \x3c!-- ko ifnot: $parents[1].isImageTooLarge($data) --\x3e <div data-bind="attr: { class: \'dxd-tableview-cell-text dxd-text-primary dxd-tableview-resizable\' + $index() }"> <img data-bind="attr: { src: \'data:image/bmp;base64,\' + $data }" /> </div> \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </td> \x3c!-- /ko --\x3e </tr> \x3c!-- /ko --\x3e <tr class="dxd-tableview-data-fakerow"> \x3c!-- ko foreach: data.values[0] --\x3e <td class="dxd-tableview-cell dxd-border-secondary"> <div data-bind="attr: { class: \'dxd-tableview-cell-text dxd-text-primary dxd-tableview-resizable\' + $index() }"></div> </td> \x3c!-- /ko --\x3e </tr> </tbody> </table> </div> \x3c!-- /ko --\x3e \x3c!-- ko ifnot: data.values --\x3e <div class="dxd-tableview-empty-message" data-bind="text: noDataText()"></div> \x3c!-- /ko --\x3e </div>',"dxqb-fieldlist-wrapper":'<div id="tree" data-bind="treelist: treeListOptions" style="width:100%; height: 100%;"></div>',"dxqb-properties-wrapper":'<div class="dxrd-properties-wrapper" data-bind="visible: active() && visible()"> <div style="height:100%" class="dxd-text-primary"> \x3c!-- ko with: model --\x3e <div class="dxrd-properties-grid dxd-border-primary" data-bind="dxScrollView: { showScrollbar: \'onHover\', useNative: false, scrollByThumb: true }" style="top: 0px;"> <div> \x3c!-- ko foreach: groups --\x3e <div class="dx-fieldset" data-bind="visible: visible"> <div data-bind="dxdAccordion: { collapsed: collapsed }"> <div class="dxrd-group-header dx-accordion-header" data-bind="css: { \'dxrd-group-header-collapsed dxd-border-primary\': collapsed() }"> <div class="dx-collapsing-image" data-bind="template: \'dxrd-svg-collapsed\', css: { \'dx-image-expanded\': !collapsed() }" style="display:inline-block;"></div> <span class="dxrd-group-header-text" data-bind="text: displayName()"></span> </div> <div class="dx-accordion-content dxd-back-primary"> \x3c!-- ko ifnot: editorsCreated --\x3e <div class="dx-accordion-content-loading-panel"> <div data-bind="dxLoadIndicator: { visible: !editorsCreated() }"></div> </div> \x3c!-- /ko --\x3e \x3c!-- ko if: $data.editorsRendered() --\x3e <div data-bind="visible: editorsCreated"> <div class="dx-editors"> \x3c!-- ko foreach: editors --\x3e \x3c!-- ko template: editorTemplate --\x3e \x3c!-- /ko --\x3e \x3c!-- ko if: ($index() === $parent.editors().length - 1 && $parent.editorsCreated(true)) --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div> </div> \x3c!-- /ko --\x3e </div> </div> </div> \x3c!-- /ko --\x3e </div> </div> \x3c!-- /ko --\x3e </div> </div>',"dxqb-propertygrid":'\x3c!-- ko with: value --\x3e <div class="dx-fieldset dxqb-selected-properties"> \x3c!-- ko foreach: properties.getEditors() --\x3e \x3c!-- ko template: editorTemplate --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e',"dxqb-fieldspanel":'\x3c!-- ko with: value --\x3e <div data-bind="treeListSearchPanel: { controllers: $data.fieldListModel.treeListOptions().treeListController }"></div> <div class="dxqb-right-panel-fields" data-bind="dxScrollView: { showScrollbar: \'onHover\', scrollByContent: false, scrollByThumb: true, bounceEnabled: false, useNative: false }"> \x3c!-- ko template: { name: "dxqb-fieldlist-wrapper", data: fieldListModel } --\x3e \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e',"dxqb-parameterspanel":'\x3c!-- ko with: value --\x3e <div class="dxqb-right-panel-parameters" data-bind="dxScrollView: { showScrollbar: \'onHover\', scrollByContent: false, scrollByThumb: true, bounceEnabled: false, useNative: false }"> <div style="width: 100%" data-bind="dxCollectionEditor: $data"></div> </div> \x3c!-- /ko --\x3e',"dxqb-collectioneditor-template":'<div class="dxrd-accordion-collection-item" data-bind="dxdAccordion: { collapsed: collapsed }"> <div class="dxrd-group-header dx-accordion-header"> <div> <div class="propertygrid-editor-collapsed dx-collapsing-image" data-bind="css: { \'dx-image-expanded\': !collapsed() }, template: \'dxrd-svg-collapsed\'"></div> <div class="dx-group-header-font" data-bind="text: $root.getLocalization($parent.name), attr: { title: $root.getLocalization($parent.name) }"></div> </div> </div> <div class="dx-accordion-content"> <div data-bind="dxPropertyGrid: { target: value, level: 1, parentDisabled: editor.disabled }"></div> </div> </div>',"dxqb-toolbar":'<div class="dxrd-toolbar-wrapper dxd-toolbar-back-color" data-bind="click: $root.findControl"> <div class="dxqb-toolbar-background dxd-back-primary-invariant"></div> <div class="dxrd-toolbar" data-bind="template: {name: \'dxqb-toolbar-items\', data: actionLists.toolbarItems }"></div> </div>',"dxqb-toolbar-items":'\x3c!-- ko foreach: $data --\x3e \x3c!-- ko if: $data.templateName --\x3e \x3c!-- ko template: templateName  --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko if: !$data.templateName --\x3e <div class="dxrd-toolbar-item" data-bind="visible: visible"> <div class="dxqb-toolbar-item-container"> <div class="dxqb-toolbar-item-background dxd-back-secondary"></div> <div data-bind="template: {name: ko.unwrap($data.imageTemplateName), if: !!ko.unwrap($data.imageTemplateName)}, attr: { class: \'dxrd-toolbar-item-image dxd-icon-highlighted dxd-state-normal \' + (ko.unwrap($data.imageClassName) || \'\'), title: $data.displayText && $data.displayText() || text }, dxclick: function() { if((typeof $data.disabled === \'function\') && !disabled() || !disabled) { clickAction($root.model && $root.model()); } }, css: {\'dxrd-disabled-button\': disabled, \'dxd-state-active\': $data.selected }"> </div> </div> <div class="dxrd-toolbar-item-separator dxd-toolbar-separator-color dxd-border-secondary" data-bind="visible: $data.hasSeparator"></div> </div> \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e',"dxqb-property-editor":'<div class="dxrd-editor" data-bind="visible: visible"> <div class="dxrd-editor-header"> <div class="dx-field dxd-back-primary"> <div class="dx-field-label dxd-text-primary"> <div class="propertygrid-editor-displayName" data-bind="text: displayName, attr: { \'title\': displayName }"></div> </div> <div class="dx-field-value"> <div data-bind="service: { name: \'createEditorAddOn\' }"></div> \x3c!-- ko lazy: { template: templateName } --\x3e \x3c!-- /ko --\x3e </div> </div> </div> </div>',"dxqb-expressionstring":'\x3c!-- ko if: $data.value() --\x3e <div data-bind="dxExpressionEditor: getOptions({ options: value, fieldListProvider: $root.parametersBindingsProvider, displayNameProvider: $root.displayNameProvider && $root.displayNameProvider() })"></div> \x3c!-- /ko --\x3e',"dxqb-filtereditor-changeparameter":'<div class="criteria-operator-item" data-bind="visible: target.isEditable"> <div class="criteria-operator-item" data-bind="dxTextBox: { value: target._parameterName, onFocusOut: function() { target.createParameter(); target.isEditable(false); } }"></div> </div> <div class="criteria-operator-text dxd-filter-editor-text-color clickable " data-bind="text: target.parameterName, dxclick: showPopup, css: { \'dxd-state-selected\': target.isSelected, \'default\': target.isDefaultTextDisplayed() }, visible: $data.target.isEditable() === false"></div>',"dxqb-filtereditor-propertiespopup":'<div class="dx-widget" data-bind="dxScrollView: { showScrollbar: \'onHover\' }"> \x3c!-- ko foreach: data --\x3e <div data-bind="dxdAccordion: { collapsed: collapsed }"> <div class="dx-accordion-header"> <div class="dx-filtereditor-popup-item dxd-list-item-back-color dx-item dx-list-item dxd-back-highlighted"> <div class="dx-collapsing-image" data-bind="template: \'dxrd-svg-collapsed\', css: { \'dx-image-expanded\': !collapsed() }" style="display:inline-block;  margin-left: 5px;"></div> <span class="dx-item-content dx-list-item-content" style="padding-left: 17px" data-bind="text: name"></span> </div> </div> <div class="dx-accordion-content dxd-back-primary"> \x3c!-- ko foreach: items --\x3e <div class="dx-filtereditor-popup-item dx-item dx-list-item dxd-list-item-back-color dxd-back-highlighted"> <span class="dx-item-content dx-list-item-content" style="padding-left: 17px" data-bind="text: name, attr: { \'title\': name }, click: function() { $parents[1].click($data); }"></span> </div> \x3c!--/ko --\x3e </div> </div> \x3c!--/ko --\x3e </div>',"dxqb-filtereditor-parameterspopup":'<div class="dx-widget" data-bind="dxScrollView: { showScrollbar: \'onHover\' }"> \x3c!-- ko if: $parent.viewModel.canCreateParameters --\x3e <div class="dx-filtereditor-popup-item dx-item dx-list-item dxd-list-item-back-color dxd-back-highlighted"> <span class="dx-item-content dx-list-item-content" data-bind="text: $parent.viewModel.defaultDisplay(), click: function() { $parent.viewModel.isEditable(true); $parent.viewModel._parameterName(\'\'); $parent.visible(false); }"></span> </div> \x3c!-- /ko --\x3e \x3c!-- ko foreach: data --\x3e <div class="dx-filtereditor-popup-item dx-item dx-list-item dxd-list-item-back-color dxd-back-highlighted"> <span class="dx-item-content dx-list-item-content" data-bind="text: name, click: function() { $parent.click($data); } "></span> </div> \x3c!-- /ko --\x3e </div>',"dxqb-treelist-item-with-search":'<div data-bind="visible: visible"> \x3c!-- ko template: "dxqb-treelist-header-item-with-search" --\x3e \x3c!-- /ko --\x3e </div>',"dxqb-treelist-header-item-with-search":'<div class="dx-treelist-item dxd-list-item-back-color dxd-back-highlighted" data-bind="event: { dblclick: function() { $data.dblClickHandler ? $data.dblClickHandler($data) : $data.toggleCollapsed() } }, styleunit: padding, css: { \'dx-treelist-item-selected dxd-state-selected\': isSelected() || isMultiSelected() }"> <div class="dx-treelist-collapsedbutton"></div> <div class="dx-treelist-caption"> <div class="dx-treelist-selectedcontent" data-bind="click: toggleSelected,  draggable: isDraggable ? dragDropHandler : null"> <div class="dx-treelist-image" data-bind="css: $data.imageClassName, template: {name: $data.imageTemplateName, if: !!ko.unwrap($data.imageTemplateName)}, attr: { title: text }"> </div> \x3c!-- ko template: { name: \'dx-treelist-item-text-content\' } --\x3e \x3c!-- /ko --\x3e </div> </div> </div>',"dxrd-page-choose-datasource-type":"<div class=\"dxrd-wizard-type-page\" data-bind=\"css: $data._extendCssClass('type-page')\"> \x3c!-- ko foreach: typeItems --\x3e <div data-bind=\"event: { click: $parent._itemClick, dblclick: function() { $parent._goToNextPage() } }, attr: { class: 'dxd-back-highlighted dxd-state-normal dxrd-wizard-type-item dx-fontsize-reestablished dxrd-wizard-type-item-border-color dxd-list-item-back-color ' + $parent._extendCssClass('type-item')}, css: { 'dxd-border-secondary dxd-back-secondary': $parent._IsSelected($data) } \"> <div data-bind=\"attr: { class: 'dxrd-wizard-type-image ' + $parent._extendCssClass('type-image') }, css: imageClassName, template: imageTemplateName\"> </div> <div class=\"dxrd-wizard-type-text\" data-bind=\"text: text, attr: { title: text }, css: $parent._extendCssClass('type-text')\"></div> </div> \x3c!-- /ko --\x3e </div>","dx-wizard-fullscreen":'\x3c!-- ko if: $data && $data.isVisible() --\x3e <div class="dx-fullscreen-wizard dx-editors" data-bind="css: { \'dx-rtl\': $root.rtl, \'dx-ltr\': !$root.rtl }"> <div class="dxrd-wizard dxrd-report-wizard dx-editors dxd-text-primary dxd-back-primary2" data-bind="css: _extendCssClass"> <div class="dxrd-wizard-steps-container dxd-back-primary" data-bind="visible: $data.navigationPanel().isVisible"> <div class="dxrd-wizard-title dxd-border-primary" data-bind="text: _description(), attr: {\'title\': _description() }"></div> \x3c!-- ko with: navigationPanel --\x3e <div class="dxrd-wizard-steps" data-bind="foreach: _steps"> <div class="dxrd-wizard-steps-relative" style="position:relative" data-bind="visible: $data.visible"> <div class="dxrd-wizard-steps-content" data-bind="click: $data.clickAction, text: $data.text, attr: {\'title\': $data.text }, css: { \'dxrd-disabled\': $data.disabled, \'dxd-back-secondary\': $data.isActive() }"></div> <div class="dxrd-wizard-steps-marker dxd-back-primary2" data-bind="visible: $data.isActive"></div> </div> </div> \x3c!-- /ko --\x3e </div> <div class="dxrd-wizard-content" data-bind="css: { \'withoutPanel\': !$data.navigationPanel().isVisible() }"> <div class="dxrd-wizard-part-description dxd-back-contrast"> <div class="dxrd-wizard-part-description-text dxd-text-primary dxd-border-primary" data-bind="text: _pageDescription()"></div> </div> \x3c!-- ko with: _currentPage --\x3e <div class="dxrd-wizard-work-content"> <div class="dxrd-wizard-work-content-relative"> <div data-bind="template: { name: template, data: page } "></div> </div> </div> \x3c!-- /ko --\x3e <div class="dxrd-wizard-load-panel dxd-text-primary" data-bind="dxLoadPanel: _loadPanelViewModel($element)"> </div> <div class="dxrd-wizard-navigation"> <div data-bind="dxButton: cancelButton" class="dxrd-wizard-btn left"></div> <div data-bind="dxButton: finishButton" class="dxrd-wizard-btn right"></div> <div data-bind="dxButton: nextButton" class="dxrd-wizard-btn right"></div> <div data-bind="dxButton: previousButton" class="dxrd-wizard-btn right"></div> </div> </div> </div> </div> \x3c!-- /ko --\x3e',"dx-wizard-fullscreen-page":'\x3c!-- ko if: $data._sections.length > 0 --\x3e <div style="position:absolute;" data-bind="foreach: _sections, css: _className, styleunit: { top: _parentMarginOffset, left: _parentMarginOffset, right: _parentMarginOffset, bottom: _parentMarginOffset }"> <div class="dx-border-inheritor dxd-border-accented"> <div class="dxrd-report-page-tile dxd-border-secondary" data-bind="css: { \'dxrd-disabled\': !$data.page() }, style: $parent._pageCss[$data.pageId]"> <div class="dxrd-report-page-tile-title" data-bind="visible: $parent._showPageDescription(), text: $parent._getPageDescription($index(), $data), attr: { title: $parent._getPageDescription($index(), $data) }"></div> \x3c!-- ko if: $data.page() !== null --\x3e \x3c!-- ko with: page --\x3e <div class="dxrd-report-page-tile-content" data-bind="template: { name: $parent.metadata.template, data: page }, dxScrollView: { showScrollbar: \'onHover\'}"></div> \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko if: $data.page() === null --\x3e <div class="dxrd-report-page-tile-content dx-default-border-style dxd-border-secondary"> <div class="dxrd-wizard-page dxrd-wizard-disabled-content" data-bind="text: metadata.disabledText"></div> </div> \x3c!-- /ko --\x3e </div> </div> </div> \x3c!-- /ko --\x3e',"dxrd-jsondatasource-fields-page":'<div class="dxrd-wizard-page dx-jsonschema-page dx-frameless-style"> <div class="dx-default-border-style dxd-border-secondary dxrd-wizard-dataMember dx-fieldset" style="height:100%"> <div class="dx-field"> <div class="dx-field-label" data-bind="text: _rootElementTitle"></div> <div class="dx-field-value" data-bind="dxSelectBox: { dataSource: _rootElementList, value: _selectedRootElement, displayExpr: \'fullPath\', displayCustomValue: true, useItemTextAsTitle: true, dropDownOptions: { container: $root.getPopupContainer($element) } }"></div> </div> <div class="dxrd-wizard-add-queries-page dxrd-wizard-page-treelist-accordion-style dxd-border-secondary" data-bind="dxScrollView: { showScrollbar: \'onHover\' }"> <div data-bind="treelist: _fieldListModel" style="width:100%; height: 100%;"></div> </div> </div> </div>',"dxrd-page-jsonsource":'<div class="dxrd-wizard-page dx-jsonsource-page dx-frameless-style"> <div class="dx-default-border-style dxd-border-secondary dxrd-wizard-dataMember dx-fieldset" style="height: 100%" data-bind="dxScrollView: { showScrollbar: \'onHover\', useNative: false, scrollByThumb: true }, dxValidationGroup: $data._validationGroup || {}"> <div class="dx-field"> <div class="dx-property-required dx-field-label" data-bind="text: _jsonConnectionTitle, attr: { \'title\': _jsonConnectionTitle }"></div> <div class="dx-field-value" data-bind="dxTextBox: { value: _connectionName }, dxValidator: { validationRules: $data._connectionNameValidationRules || [] }"></div> </div> <div class="dx-field"> <div class="dx-field-label" data-bind="text: _jsonSourceTitle, attr: { \'title\': _jsonSourceTitle }"></div> <div class="dx-field-value" data-bind="dxLocalizedSelectBox: { dataSource: _sources, value: _selectedSource, valueExpr:\'value\', displayExpr: \'displayValue\', displayCustomValue: true, dropDownOptions: { container: $root.getPopupContainer($element) } }"></div> </div> \x3c!-- ko with: _selectedSource --\x3e <div data-bind="dxValidationGroup: $data.validationGroup || {}"> <div data-bind="css: $data.cssClass"> \x3c!-- ko template: { name: \'dx-propertieseditor\', data: grid } --\x3e \x3c!-- /ko --\x3e </div> <div class="dxrd-wizard-validationsummary" data-bind="dxValidationSummary: $data.validationSummary || {}, visible: $data.validationSummary && !isValid()"></div> </div> \x3c!-- /ko --\x3e <div class="dxrd-wizard-validationsummary" data-bind="dxValidationSummary: $data._validationSummary || {}, visible: $data._validationSummary && _selectedSource().validationSummary && !canNext()"></div> </div> </div>',"dx-property-json-string-editor":'<div class="dx-field" data-bind="visible: visible"> \x3c!-- ko template: templateName --\x3e \x3c!-- /ko --\x3e </div>',"dxrd-page-dataSource":'<div class="dxrd-wizard-page"> \x3c!-- ko if: isDataSourceCreationAvailable --\x3e <div class="dxrd-wizard-datasourceoperation dxrd-radio-nowrap-ellipsis" style="margin-bottom: 15px" data-bind="dxRadioGroup: { value: selectedDataSourceOperation, items: dataSourceOperations, layout: \'vertical\' }"> <div data-options="dxTemplate : { name: \'item\' }"> <div class="dxrd-radio-nowrap-ellipsis-text" data-bind="text: text, attr: { \'title\': text }"></div> </div> </div> \x3c!-- /ko --\x3e <div class="dxrd-wizard-availabledatasources dx-default-border-style dxd-border-secondary"> <div class="dxrd-wizard-list" data-bind="dxList: { dataSource: availableDataSources, selectedItems: selectedDataSource, focusStateEnabled:false, editEnabled: true, height: dataSourcesListHeight, editConfig: { selectionEnabled: false }, selectionMode: \'single\', activeStateEnabled: false, disabled: createNewDataSource, noDataText: $root.dx._static.noDataText() }"> <div data-options="dxTemplate : { name: \'item\' }"> <div data-bind="text: name"></div> </div> </div> </div></div>',"dxrd-page-selectitems":"<div class=\"dxrd-wizard-page\"> \x3c!-- ko template: { name: 'dxrd-page-selectitems-radio-group', data: $data } --\x3e \x3c!-- /ko --\x3e \x3c!-- ko template: { name: 'dxrd-page-selectitems-list', data: $data } --\x3e \x3c!-- /ko --\x3e </div>","dxrd-page-selectitems-radio-group":'\x3c!-- ko if: canCreateNew --\x3e <div class="dxrd-wizard-datasourceoperation dxrd-radio-nowrap-ellipsis" style="margin-bottom: 15px" data-bind="dxRadioGroup: { value: selectedOperation, items: operations, layout: \'vertical\' }"> <div data-options="dxTemplate : { name: \'item\' }"> <div class="dxrd-radio-nowrap-ellipsis-text" data-bind="text: text, attr: { \'title\': text }"></div> </div> </div> \x3c!-- /ko --\x3e',"dxrd-page-selectitems-list":'<div class="dxrd-wizard-availabledatasources dx-default-border-style dxd-border-secondary" data-bind="styleunit: { top: $data.canCreateNew() ? 65 : 0 }"> <div class="dxrd-wizard-list dxd-border-primary" data-bind="dxList: { dataSource: items, onSelectionChanged: function(e) { selectedItems(e.addedItems) }, selectedItems: selectedItems.peek(), hoverStateEnabled:false, editEnabled: true, height: \'100%\', editConfig: { selectionEnabled: false }, searchExpr: \'name\', searchEnabled: true, selectionMode: \'single\', activeStateEnabled: false, disabled: _createNew, noDataText: $root.dx._static.noDataText(), searchEditorOptions: { placeholder: $root.dx._static.searchPlaceholder() } }"> <div data-options="dxTemplate : { name: \'item\' }" data-bind="event: { dblclick: function(e){ $parent.onDblClick() } }"> <div data-bind="text: $parent._displayExpr($data)"></div> </div> </div> </div>',"dxrd-page-specify-connection":"<div class=\"dxrd-wizard-page\"> \x3c!-- ko template: { name: 'dxrd-page-selectitems-radio-group', data: $data } --\x3e \x3c!-- /ko --\x3e \x3c!-- ko if: !_createNew() --\x3e \x3c!-- ko template: { name: 'dxrd-page-selectitems-list', data: $data } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko if: _createNew --\x3e <div style=\"position:relative; top: 65px; height: calc(100% - 65px)\"> \x3c!-- ko template: { name: 'dxrd-page-jsonsource', data: _specifySourceData } --\x3e \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e</div>","dx-jsonwizard-parametercollection":'<div class="dx-field"> \x3c!-- ko with: value --\x3e <div class="dx-jsonwizard-parameter-left-container"> <div class="dx-jsonwizard-parameter"> <div data-bind="dxLocalizedSelectBox: { dataSource: _parameterTypes, value: itemType, valueExpr:\'value\', displayExpr: \'displayValue\', displayCustomValue: true, dropDownOptions: { container: $root.getPopupContainer($element) } }"></div> </div> </div> <div class="dx-jsonwizard-parameter-middle-container"> <div data-bind="dxTextBox: { value: name, placeholder: $data.namePlaceholder() }, dxValidator: { validationRules: $parent.editor.editorOptions.nameValidationRules || [] }"></div> </div> <div class="dx-jsonwizard-parameter-right-container"> <div class="dx-jsonwizard-parameter"> <div data-bind="dxTextBox: { value: _editingValue, placeholder: $data.valuePlaceholder() }, visible: !$data.isExpression()"></div> <div data-bind="dxExpressionEditor: { options: _expression, fieldListProvider: $parent.editor.editorOptions.itemsProvider, displayNameProvider: $root.displayNameProvider && $root.displayNameProvider() }, visible: $data.isExpression"></div> </div> </div> \x3c!-- ko template: { name: \'dx-wizard-menu-box-editorswitch\', data: $data } --\x3e \x3c!-- /ko  --\x3e \x3c!-- /ko --\x3e </div>',"dx-jsonwizard-loadfile-editor":"<div data-bind=\"dxFileImagePicker: { value: value, placeholderId: 'File', accept:'.json,.txt' }\"></div>","dx-jsonwizard-jsonstring-editor":'\x3c!-- ko if: !aceAvailable --\x3e <div class="dxrd-jsonwizard-jsonstring-editor dxd-border-secondary dxd-back-primary2" data-bind="dxTextArea: { value: value, spellcheck: false, isValid: isValid }, dxValidator: $data.validator || { validationRules: jsonStringValidationRules || [] }"></div> \x3c!-- /ko --\x3e \x3c!-- ko if: aceAvailable --\x3e <div class="dx-texteditor dx-editor-outlined dxrd-jsonwizard-jsonstring-editor dxd-wizard-jsoneditor dxd-border-secondary dxd-back-primary2" data-bind="dxAceEditor: { value: value, editorContainer: editorContainer, options: aceOptions, additionalOptions: additionalOptions }, css: { \'dx-invalid\' : !value() || !isValid() }"></div> \x3c!-- /ko --\x3e <div class="dxd-upload-file"> <div class="dxd-back-primary2"></div> <div data-bind="dxButtonWithTemplate: { onClick: uploadFile, hint: $data.getUploadTitle(), icon: \'dxrd-svg-wizard-Download\' }"></div> </div>',"dxrd-wizard-add-queries-page":'<div class="dxrd-wizard-page dxrd-wizard-add-queries-page dxrd-wizard-page-treelist-accordion-style"> <div data-bind="treeListSearchPanel: {controllers: ko.unwrap(_fieldListModel).treeListController}"></div> <div class="dxrd-wizard-dataMember dxd-border-secondary" data-bind="dxScrollView: { showScrollbar: \'onHover\', height: _scrollViewHeight }"> <div data-bind="treelist: _fieldListModel" style="width:100%; height: 100%;"></div> </div> \x3c!-- ko ifnot: $data.disableCustomSql --\x3e \x3c!-- ko template: { name: \'dxqb-popup-selectStatment\', data: _popupSelectStatement } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko template: { name: \'dxrd-querybuilder-popup\', data: _popupQueryBuilder } --\x3e \x3c!-- /ko --\x3e <div class="dxrd-wizard-load-panel dxd-text-primary" data-bind="dxLoadPanel: _loadPanelViewModel($element)"> </div> </div>',"dxd-custom-query-treelisitem":'<div data-bind="visible: visible"> <div class="dx-background-inheritor dxd-back-highlighted dxd-state-selected"> <div class="dx-treelist-item dx-fontsize-reestablished dxd-list-item-back-color" data-bind=" styleunit: padding, css: { \'dx-treelist-item-selected dxd-state-selected dxd-back-secondary\': isSelected }"> <div class="dx-treelist-collapsedbutton" data-bind="css: nodeImageClass"></div> <div class="dx-treelist-caption"> \x3c!-- ko if: actions && actions.length > 0 --\x3e <div class="dx-treelist-action-container" data-bind="visible: isSelected() || isHovered()"> \x3c!-- ko foreach: actions --\x3e \x3c!-- ko if: $data.templateName --\x3e \x3c!-- ko template: templateName  --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko if: !$data.templateName --\x3e <div class="dx-treelist-action" data-bind="dxButtonWithTemplate: { onClick: function() { clickAction($parent); }, icon: $data.imageTemplateName, iconClass: $data.imageClassName, disabled: $data.disabled && $data.disabled() }, attr: { title: text }"></div> \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div> \x3c!-- /ko  --\x3e <div class="dx-treelist-selectedcontent" data-bind="click: toggleSelected"> <div class="dx-treelist-text-wrapper"> <div class="dx-add-queries-page-checkbox" data-bind="dxCheckBox: { value: data.checked }, click: function(treeNode, e) { treeNode.data.toggleChecked(); e.stopPropagation(); return true; }"></div> <div class="dx-treelist-text dx-treelist-text-with-checkbox"> <div class="dx-queryname-textbox" data-bind="dxTextBox: { value: queryName }"></div> </div> </div> </div> </div> </div> </div> </div>',"dxrd-configure-query-parameters-page":'<div class="dxrd-wizard-page dxrd-configure-query-parameters-page dxrd-wizard-page-treelist-accordion-style"> <div class="dxrd-wizard-dataMember dxd-border-secondary" data-bind="dxScrollView: { showScrollbar: \'onHover\', height: _scrollViewHeight }"> \x3c!-- ko if: !!$data._fieldListModel() --\x3e <div data-bind="treelist: _fieldListModel" style="width:100%; height: 100%;"></div> \x3c!-- /ko --\x3e </div> </div>',"dxrd-wizard-configure-relations-page":"<div class=\"dxrd-wizard-page dxrd-wizard-configure-relations-page\"> \x3c!-- ko if: $data._relationsEditor() --\x3e \x3c!-- ko template: { name: 'dxrd-masterDetail-editor-complete-wizard', data: $data._relationsEditor }--\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div>","dxrd-masterDetail-editor-complete-wizard":"<div class=\"dx-filtereditor dxrd-masterDetail-editor-complete-wizard dxd-border-secondary\"> \x3c!-- ko if: $data --\x3e <div class=\"dx-filtereditor-tree dxd-border-secondary\" data-bind=\"dxScrollView: { showScrollbar: 'onHover', direction: 'both' }\" style=\"cursor: default\"> \x3c!-- ko foreach: masterQueries --\x3e <div class=\"criteria-operator-group\"> <div class=\"criteria-operator-group-item\"> <div class=\"criteria-operator-text dxd-filter-editor-text-color criteria-operator-item-group dxd-filter-editor-group-back-color stylized\" data-bind=\"text: queryName\"></div> <div data-bind=\"service: { name: 'createRelation' }\"></div> </div> <div class=\"criteria-operator-content\"> \x3c!-- ko template: { name: 'dx-masterDetail-editor-relation', foreach: relations }--\x3e \x3c!-- /ko --\x3e </div> </div> \x3c!-- /ko --\x3e </div> <div class=\"dx-selectbox-popup-wrapper dx-dropdownlist-popup-wrapper dx-filtereditor-criteriaoperator-popup dx-dropdowneditor-overlay\" data-bind=\"dxPopupWithAutoHeight: { width: '170px', height: '235px', focusStateEnabled: false, position: $root.rtl ? { my: 'right top', at: 'right bottom', of: popupService.target, collision: 'flipfit' } : { my: 'left top', at: 'left bottom', of: popupService.target, collision: 'flipfit' }, wrapperAttr: { class: 'dx-selectbox-popup-wrapper dx-dropdownlist-popup-wrapper dx-filtereditor-criteriaoperator-popup dx-dropdowneditor-overlay' }, container: $root.getPopupContainer($element), target: popupService.target, showTitle: false, showCloseButton: false, animation: {}, closeOnOutsideClick: true, shading: false, visible: popupService.visible }\"> \x3c!-- ko with: popupService--\x3e \x3c!-- ko with: data --\x3e \x3c!-- ko template: template--\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e </div>","dxqb-popup-selectStatment":'<div data-bind="dxPopup: { animation: { show: { type: \'fade\', from: 0, to: 1, duration: 700 }, hide: { type: \'fade\', from: 1, to: 0, duration: 700 } }, wrapperAttr: { class: \'dxqb-preview\' }, visible: isVisible, title: title(), showTitle: true, resizeEnabled: true, shading: true, shadingColor: \'transparent\', fullScreen: false, width: 800, height: 544, container: closest($element, \'.dxrd-wizard\'), position: { of: closest($element, \'.dx-designer-viewport\') }, onHidden: function() { $data.data(null) }, focusStateEnabled: false }"> <div class="dxqb-preview-popup-content"> <div class="dxqb-show-query-string-content dx-widget"> \x3c!-- ko if: !aceAvailable --\x3e <div class="dxrd-show-query-string-editor" data-bind="dxTextArea: { value: data, valueChangeEvent: \'keyup\', disabled: false }"></div> \x3c!-- /ko --\x3e \x3c!-- ko if: aceAvailable --\x3e <div class="dxrd-show-query-string-editor"> <div class="dxrd-show-query-string-editor-content"> <div class="dx-sql_editor dxd-back-primary2" data-bind="dxAceEditor: { value: data, additionalOptions: additionalOptions, options: aceOptions }"></div> </div> </div> \x3c!-- /ko --\x3e </div> </div> <div class="dxqb-preview-popup-buttons dxd-border-secondary"> <div data-bind="dxButton: { text: okButtonText(), onClick: okButtonHandler }" class="dxqb-preview-popup-button"></div> </div> </div>',"dxrd-treelist-with-checkbox":'<div data-bind="visible: visible"> \x3c!-- ko if: hasContent --\x3e \x3c!-- ko template: "dx-treelist-accordion-item-with-checkbox" --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko ifnot: hasContent --\x3e \x3c!-- ko template: "dx-treelist-header-item-with-checkbox" --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div>',"dx-treelist-accordion-item-with-checkbox":'<div data-bind="dxdAccordionExt: { collapsed: collapsed, lazyContentRendering: true }"> \x3c!-- ko template: "dx-treelist-header-item-with-checkbox" --\x3e \x3c!-- /ko --\x3e <div class="dx-fieldset dx-accordion-content dxd-back-primary"> \x3c!-- ko with: data --\x3e \x3c!-- ko template: { name: contenttemplate } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div> </div>',"dx-treelist-header-item-with-checkbox":'<div class="dx-background-inheritor dxd-back-highlighted dxd-state-selected"> <div data-bind="event: { dblclick: function() { $data.dblClickHandler ? $data.dblClickHandler($data) : $data.toggleCollapsed() }, mouseenter: mouseenter, mouseleave: mouseleave }, attr: { class: \'dx-treelist-item dx-fontsize-reestablished dxd-list-item-back-color \' + ($data.hasItems ? \'dx-treelist-list-item-content \' : \'dx-treelist-field-item-content \') + ($data.isSelected() ? \'dx-treelist-item-selected dxd-state-selected dxd-back-secondary\' : \'\') }, styleunit: padding"> \x3c!-- ko ifnot: $data.hasItems--\x3e \x3c!-- ko if: $data.showIcon --\x3e <div class="dx-treelist-image" data-bind="css: $data.imageClassName, template: {name: $data.imageTemplateName, if: !!ko.unwrap($data.imageTemplateName)}, attr: { title: text }"> </div> \x3c!-- /ko --\x3e \x3c!-- ko ifnot: $data.showIcon --\x3e <div class="dx-treelist-collapsedbutton" data-bind="css: nodeImageClass"></div> \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko if: $data.hasItems --\x3e <div class="dx-treelist-collapsedbutton" data-bind="css: nodeImageClass, visible: hasItems, template: \'dxrd-svg-collapsed\', click: toggleCollapsed"></div> \x3c!-- /ko --\x3e <div class="dx-treelist-caption"> \x3c!-- ko if: actions && actions.length > 0 --\x3e <div class="dx-treelist-action-container" data-bind="visible: isSelected() || isHovered()"> \x3c!-- ko foreach: actions --\x3e \x3c!-- ko if: $data.templateName --\x3e \x3c!-- ko template: templateName  --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko if: !$data.templateName --\x3e <div class="dx-treelist-action" data-bind="dxButtonWithTemplate: { onClick: function() { clickAction($parent); }, icon: $data.imageTemplateName, iconClass: $data.imageClassName, disabled: $data.disabled && $data.disabled() }, attr: { title: text }"></div> \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div> \x3c!-- /ko  --\x3e <div class="dx-treelist-selectedcontent" data-bind="event: { dblclick: function() { $data.dblClickHandler && $data.dblClickHandler($data); } }, click: toggleSelected,  draggable: isDraggable ? dragDropHandler : null, css: { \'dxrd-disabled\': $data.data.disabled && $data.data.disabled() }"> <div class="dx-treelist-text-wrapper"> <div class="dx-add-queries-page-checkbox" data-bind="dxCheckBox: { value: data.checked }, click: function(treeNode, e) { treeNode.data.toggleChecked(); e.stopPropagation(); return true; }"></div> \x3c!--ko if: treeListController.searchEnabled --\x3e <div class="dx-treelist-text dx-highlighted-search-text dx-treelist-text-with-checkbox" data-bind="searchHighlighting: { text: text, textToSearch: treeListController.textToSearch, searchOptions: treeListController.searchOptions }, attr: { title: text }"></div> \x3c!-- /ko  --\x3e \x3c!--ko ifnot: treeListController.searchEnabled --\x3e <div class="dx-treelist-text dx-treelist-text-with-checkbox" data-bind="text: text, attr: { title: text }"></div> \x3c!-- /ko  --\x3e </div> </div> </div> </div></div>',"dx-treelist-action-with-popover":'<div class="dx-treelist-action-with-popover" style="display: inline-block"> <div class="dx-treelist-action" data-bind="dxButtonWithTemplate: { onClick: function() { clickAction($parent); }, icon: $data.imageTemplateName, iconClass: $data.imageClassName , disabled: $data.disabled && $data.disabled() }, attr: { title: text }"></div> <div data-bind="dxPopover: { width: 200, position: !$root.rtl ? \'left\' : \'right\', visible: $parent.data.popoverVisible, target: \'.dx-treelist-action-with-popover\', container: $root.getPopupContainer($element)}"> <div data-bind="dxList: { dataSource: $parent.data.popoverListItems(), onItemClick: $parent.data.itemClickAction }"> <div data-options="dxTemplate : { name: \'item\' }"> <div class="dx-text-content" data-bind="text: name, attr: { title: name }"></div> </div> </div> </div> </div>',"dx-treelist-accordion-contenttemplate-custom-with-actions":'<div data-bind="dxPropertyGrid: { target: $parent.data.dataSourceParameter, level: $parent.data.editor.level + 1 }"></div>',"dxrd-page-objectdatasource-datamembers":'<div class="dx-objectdatasource-datamembers-page"> <div data-bind="dxList: { dataSource: _chooseObjectDataMember.dataMembers, selectedItems: _chooseObjectDataMember.selectedDataMembers, selectionMode: \'single\', activeStateEnabled: false, focusStateEnabled: false, searchExpr: \'displayName\', searchEnabled: true, noDataText: $dx._static.noDataText(), searchEditorOptions: { placeholder: $root.dx._static.searchPlaceholder() } }"> <div data-options="dxTemplate : { name: \'item\' }"> <div data-bind="text: $data.displayName"></div> </div> </div> </div>',"dxrd-page-objectdatasource-types":'<div class="dx-objectdatasource-types-page"> <div class="dxd-border-primary" data-bind="treeListSearchPanel: {controllers: _chooseObjectType.availableTypesTreelistModel.treeListController}"></div> <div data-bind="dxScrollView: { showScrollbar: \'onHover\', height: _chooseObjectType._scrollViewHeight}"> <div data-bind="treelist: _chooseObjectType.availableTypesTreelistModel"></div> \x3c!-- ko if: _chooseObjectType.types && !_chooseObjectType.types().length --\x3e <div class="dxa-no-data-message" data-bind="text: $root.dx._static.noDataText()"></div> \x3c!-- /ko--\x3e </div> </div>',"dxrd-page-objectsource":'<div class="dxrd-wizard-page dx-objectsource-page dx-frameless-style" style="position: absolute; top: 45px; left: 45px; right: 45px; bottom: 45px; margin:0"> \x3c!-- ko foreach: _sections--\x3e <div class="dx-border-inheritor dxd-border-accented"> <div class="dxrd-report-page-tile dxd-border-secondary" data-bind="style: position, css: { \'dxrd-disabled\': $data.disabled() }"> <div class="dxrd-report-page-tile-title" data-bind="text: $parent.showDescription($index(), description), attr: { title: $parent.showDescription($index(), description) }"></div> <div class="dxrd-report-page-tile-content dx-default-border-style dxd-border-secondary"> \x3c!-- ko if: !$data.disabled() --\x3e \x3c!-- ko template: { name: template, data: data } --\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e \x3c!-- ko if: $data.disabled() --\x3e <div class="dxrd-wizard-page dxrd-wizard-disabled-content" data-bind="text: disabledText"></div> \x3c!-- /ko --\x3e </div> </div> </div> \x3c!-- /ko --\x3e </div>',"dx-objectdatasource-types-section":'<div class="dx-objectdatasource-types-section"> <div data-bind="treeListSearchPanel: {controllers: availableTypesTreelistModel.treeListController}"></div> <div data-bind="dxScrollView: { showScrollbar: \'onHover\', height: _scrollViewHeight}"> <div data-bind="treelist: availableTypesTreelistModel"></div> </div> </div>',"dx-objectdatasource-datamembers-section":'<div class="dx-objectdatasource-parameters-datamembers-section"> <div class="dxd-border-primary" data-bind="dxList: { dataSource: dataMembers, selectedItems: selectedDataMembers, selectionMode: \'single\', activeStateEnabled: false, focusStateEnabled: false, searchExpr: \'displayName\', searchEnabled: true, noDataText: $root.dx._static.noDataText(), searchEditorOptions: { placeholder: $root.dx._static.searchPlaceholder() } }"> <div data-options="dxTemplate : { name: \'item\' }"> <div data-bind="text: $data.displayName"></div> </div> </div> </div>',"dx-objectdatasource-parameters-grid":'\x3c!-- ko if: !!$data --\x3e <div class="dx-field dxd-back-primary"> <div class="dx-field-label" data-bind="text: $data.displayName, attr: { \'title\': $data.displayName}"></div> </div> <div class="dxrd-properties-wrapper"> \x3c!-- ko foreach: _grids --\x3e \x3c!-- ko template: { name: \'dx-propertieseditor\', data: $data }--\x3e \x3c!-- /ko --\x3e \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e',"dx-objectdatasource-expression-popup":'\x3c!-- ko if: $data.value() --\x3e <div data-bind="dxExpressionEditor: getOptions({ options: value, fieldListProvider: value().itemsProvider, displayNameProvider: $root.displayNameProvider && $root.displayNameProvider() })"></div> \x3c!-- /ko --\x3e',"dx-objectdatasource-parameters-section":"<div class=\"dx-objectdatasource-parameters-section\"> <div class=\"dx-fieldset\" data-bind=\"dxScrollView: { showScrollbar: 'onHover'}\"> \x3c!-- ko template: { name: 'dx-objectdatasource-parameters-grid', data: _ctorParametersObject }--\x3e \x3c!-- /ko --\x3e \x3c!-- ko template: { name: 'dx-objectdatasource-parameters-grid', data: _dataMemberParametersObject }--\x3e \x3c!-- /ko --\x3e </div> </div>","dx-objectdatasource-configureparameters-page":"<div class=\"dxrd-report-page-tile-content dx-default-border-style dxd-border-secondary\" data-bind=\"dxScrollView: { showScrollbar: 'onHover'}\"> \x3c!-- ko template: { name: 'dx-objectdatasource-parameters-section', data: _chooseObjectParameters } --\x3e \x3c!-- /ko  --\x3e </div>","dxrd-page-configure-parameters":'<div class="dxrd-wizard-page"> <div class="dxrd-datasource-parameters" data-bind="dxCollectionEditor: parametersEditorOptions"></div> </div>',"dxrd-parameter-collection-item":'<div data-bind="dxdAccordion: { collapsed: collapsed }"> <div class="dxrd-group-header dx-accordion-header dxd-text-primary" style="border-bottom: 0" data-bind="styleunit: { \'marginLeft\' : editor.padding }, css: { \'dxrd-group-header-collapsed dxd-border-primary\': collapsed() }"> <div class="dx-collapsing-image" data-bind="template: \'dxrd-svg-collapsed\', css: { \'dx-image-expanded\': !collapsed() }" style="display:inline-block;"></div> <span class="dxrd-group-header-text dxd-text-primary" data-bind="text: value().name"></span> </div> <div class="dx-accordion-content"> <div data-bind="dxPropertyGrid: { target: value, level: editor.level + 1 }"></div> </div> </div>',"dxrd-wizard-datasource-parameters":'<div class="dx-fieldset" style="height:100%"> <div class="dx-collectioneditor" style="height:100%"> <div class="dxrd-datasource-parameters-collection"> <div class="dxrd-datasource-parameters-container dxd-border-secondary" data-bind="dxScrollView: { showScrollbar: \'onHover\', useNative: false, scrollByThumb: true  }"> \x3c!-- ko if: values().length === 0 --\x3e <div class="dx-collectioneditor-empty dxd-empty-area-placeholder-text-color dxd-text-info"> <span class="dxrd-datasource-parameters-empty-text" data-bind="text: getDisplayTextEmptyArray()"></span> </div> \x3c!-- /ko --\x3e \x3c!-- ko if: values().length !== 0 --\x3e <div class="dx-collectioneditor-items" data-bind="foreach: values"> <div class="dx-background-inheritor dxd-back-highlighted dxd-state-selected" data-bind="with: $parent.createCollectionItemWrapper($parents[1], $index, $element)"> <div class="dx-collectioneditor-item-container dx-fontsize-reestablished dxd-list-item-back-color" data-bind="dxclick: $parents[1].select, css: { \'dxd-state-selected dxd-back-secondary\' : $parents[1].selectedIndex() === $index() }"> <div class="dx-collection-item"></div> </div> </div> </div> \x3c!-- /ko --\x3e </div> </div> <div class="dxrd-collectioneditor-wizard-buttons" data-bind="visible: showButtons"> <div class="dxrd-collectioneditor-action" data-bind="dxButton: { onClick: add, text: getDisplayTextButton(\'add\') }, attr: { title: getDisplayTextButton(\'add\') }"></div> <div class="dxrd-collectioneditor-action" data-bind="dxButton: { onClick: remove, disabled: selectedIndex() === null, text: $parent.removeButtonTitle }, attr: { title: $parent.removeButtonTitle }"></div> </div> </div> </div>',"dxrd-page-connectionstring":'<div class="dxrd-wizard-page"> <div class="dx-wizard-connections dx-default-border-style dxd-border-secondary"> <div class="dxrd-wizard-list dxd-border-primary" data-bind="dxList: { dataSource: _connectionStrings, onSelectionChanged: function(e) { _selectedConnectionString(e.addedItems) },  selectedItems: _selectedConnectionString.peek(), focusStateEnabled: false, searchEnabled: true, searchExpr: \'description\', editEnabled: true, editConfig: { selectionEnabled: true }, selectionMode: \'single\', activeStateEnabled: false, noDataText: $root.dx._static.noDataText(), searchEditorOptions: { placeholder: $root.dx._static.searchPlaceholder() } }"> <div data-options="dxTemplate : { name: \'item\' }"> <div data-bind="text: $data[\'description\'] || $data[\'name\']"></div> </div> </div> </div> </div>',"dxrd-select-control":'<div class="dxrd-create-query-page-query-header"> <div class="dx-editquery-editor" data-bind="text: caption()"></div> <div class="dxd-hyperlink-color dxd-text-accented" data-bind="visible: !runQueryBuilderDisabled, text: $parent.runQueryBuilderBtnText, click: function() { $parent.runQueryBuilder() }"></div> </div> \x3c!-- ko if: !aceAvailable --\x3e <div class="dxrd-wizard-list dxrd-create-query-page-editor dx-default-border-style dxd-border-secondary dx-editquery-editor" data-bind="dxTextArea: { value: sqlString, valueChangeEvent: \'keyup input blur\', readOnly: disableCustomSql() }"></div> \x3c!-- /ko --\x3e \x3c!-- ko if: aceAvailable --\x3e <div class="dxrd-create-query-page-editor dxrd-create-query-page-editor-border dxd-border-secondary dx-editquery-editor"> <div class="dxrd-create-query-page-editor-content"> <div class="dx-sql_editor dxd-back-primary2" data-bind="dxAceEditor: { value: sqlString, additionalOptions: additionalOptions, options: aceOptions }, css: { \'dx-disabled-ace\': disableCustomSql() }"></div> </div> </div> \x3c!-- /ko --\x3e',"dxrd-procedures-control":'<div style="margin-top: 20px" class="dx-editquery-editor" data-bind="text: caption()"></div> <div class="dx-editquery-editor dx-default-border-style dxd-border-secondary"> <div class="dxrd-wizard-list dxrd-create-query-page-editor" data-bind="dxList: { dataSource: storedProcedures, searchEnabled: true, searchExpr: \'name\', onContentReady: scrollActiveItem, selectedItems: selectedProcedure, editEnabled: true, editConfig: { selectionEnabled: true }, selectionMode: \'single\', activeStateEnabled: false, noDataText: $root.dx._static.noDataText() }"> <div data-options="dxTemplate : { name: \'item\' }"> <div data-bind="text: $parent.generateStoredProcedureDisplayName($data)"></div> </div> </div> </div>',"dxrd-wizard-create-query-page":'<div class="dxrd-wizard-page dxrd-wizard-create-query-page"> <div class="dxrd-create-query-page-content"> <div data-bind="text: queryNameCaption()"></div> <div class="dx-editquery-editor" data-bind="dxTextBox: { value: queryName, placeholder: $data.placeholder() }"></div> <div class="dxrd-radio-nowrap-ellipsis" data-bind="dxRadioGroup: { value: selectedQueryType, layout: \'horizontal\', items: queryTypeItems }"> <div data-options="dxTemplate : { name: \'item\' }"> <div class="dxrd-radio-nowrap-ellipsis-text" data-bind="text: $parent.localizeQueryType($data), attr: { \'title\': $parent.localizeQueryType($data) }"></div> </div> </div> \x3c!-- ko template: { name: queryControl().template, data: queryControl() } --\x3e \x3c!-- /ko --\x3e </div> \x3c!-- ko template: { name: \'dxrd-querybuilder-popup\', data: popupQueryBuilder } --\x3e \x3c!-- /ko --\x3e </div>',"dxrd-querybuilder-popup":'<div data-bind="dxPopup: popupViewModel($element)"> \x3c!-- ko if: qbOptions --\x3e \x3c!-- ko if: isVisible --\x3e <div class="dxrd-querybuilder-popup-content"> <div style="height:100%;" data-bind="dxQueryBuilder: qbOptions"></div> </div> \x3c!-- /ko --\x3e <div class="dxrd-querybuilder-popup-buttons dxd-border-secondary"> <div data-bind="dxButton: { text: getDisplayText(\'previewResults\'), onClick: previewHandler, disabled: okButtonDisabled }" class="dxrd-querybuilder-popup-button-left"></div> <div data-bind="dxButton: { text: getDisplayText(\'cancel\'), onClick: cancelHandler }" class="dxrd-querybuilder-popup-button"></div> <div data-bind="dxButton: { text: getDisplayText(\'ok\'), onClick: okHandler, disabled: okButtonDisabled }" class="dxrd-querybuilder-popup-button"></div> </div> <div class="dxrd-wizard-load-panel dxd-text-primary" data-bind="dxLoadPanel:{ animation: { show: { type: \'fade\', from: 0, to: 1, duration: 700 }, hide: { type: \'fade\', from: 1, to: 0, duration: 700 } }, deferRendering: false, message: getDisplayText(\'loading\'), visible: showLoadIndicator, shading: true, shadingColor: \'transparent\'}"> </div> \x3c!-- /ko --\x3e </div>',"dxrd-querybuilder":'<div class="dx-designer dx-querybuilder" data-bind="template: \'dxrd-designer\'"> </div>',"dx-wizard-menu-box-editorswitch":"<div class=\"dxrd-editormenu-box dxd-property-grid-menu-box-color dxd-back-highlighted\" data-bind=\"css: { 'dxd-state-active': $data.isExpression() }, dxButtonWithTemplate: { onClick: switchEditors, icon: 'dxrd-svg-wizard-expressions' }\"> </div>","dx-wizard-headerNew":'<div class="dxrd-wizard-header-custom"> \x3c!-- ko with: _currentPage --\x3e <div class="dxrd-span-title" data-bind="text: $data.title || $parent.title"></div> <div class="dxrd-span-description" data-bind="text: description, attr: { title: description }"></div> \x3c!-- /ko --\x3e </div>',"dx-wizard-newlayout":'<div class="dxrd-wizard dx-editors dxd-text-primary" data-bind="dxPopup: { visible: isVisible, wrapperAttr: { class: \'dxrd-wizard dx-editors dxd-text-primary\' }, title: isVisible() ? title : \'\', showTitle: true, fullScreen: false, width: width, height: height, container: _container($element), titleTemplate: _titleTemplate, position: _wizardPopupPosition($element) }, cssArray: [ $data._extendCssClass, { \'dx-rtl\': $root.rtl, \'dx-ltr\': !$root.rtl }]"> <div class="dxrd-wizard-content"> \x3c!-- ko with: _currentPage --\x3e <div style="height: 100%" data-bind="template: { name: template, data: page } "></div> \x3c!-- /ko --\x3e <div class="dxrd-wizard-load-panel dxd-text-primary" data-bind="dxLoadPanel: _loadPanelViewModel($element)"></div> </div> <div class="dxrd-wizard-navigation"> <div data-bind="dxButton: cancelButton" class="dxrd-wizard-btn left"></div> <div data-bind="dxButton: finishButton" class="dxrd-wizard-btn right"></div> <div data-bind="dxButton: nextButton" class="dxrd-wizard-btn right"></div> <div data-bind="dxButton: previousButton" class="dxrd-wizard-btn right"></div> </div> </div>'})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(28),t(153),t(164),t(91),t(60),t(62),t(94),t(161),t(57),t(163),t(58),t(97),t(93),t(159),t(59),t(162),o(t(28)),o(t(153)),o(t(164)),o(t(91)),o(t(60)),o(t(62)),o(t(94)),o(t(161)),o(t(57)),o(t(163)),o(t(58)),o(t(97)),o(t(93)),o(t(159)),o(t(59)),o(t(162))},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(154),t(26),t(61),t(160),t(46),t(96),t(95),t(92),o(t(154)),o(t(26)),o(t(61)),o(t(160)),o(t(46)),o(t(96)),o(t(95)),o(t(92))},function(e,r,t){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),t(165),t(173),t(207),t(166),o(t(165)),o(t(173)),o(t(166))},function(e,t){e.exports=DevExpress.localization},function(e,t){e.exports=DevExpress.Analytics.Localization},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}]);