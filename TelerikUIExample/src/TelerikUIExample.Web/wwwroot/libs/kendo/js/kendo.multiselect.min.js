module.exports=function(e){function t(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return e[a].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}({0:function(e,t,i){e.exports=i(1368)},3:function(e,t){e.exports=function(){throw Error("define cannot be used indirect")}},1085:function(e,t){e.exports=require("./kendo.list")},1086:function(e,t){e.exports=require("./kendo.mobile.scroller")},1087:function(e,t){e.exports=require("./kendo.virtuallist")},1095:function(e,t){e.exports=require("./html/button")},1218:function(e,t){e.exports=require("./html/chip")},1219:function(e,t){e.exports=require("./html/chiplist")},1368:function(e,t,i){var a,s,n;!function(l,define){s=[i(1085),i(1086),i(1087),i(1218),i(1219),i(1095)],a=l,n="function"==typeof a?a.apply(t,s):a,!(void 0!==n&&(e.exports=n))}(function(){return function(e,t){function i(e,t){var i;if(null===e&&null!==t||null!==e&&null===t)return!1;if(i=e.length,i!==t.length)return!1;for(;i--;)if(e[i]!==t[i])return!1;return!0}var a=window.kendo,s=a.ui,n=s.List,l=a.html,o=e.extend({A:65},a.keys),r=a._activeElement,u=a.data.ObservableArray,c=e.proxy,d="id",p=".k-chip",h="accept",_="filter",f="rebind",g="open",m="close",v="change",T="progress",w="select",b="deselect",I="aria-disabled",x="aria-readonly",y="k-focus",V="k-selected",L="k-hidden",S="k-hover",C="k-disabled",k="k-no-click",D="disabled",O="readonly",A="off",B=".kendoMultiSelect",E="click"+B,F="keydown"+B,M="mouseenter"+B,P="mouseleave"+B,H=M+" "+P,K=/"/g,q=Array.isArray,R=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],N=n.extend({init:function(t,i){var s,l,o=this;o.ns=B,n.fn.init.call(o,t,i),o._optionsMap={},o._customOptions={},o._wrapper(),o._tagList(),o._input(),o._textContainer(),o._loader(),o._clearButton(),o._arrowButton(),o._tabindex(o.input),t=o.element.attr("multiple","multiple").hide(),i=o.options,i.placeholder||(i.placeholder=t.data("placeholder")),s=t.attr(d),s&&(o._tagID=s+"_tag_active",s+="_taglist",o.tagList.attr(d,s),o.input.attr("aria-describedby",s)),o._initialOpen=!0,o._aria(),o._ariaSetLive(),o._dataSource(),o._ignoreCase(),o._popup(),o._tagTemplate(),o.requireValueMapper(o.options),o._initList(),o._reset(),o._enable(),o._placeholder(),i.autoBind?o.dataSource.fetch():i.value&&o._preselect(i.value),l=e(o.element).parents("fieldset").is(":disabled"),l&&o.enable(!1),a.notify(o),o._toggleCloseVisibility(),o._applyCssClasses()},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:1,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete",noData:"No data found.",downArrow:"select"},enforceMinLength:!1,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,autoWidth:!1,popup:null,size:"medium",fillMode:"solid",rounded:"medium"},events:[g,m,v,w,b,"filtering","dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e,this._state="",this._dataSource(),this.persistTagList=!1,this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(e){var t=this._listOptions(e);n.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._tagTemplate(),this._placeholder(),this._clearButton(),this._arrowButton()},currentTag:function(e){var i=this;return e===t?i._currentTag:(i._currentTag&&(i._currentTag.removeClass(y).removeAttr(d),i._currentTag.find(".k-chip-icon").attr("aria-hidden",!0),i.input.removeAttr("aria-activedescendant")),e&&(e.addClass(y).attr(d,i._tagID),e.find(".k-chip-icon").removeAttr("aria-hidden"),i.input.attr("aria-activedescendant",i._tagID)),i._currentTag=e,t)},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var e=this,t=e.ns;clearTimeout(e._busy),clearTimeout(e._typingTimeout),e.wrapper.off(t),e.tagList.off(t),e.input.off(t),e._clear.off(t),n.fn.destroy.call(e)},_aria:function(){var e=this,t=e.ul[0].id;e.wrapper.attr({"aria-owns":t,"aria-controls":t}),e.ul.attr({"aria-live":e._isFilterEnabled()?"polite":"off","aria-multiselectable":!0}),e.input.attr("aria-controls",t),e._ariaLabel()},_activateItem:function(){this.popup.visible()&&n.fn._activateItem.call(this),this.currentTag(null)},_listOptions:function(t){var i=this,s=n.fn._listOptions.call(i,e.extend(t,{selectedItemChange:c(i._selectedItemChange,i),selectable:"multiple"})),l=this.options.itemTemplate||this.options.template,o=s.itemTemplate||l||s.template;return o||(o="#:"+a.expr(s.dataTextField,"data")+"#"),s.template=o,s},_setListValue:function(){n.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(e){var i,a=this.dataSource.flatView(),s=this._optionsMap,n=this._value;for(this._state===f&&(this._state=""),i=0;i<e.added.length;i++)if(s[n(e.added[i].dataItem)]===t){this._render(a);break}this._selectValue(e.added,e.removed)},_selectedItemChange:function(e){var t,i,a=e.items;for(i=0;i<a.length;i++)t=a[i],this.tagList.children(p).eq(t.index).children("span").first().html(this.tagTextTemplate(t.item))},_wrapperMousedown:function(t){var i=this,s="input"!==t.target.nodeName.toLowerCase(),n=e(t.target),l=n.closest(".k-multiselect-toggle-button, .k-chip").children(".k-i-arrow-s")[0],o=n.closest(".k-i-x")[0];!s||o&&a.support.mobileOS||!t.cancelable||t.preventDefault(),o||(l&&i.popup.visible()?i.toggle(!1):(i.input[0]!==r()&&s&&i.input.trigger("focus"),1!==i.options.minLength||i.popup.visible()||i.open()))},_inputFocus:function(){this._placeholder(!1,!0),this.wrapper.addClass(y)},_inputFocusout:function(){var e=this;clearTimeout(e._typingTimeout),e.wrapper.removeClass(y),e._placeholder(!e.listView.selectedDataItems()[0],!0),e.close(),e._state===_&&(e._state=h,e.listView.skipUpdate(!0)),e.listView.bound()&&e.listView.isFiltered()&&(e.persistTagList=!0,e._clearFilter()),e.element.trigger("blur")},_removeTag:function(e,i){var a,s,n,l=this,o=l._state,r=e.index(),u=l.listView,c=u.value()[r],d=l.listView.selectedDataItems()[r],p=l._customOptions[c],f=u.element[0].children;return l.trigger(b,{dataItem:d,item:e})?(l._close(),t):(p!==t||o!==h&&o!==_||(p=l._optionsMap[c]),n=function(){l.currentTag(null),i&&l._change(),l._close()},p===t&&u.select().length?(l.persistTagList=!1,u.select(u.select()[r]).done(n)):(a=l.element[0].children[p],a&&(a.selected=!1),u.removeAt(r),u._removedAddedIndexes&&u._removedAddedIndexes.splice(r,1),s=f[p],s&&f[p].classList.remove("k-selected"),"single"!==l.options.tagMode?e.remove():l._updateTagListHTML(),n()),t)},_tagListClick:function(t){t.preventDefault(),t.stopPropagation();var i=e(t.currentTarget);i.is(".k-i-x")&&this._removeTag(i.closest(p),!0)},_clearValue:function(){var t=this;"single"===t.options.tagMode?t._clearSingleTagValue():t.tagList.children(p).each(function(i,a){t._removeTag(e(a),!1)}),t.input.val(""),t._search(),t._change(),t.focus(),t._hideClear(),t._state===_&&(t._state=h)},_clearSingleTagValue:function(){var e,i=this,a=i.dataItems(),s=i.tagList.children(p),n=i.persistTagList;for(e=0;e<a.length;e+=1)if(i.trigger(b,{dataItem:a[e],item:s.first()}))return i._close(),t;n&&(i.persistTagList=!1),i.listView.value([]),i.persistTagList=n},_focusHandler:function(){var e=this.input,t=r(),i=e[0]===t;i||this.input.trigger("focus")},_editable:function(t){var i=this,a=t.disable,s=t.readonly,n=i.wrapper.off(B),l=i.tagList.off(B),o=i.input.off(B);s||a?(n.toggleClass(C,a).toggleClass(k,s),o.attr(D,a).attr(O,s).attr(I,a).attr(x,s),i.element.prop(D,a)):(n.removeClass(C).removeClass(k).on(H,i._toggleHover).on("mousedown"+B+" touchend"+B,c(i._wrapperMousedown,i)).on(E,c(i._focusHandler,i)),i.input.on(F,c(i._keydown,i)).on("paste"+B,c(i._search,i)).on("input"+B,c(i._search,i)).on("focus"+B,c(i._inputFocus,i)).on("focusout"+B,c(i._inputFocusout,i)),i._clear.on(E+" touchend"+B,c(i._clearValue,i)),o.prop(D,!1).prop(O,!1).attr(I,!1).attr(x,!1),i.element.prop(D,!1),l.on(M,p,function(){e(this).addClass(S)}).on(P,p,function(){e(this).removeClass(S)}).on(E+" touchend"+B,".k-chip .k-icon",c(i._tagListClick,i)))},_close:function(){var e=this;e.options.autoClose?e.close():e.popup.position()},_filterSource:function(e,t){t||(t=this._retrieveData),this._retrieveData=!1,n.fn._filterSource.call(this,e,t)},close:function(){this._activeItem=null,this.input.removeAttr("aria-activedescendant"),this.popup.close()},open:function(){var t,i=this,a=i.input.val().toLowerCase(),s=i.listView.dataSource.filter();s&&s.filters.length>0&&(t=(""+(s.filters[0].value||"")).toLowerCase()),i._request&&(i._retrieveData=!1),i._retrieveData||!i.listView.bound()||i._state===h&&a!==t?(i._open=!0,i._state=f,i.listView.skipUpdate(!0),i.persistTagList=!(i._initialOpen&&!i.listView.bound()),i._filterSource(),i._focusItem()):i._allowOpening()&&(!i._initialOpen||i.options.autoBind||i.options.virtual||!i.options.value||e.isPlainObject(i.options.value[0])||i.value(i.value()||i._initialValues),i.popup._hovered=!0,i._initialOpen=!1,i.popup.open(),i._focusItem())},toggle:function(e){e=e!==t?e:!this.popup.visible(),this[e?g:m]()},refresh:function(){this.listView.refresh()},_listBound:function(){var e=this,t=e.dataSource.flatView();e._render(t),e._renderFooter(),e._renderNoData(),e._toggleNoData(!t.length),e._resizePopup(),e._open&&(e._open=!1,e.toggle(e._allowOpening())),e.popup.position(),e._updateItemFocus(),e._touchScroller&&e._touchScroller.reset(),e._hideBusy(),e.trigger("dataBound")},_updateItemFocus:function(){var e=this,i=e.dataSource.flatView(),a=e.listView.skip(),s=a===t||0===a;i.length&&s&&(e.options.highlightFirst?e.listView.focusFirst():e.listView.focus(-1))},_inputValue:function(){var e=this,t=e.input.val();return e.options.placeholder===t&&(t=""),t},value:function(e){var i=this,a=i.listView,s=a.value().slice(),n=i.options.maxSelectedItems,l=a.bound()&&a.isFiltered();return e===t?s:(i.persistTagList=!1,i.requireValueMapper(i.options,e),e=i._normalizeValues(e),null!==n&&e.length>n&&(e=e.slice(0,n)),l&&i._clearFilter(),a.value(e),i._old=i._valueBeforeCascade=e.slice(),l||i._fetchData(),i._toggleCloseVisibility(),t)},_preselect:function(t,i){var s=this;q(t)||t instanceof a.data.ObservableArray||(t=[t]),(e.isPlainObject(t[0])||t[0]instanceof a.data.ObservableObject||!s.options.dataValueField)&&(s.dataSource.data(t),s.value(i||s._initialValues),s._retrieveData=!0)},_setOption:function(e,t){var i=this.element[0].children[this._optionsMap[e]];i&&(i.selected=t)},_fetchData:function(){var e=this,t=!!e.dataSource.view().length,i=0===e.listView.value().length;i||e._request||(e._retrieveData||!e._fetch&&!t)&&(e._fetch=!0,e._retrieveData=!1,e.dataSource.read().done(function(){e._fetch=!1}))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var e=this,t=e.element,i=e.options,s=i.dataSource||{};s=q(s)?{data:s}:s,s.select=t,s.fields=[{field:i.dataTextField},{field:i.dataValueField}],e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=c(e._showBusy,e),e._errorHandler=c(e._hideBusy,e)),e.dataSource=a.data.DataSource.create(s).bind(T,e._progressHandler).bind("error",e._errorHandler)},_reset:function(){var t=this,i=t.element,a=i.attr("form"),s=a?e("#"+a):i.closest("form");s[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initialValues),t._placeholder()})},t._form=s.on("reset",t._resetHandler))},_initValue:function(){var e=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(e)},_normalizeValues:function(t){var i=this;return null===t?t=[]:t&&e.isPlainObject(t)?t=[i._value(t)]:t&&e.isPlainObject(t[0])?t=e.map(t,function(e){return i._value(e)}):q(t)||t instanceof u?q(t)&&(t=t.slice()):t=[t],t},_change:function(){var e=this,t=e.value();i(t,e._old)||(e._old=t.slice(),e.trigger(v),e.element.trigger(v)),e.popup.position(),e._toggleCloseVisibility()},_click:function(e){var t=this,i=e.item;e.preventDefault(),t._select(i).done(function(){t._activeItem=i,t._change(),t._close()})},_getActiveItem:function(){return this._activeItem||e(this.listView.items()[this._getSelectedIndices().length-1])||this.listView.focus()},_getSelectedIndices:function(){return this.listView._selectedIndices||this.listView._selectedIndexes},_keydown:function(i){var s,n,l,r,u=this,c=i.keyCode,d=u._currentTag,_=u.listView,f=u.input.val(),g=a.support.isRtl(u.wrapper),m=u.popup.visible(),v=0;if(c!==o.ENTER&&(this._multipleSelection=!1),c===o.DOWN){if(i.preventDefault(),!m)return u.open(),_.focus()||_.focusFirst(),t;_.focus()?(!u._activeItem&&i.shiftKey&&(u._activeItem=_.focus(),v=-1),s=_.getElementIndex(u._getActiveItem().first()),_.focusNext(),_.focus()?i.shiftKey&&!u.options.virtual&&(this._multipleSelection=!0,u._selectRange(s,_.getElementIndex(_.focus().first())+v)):_.focusLast()):_.focusFirst()}else if(c===o.UP)m&&(!u._activeItem&&i.shiftKey&&(u._activeItem=_.focus(),v=1),s=_.getElementIndex(u._getActiveItem().first()),_.focusPrev(),_.focus()?i.shiftKey&&!u.options.virtual&&(this._multipleSelection=!0,u._selectRange(s,_.getElementIndex(_.focus().first())+v)):u.close()),i.preventDefault();else if(c===o.LEFT&&!g||c===o.RIGHT&&g)f||(d=d?d.prev(p):u.tagList.children(p).last(),d[0]&&u.currentTag(d));else if(c===o.RIGHT&&!g||c===o.LEFT&&g)!f&&d&&(d=d.next(p),u.currentTag(d[0]?d:null));else if(i.ctrlKey&&!i.altKey&&c===o.A&&m&&!u.options.virtual)this._multipleSelection=!0,this._getSelectedIndices().length===_.items().length&&(u._activeItem=null),_.items().length&&u._selectRange(0,_.items().length-1);else if(c===o.ENTER&&m){if(!_.focus())return;if(i.preventDefault(),this._multipleSelection&&(this._multipleSelection=!1,_.focus().hasClass(V)))return u._close(),t;u._select(_.focus()).done(function(){u._change(),u._close()})}else if(c===o.SPACEBAR&&i.ctrlKey&&m)u._activeItem&&_.focus()&&_.focus()[0]===u._activeItem[0]&&(u._activeItem=null),e(_.focus()).hasClass(V)||(u._activeItem=_.focus()),u._select(_.focus()).done(function(){u._change()}),i.preventDefault();else if(c===o.SPACEBAR&&i.shiftKey&&m&&!u.options.virtual)n=_.getElementIndex(u._getActiveItem()),l=_.getElementIndex(_.focus()),n!==t&&l!==t&&u._selectRange(n,l),i.preventDefault();else if(c===o.ESC)m?i.preventDefault():(u.tagList.children(p).each(function(t,i){u._removeTag(e(i),!1)}),u._change()),u.close();else if(c===o.HOME)m?_.focus()?(i.ctrlKey&&i.shiftKey&&!u.options.virtual&&u._selectRange(_.getElementIndex(_.focus()[0]),0),_.focusFirst()):u.close():f||(d=u.tagList.children(p).first()[0],d&&u.currentTag(e(d)));else if(c===o.END)m?_.focus()?(i.ctrlKey&&i.shiftKey&&!u.options.virtual&&u._selectRange(_.getElementIndex(_.focus()[0]),_.element.children().length-1),_.focusLast()):u.close():f||(d=u.tagList.children(p).last()[0],d&&u.currentTag(e(d)));else if(c!==o.DELETE&&c!==o.BACKSPACE||f)!u.popup.visible()||c!==o.PAGEDOWN&&c!==o.PAGEUP?(clearTimeout(u._typingTimeout),u._search()):(i.preventDefault(),r=c===o.PAGEDOWN?1:-1,_.scrollWith(r*_.screenHeight()));else{if(u._state=h,"single"===u.options.tagMode)return u._clearSingleTagValue(),u._change(),u._close(),t;c!==o.BACKSPACE||d||(d=u.tagList.children(p).last()),d&&d[0]&&u._removeTag(d,!0)}},_hideBusy:function(){var e=this;clearTimeout(e._busy),e.input.attr("aria-busy",!1),e._loading.addClass(L),e._request=!1,e._busy=null,e._toggleCloseVisibility()},_showBusyHandler:function(){this.input.attr("aria-busy",!0),this._loading.removeClass(L),this._hideClear()},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(c(e._showBusyHandler,e),100))},_placeholder:function(e,i){var s=this,n=s.input,l=r(),o=s.options.placeholder,u=n.val(),c=n[0]===l,d=u.length;c&&!s.options.autoClose&&u!==o||(d=0,u=""),e===t&&(e=!1,n[0]!==l&&(e=!s.listView.selectedDataItems()[0])),s._prev=u,n.toggleClass("k-readonly",e).val(e?o:u),c&&!i&&a.caret(n[0],d,d)},_option:function(e,i,s){var n="<option";return e!==t&&(e+="",e.indexOf('"')!==-1&&(e=e.replace(K,"&quot;")),n+=' value="'+e+'"'),s&&(n+=" selected"),n+=">",i!==t&&(n+=a.htmlEncode(i)),n+="</option>"},_render:function(e){var t,i,a,s,n,l,o=this.listView.selectedDataItems(),r=this.listView.value(),u=e.length,c="";for(r.length!==o.length&&(o=this._buildSelectedItems(r)),n={},l={},s=0;s<u;s++)i=e[s],a=this._value(i),t=this._selectedItemIndex(a,o),t!==-1&&o.splice(t,1),l[a]=s,c+=this._option(a,this._text(i),t!==-1);if(o.length)for(s=0;s<o.length;s++)i=o[s],a=this._value(i),n[a]=u,l[a]=u,u+=1,c+=this._option(a,this._text(i),!0);this._customOptions=n,this._optionsMap=l,this.element.html(c)},_buildSelectedItems:function(e){var t,i,a=this.options.dataValueField,s=this.options.dataTextField,n=[];for(i=0;i<e.length;i++)t={},t[a]=e[i],t[s]=e[i],n.push(t);return n},_selectedItemIndex:function(e,t){for(var i=this._value,a=0;a<t.length;a++)if(e===i(t[a]))return a;return-1},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout(function(){var t=e._inputValue();e._prev!==t&&(e._prev=t,e.search(t),e._toggleCloseVisibility())},e.options.delay)},_toggleCloseVisibility:function(){this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder?this._showClear():this._hideClear()},_allowOpening:function(){return this._allowSelection()&&n.fn._allowOpening.call(this)},_allowSelection:function(){var e=this.options.maxSelectedItems;return null===e||e>this.listView.value().length},_angularTagItems:function(t){var i=this;i.angular(t,function(){return{elements:i.tagList[0].children,data:e.map(i.dataItems(),function(e){return{dataItem:e}})}})},updatePersistTagList:function(e,t){this.persistTagList.added&&this.persistTagList.added.length===t.length&&this.persistTagList.removed&&this.persistTagList.removed.length===e.length?this.persistTagList=!1:(this.listView._removedAddedIndexes=this._old.slice(),this.persistTagList={added:e,removed:t})},_selectValue:function(e,i){var a,s,n,l=this,o=l.dataSource.total(),r=l.tagList,u=l._value;if(this.persistTagList)return this.updatePersistTagList(e,i),t;if(l._angularTagItems("cleanup"),"multiple"===l.options.tagMode){for(n=i.length-1;n>-1;n--)a=i[n],r.children(p).length&&(r[0].removeChild(r[0].children[a.position]),l._setOption(u(a.dataItem),!1));for(n=0;n<e.length;n++)s=e[n],l.input.before(l.tagTemplate(s.dataItem)),l._setOption(u(s.dataItem),!0)}else{for((!l._maxTotal||l._maxTotal<o)&&(l._maxTotal=o),this._updateTagListHTML(),n=i.length-1;n>-1;n--)l._setOption(u(i[n].dataItem),!1);for(n=0;n<e.length;n++)l._setOption(u(e[n].dataItem),!0)}l._angularTagItems("compile"),l._placeholder()},_updateTagListHTML:function(){var t=this,i=t.value(),a=t.dataSource.total(),s=t.tagList;s.children(p).each(function(t,i){e(i).remove()}),i.length&&t.input.before(t.tagTemplate({values:i,dataItems:t.dataItems(),maxTotal:t._maxTotal,currentTotal:a}))},_select:function(t){var i,a,s,n,l=e.Deferred().resolve();return t?(i=this,a=i.listView,s=a.dataItemByIndex(a.getElementIndex(t)),n=t.hasClass("k-selected"),i._state===f&&(i._state=""),i._allowSelection()||n?i.trigger(n?b:w,{dataItem:s,item:t})?(i._close(),l):(i.persistTagList=!1,a.select(t).done(function(){i._placeholder(),i._state===_&&(i._state=h,a.skipUpdate(!0))})):l):l},_selectRange:function(i,a){var s,n,l=this,o=this.listView,r=this.options.maxSelectedItems,u=this._getSelectedIndices().slice(),c=[],d=function(t){o.select(t).done(function(){t.forEach(function(t){var i=o.dataItemByIndex(t),a=o.element.children()[t],s=e(a).hasClass("k-selected");l.trigger(s?w:b,{dataItem:i,item:e(a)})}),l._change()})};if(u.length-1===a-i)return d(u);if(i<a)for(s=i;s<=a;s++)c.push(s);else for(s=i;s>=a;s--)c.push(s);for(null!==r&&c.length>r&&(c=c.slice(0,r)),s=0;s<c.length;s++)n=c[s],this._getSelectedIndices().indexOf(n)==-1?u.push(n):u.splice(u.indexOf(n),1);return u.length?(l.persistTagList=!1,d(u)):t},_input:function(){var t=this,i=t.element,a=i[0].accessKey,s=t.tagList.children("input.k-input-inner"),n="none"===this.options.filter?"none":"list";s[0]||(s=e('<input class="k-input-inner" />').appendTo(t.tagList)),i.removeAttr("accesskey"),t._focused=t.input=s.attr({autocomplete:A,role:"textbox",title:i[0].title,"aria-autocomplete":n}),a&&t._focused.attr("accesskey",a)},_tagList:function(){var t=this,i=t.options,a=t.wrapper.children(".k-input-values");a[0]||(a=e(l.renderChipList('<div unselectable="on" class="k-input-values k-selection-multiple" />',e.extend({},i))).appendTo(t.wrapper)),t.tagList=a},_tagTemplate:function(){var t,i=this,s=i.options,n=s.tagTemplate,o=s.dataSource,r="multiple"===s.tagMode,u=s.messages.singleTag;i.element[0].length&&!o&&(s.dataTextField=s.dataTextField||"text",s.dataValueField=s.dataValueField||"value"),t=r?a.template("#:"+a.expr(s.dataTextField,"data")+"#",{useWithBlock:!1}):a.template("#:values.length# "+u),i.tagTextTemplate=n=n?a.template(n):t,i.tagTemplate=function(t){return l.renderChip('<span unselectable="on">'+n(t)+"</span>",e.extend({},s,{fillMode:"solid",rounded:"medium",themeColor:"base",attr:{unselectable:"on"},removable:r,removableAttr:{unselectable:"on","aria-hidden":!0,"aria-label":i.options.messages.deleteTag,title:i.options.messages.deleteTag},icon:r?"":"arrow-s",iconAttr:{unselectable:"on","aria-hidden":!0,"aria-label":"open"}}))}},_loader:function(){this._loading=e('<span class="k-icon k-i-loading '+L+'"></span>').insertAfter(this.tagList)},_clearButton:function(){n.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.tagList),this.wrapper.addClass("k-multiselect-clearable"))},_arrowButton:function(){var t=this.element,i=this.options.messages.downArrow,a=e(l.renderButton('<button type="button" title="'+i+'" class="k-input-button k-multiselect-toggle-button"></button>',e.extend({},this.options,{icon:"arrow-s"})));this._arrow&&(this._arrow.remove(),this._arrow=null),this.options.downArrow&&(this._arrow=a.attr({tabIndex:-1}),t.id&&this._arrow.attr("aria-controls",this.ul[0].id),this._arrow.appendTo(this.wrapper))},_textContainer:function(){var t=a.getComputedStyles(this.input[0],R);t.position="absolute",t.visibility="hidden",t.top=-3333,t.left=-3333,this._span=e("<span/>").css(t).appendTo(this.wrapper)},_wrapper:function(){var e=this,t=e.element,i=t.parent("span.k-multiselect");i[0]||(i=t.wrap('<span class="k-multiselect k-input" unselectable="on" role="combobox" />').parent(),i[0].style.cssText=t[0].style.cssText,i[0].title=t[0].title),e.wrapper=i.addClass(t[0].className).removeClass("input-validation-error").css("display","").attr({"aria-expanded":!1})},_ariaSetLive:function(){var e=this;e.ul.attr("aria-live",e._isFilterEnabled()?"polite":"off")},_closeHandler:function(e){this.trigger(m)?e.preventDefault():(this.wrapper.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_openHandler:function(e){this._adjustListWidth(),this.trigger(g)?e.preventDefault():(this.wrapper.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))}});s.plugin(N),a.cssProperties.registerPrefix("MultiSelect","k-input-"),a.cssProperties.registerValues("MultiSelect",[{prop:"rounded",values:a.cssProperties.roundedValues.concat([["full","full"]])}])}(window.kendo.jQuery),window.kendo},i(3))}});